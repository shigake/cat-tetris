<!DOCTYPE html>
<html>
<head>
  <title>Cat Tetris - Icon Generator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a2e; color: white; }
    .icon-grid { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
    .icon-item { text-align: center; background: #16213e; padding: 15px; border-radius: 10px; }
    .icon-item canvas { border: 1px solid #444; border-radius: 8px; }
    .icon-item p { margin: 8px 0; }
    button { background: #764ba2; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; font-size: 14px; }
    button:hover { background: #667eea; }
    .download-all { font-size: 18px; padding: 15px 30px; margin: 20px 0; }
    h1 { color: #FFB6C1; }
    .status { color: #4ade80; margin-top: 10px; }
    .maskable canvas { border: 2px solid #FFB6C1; }
  </style>
</head>
<body>
  <h1>üê± Cat Tetris - Icon Generator</h1>
  <p>Click "Download All" to get all icon PNGs.</p>
  <p>Copy the downloaded files to <code>public/icons/</code></p>
  <button class="download-all" onclick="downloadAll()">üì¶ Download All Icons</button>
  <button class="download-all" onclick="downloadAllMaskable()">üì¶ Download All Maskable Icons</button>
  <div class="status" id="status"></div>
  
  <h2>Standard Icons (any)</h2>
  <div class="icon-grid" id="icons"></div>
  
  <h2>Maskable Icons (with padding)</h2>
  <div class="icon-grid maskable" id="maskable-icons"></div>

  <script>
    const svgDataUrl = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4NCiAgPCEtLSBDYWJlw6dhIGRvIGdhdG8gLS0+DQogIDxjaXJjbGUgY3g9IjUwIiBjeT0iNDUiIHI9IjI1IiBmaWxsPSIjRkZCNkMxIiBzdHJva2U9IiNGRjY5QjQiIHN0cm9rZS13aWR0aD0iMiIvPg0KICANCiAgPCEtLSBPcmVsaGFzIC0tPg0KICA8cG9seWdvbiBwb2ludHM9IjMwLDI1IDM1LDE1IDQ1LDI1IiBmaWxsPSIjRkZCNkMxIiBzdHJva2U9IiNGRjY5QjQiIHN0cm9rZS13aWR0aD0iMSIvPg0KICA8cG9seWdvbiBwb2ludHM9IjcwLDI1IDY1LDE1IDU1LDI1IiBmaWxsPSIjRkZCNkMxIiBzdHJva2U9IiNGRjY5QjQiIHN0cm9rZS13aWR0aD0iMSIvPg0KICANCiAgPCEtLSBPbGhvcyAtLT4NCiAgPGNpcmNsZSBjeD0iNDIiIGN5PSI0MCIgcj0iMyIgZmlsbD0iIzAwMCIvPg0KICA8Y2lyY2xlIGN4PSI1OCIgY3k9IjQwIiByPSIzIiBmaWxsPSIjMDAwIi8+DQogIA0KICA8IS0tIE5hcml6IC0tPg0KICA8cG9seWdvbiBwb2ludHM9IjUwLDQ1IDQ4LDUwIDUyLDUwIiBmaWxsPSIjRkY2OUI0Ii8+DQogIA0KICA8IS0tIEJvY2EgLS0+DQogIDxwYXRoIGQ9Ik0gNDUgNTUgUSA1MCA2MCA1NSA1NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz4NCiAgDQogIDwhLS0gQmlnb2RlcyAtLT4NCiAgPGxpbmUgeDE9IjI1IiB5MT0iNDUiIHgyPSIzNSIgeTI9IjQ1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMSIvPg0KICA8bGluZSB4MT0iMjUiIHkxPSI0OCIgeDI9IjM1IiB5Mj0iNDgiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogIDxsaW5lIHgxPSI3NSIgeTE9IjQ1IiB4Mj0iNjUiIHkyPSI0NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiLz4NCiAgPGxpbmUgeDE9Ijc1IiB5MT0iNDgiIHgyPSI2NSIgeTI9IjQ4IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMSIvPg0KICANCiAgPCEtLSBDb3JwbyAtLT4NCiAgPGVsbGlwc2UgY3g9IjUwIiBjeT0iNzUiIHJ4PSIyMCIgcnk9IjE1IiBmaWxsPSIjRkZCNkMxIiBzdHJva2U9IiNGRjY5QjQiIHN0cm9rZS13aWR0aD0iMiIvPg0KICANCiAgPCEtLSBDYXVkYSAtLT4NCiAgPHBhdGggZD0iTSA3MCA3NSBRIDg1IDY1IDgwIDg1IFEgNzUgOTUgNzAgODUiIGZpbGw9IiNGRkI2QzEiIHN0cm9rZT0iI0ZGNjlCNCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQo8L3N2Zz4g';
    const sizes = [48,72,96,128,144,192,384,512];
    const canvases = {};
    const maskableCanvases = {};

    function generateIcon(size, container, isMaskable) {
      const item = document.createElement('div');
      item.className = 'icon-item';
      
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');
      
      const img = new Image();
      img.onload = () => {
        if (isMaskable) {
          // Maskable: fill background + 10% safe zone padding
          ctx.fillStyle = '#764ba2';
          ctx.fillRect(0, 0, size, size);
          const padding = size * 0.1;
          ctx.drawImage(img, padding, padding, size - padding * 2, size - padding * 2);
          maskableCanvases[size] = canvas;
        } else {
          ctx.drawImage(img, 0, 0, size, size);
          canvases[size] = canvas;
        }
      };
      img.src = svgDataUrl;
      
      const label = document.createElement('p');
      label.textContent = size + 'x' + size;
      
      const btn = document.createElement('button');
      btn.textContent = 'üíæ Download';
      btn.onclick = () => {
        const link = document.createElement('a');
        const prefix = isMaskable ? 'maskable-icon-' : 'icon-';
        link.download = prefix + size + 'x' + size + '.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      };
      
      item.appendChild(canvas);
      item.appendChild(label);
      item.appendChild(btn);
      container.appendChild(item);
    }

    async function downloadAll() {
      const status = document.getElementById('status');
      status.textContent = 'Generating...';
      
      await new Promise(r => setTimeout(r, 500));
      
      for (const size of sizes) {
        const canvas = canvases[size];
        if (canvas) {
          const link = document.createElement('a');
          link.download = 'icon-' + size + 'x' + size + '.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
          await new Promise(r => setTimeout(r, 200));
        }
      }
      status.textContent = '‚úÖ All standard icons downloaded!';
    }

    async function downloadAllMaskable() {
      const status = document.getElementById('status');
      status.textContent = 'Generating maskable...';
      
      await new Promise(r => setTimeout(r, 500));
      
      for (const size of sizes) {
        const canvas = maskableCanvases[size];
        if (canvas) {
          const link = document.createElement('a');
          link.download = 'maskable-icon-' + size + 'x' + size + '.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
          await new Promise(r => setTimeout(r, 200));
        }
      }
      status.textContent = '‚úÖ All maskable icons downloaded!';
    }

    // Generate all
    const iconsDiv = document.getElementById('icons');
    const maskableDiv = document.getElementById('maskable-icons');
    sizes.forEach(s => generateIcon(s, iconsDiv, false));
    sizes.forEach(s => generateIcon(s, maskableDiv, true));
  </script>
</body>
</html>