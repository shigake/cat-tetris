import{w as v,u as j,b as p,j as e,m as d}from"./index-84426587.js";function f({onClose:r,onStartGame:m}){const{modes:l,currentMode:c,modeStats:h,loading:g,selectMode:b}=v(),{t}=j(),{selectedIndex:u}=p({itemCount:(l==null?void 0:l.length)||0,columns:2,onConfirm:s=>{const a=l[s];a&&n(a.id)},onBack:r,active:!0,wrap:!0}),n=s=>{b(s),setTimeout(()=>{m(),r()},300)},o=s=>{const a=Math.floor(s/60),i=s%60;return`${a}:${i.toString().padStart(2,"0")}`};return g?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"text-white text-xl",children:t("gameModes.loading")})}):!l||l.length===0?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-red-900/90 text-white p-6 rounded-lg",children:[e.jsx("p",{className:"text-xl",children:t("gameModes.errorLoading")}),e.jsx("button",{onClick:r,className:"mt-4 bg-white text-black px-4 py-2 rounded",children:t("common.close")})]})}):e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:e.jsxs(d.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gradient-to-br from-blue-900/95 to-indigo-900/95 rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2 border-white/20 shadow-2xl",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white flex items-center gap-2",children:t("gameModes.title")}),e.jsx("p",{className:"text-white/60 text-sm mt-1",children:t("gameModes.subtitle")})]}),e.jsx("button",{onClick:r,className:"text-white/60 hover:text-white text-2xl transition-colors",children:"âœ•"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map((s,a)=>{const i=h[s.id],x=(c==null?void 0:c.id)===s.id;return e.jsxs(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:a*.1},className:`bg-black/40 rounded-lg p-5 border-2 cursor-pointer transition-all hover:scale-105 ${x?"border-green-500 shadow-lg shadow-green-500/30":"border-white/10 hover:border-white/30"} ${a===u?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-blue-900":""}`,onClick:()=>n(s.id),children:[x&&e.jsx("div",{className:"absolute top-3 right-3 bg-green-600 text-white text-xs px-2 py-1 rounded-full font-bold",children:t("gameModes.selected")}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-5xl",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-bold text-xl",children:s.name}),e.jsx("p",{className:"text-white/60 text-sm",children:s.description})]})]}),e.jsx("div",{className:"bg-black/30 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.rules.lineGoal&&e.jsx("div",{className:"text-white/80",children:t("gameModes.goalLines",{n:s.rules.lineGoal})}),s.rules.timeLimit&&e.jsx("div",{className:"text-white/80",children:t("gameModes.timeLimit",{time:o(s.rules.timeLimit)})}),s.rules.gameOver!==void 0&&e.jsx("div",{className:"text-white/80",children:s.rules.gameOver?t("gameModes.gameOverYes"):t("gameModes.gameOverNo")}),s.rules.speedIncrease!==void 0&&e.jsx("div",{className:"text-white/80",children:s.rules.speedIncrease?t("gameModes.speedUp"):t("gameModes.speedFixed")}),s.rules.startLevel&&e.jsx("div",{className:"text-white/80",children:t("gameModes.startLevel",{n:s.rules.startLevel})}),s.rules.relaxed&&e.jsx("div",{className:"text-white/80",children:t("gameModes.relaxed")})]})}),i&&i.gamesPlayed>0&&e.jsxs("div",{className:"bg-black/30 rounded-lg p-3",children:[e.jsx("div",{className:"text-white/60 text-xs mb-2",children:t("gameModes.yourRecords")}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-yellow-400 font-bold",children:i.bestScore.toLocaleString()}),e.jsx("div",{className:"text-white/40 text-xs",children:t("gameModes.bestScore")})]}),s.rules.lineGoal&&i.bestTime>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-green-400 font-bold",children:o(i.bestTime)}),e.jsx("div",{className:"text-white/40 text-xs",children:t("gameModes.bestTime")})]}),!s.rules.lineGoal&&e.jsxs("div",{children:[e.jsx("div",{className:"text-blue-400 font-bold",children:i.bestLines}),e.jsx("div",{className:"text-white/40 text-xs",children:t("gameModes.mostLines")})]})]}),e.jsx("div",{className:"text-white/40 text-xs mt-2",children:t("gameModes.gamesPlayed",{n:i.gamesPlayed})})]}),(!i||i.gamesPlayed===0)&&e.jsx("div",{className:"bg-black/30 rounded-lg p-3 text-center",children:e.jsx("div",{className:"text-white/40 text-sm",children:t("gameModes.noRecords")})}),e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full mt-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-3 rounded-lg transition-colors",children:t("gameModes.play")})]},s.id)})})]})})}export{f as default};
