import{r as a,d as S,P as F,e as G,S as $,f as W,j as e,m as C,u as T,H as z,T as E,N as _,i as q,y as X,b as V,A as U}from"./index-84426587.js";function J(n){const[t,g]=a.useState(null),[s,c]=a.useState(!1),l=a.useRef(null),p=a.useRef(0);a.useEffect(()=>{if(!n){g(null),c(!1),l.current=null,p.current=0;return}const i=new S(new F,new G,null,new $);return i.initializeGame(),i.isPlaying=!0,p.current=0,l.current=i,g(i.getGameState()),c(!0),()=>{l.current=null,c(!1)}},[n]);const x=a.useRef(0),N=a.useRef(null);a.useEffect(()=>{if(!l.current||!s)return;x.current=0;const i=m=>{var o;x.current||(x.current=m);const b=m-x.current;x.current=m;const v=l.current;if(v){v.isPlaying&&!v.isPaused&&!v.gameOver&&v.updateGame(b);const y=v.getGameState(),P=((o=y.score)==null?void 0:o.combo)||0;P>p.current&&(p.current=P),g(y)}N.current=requestAnimationFrame(i)};return N.current=requestAnimationFrame(i),()=>{N.current&&cancelAnimationFrame(N.current)}},[s]);const u={movePiece:a.useCallback(i=>{var m;(m=l.current)==null||m.movePiece(i)},[]),rotatePiece:a.useCallback(()=>{var i;(i=l.current)==null||i.rotatePiece()},[]),rotatePieceLeft:a.useCallback(()=>{var i,m;(m=(i=l.current)==null?void 0:i.rotatePieceLeft)==null||m.call(i)},[]),hardDrop:a.useCallback(()=>{var i;(i=l.current)==null||i.hardDrop()},[]),holdPiece:a.useCallback(()=>{var i;(i=l.current)==null||i.holdPiece()},[]),pause:a.useCallback(()=>{var i;(i=l.current)==null||i.pause()},[]),resume:a.useCallback(()=>{var i;(i=l.current)==null||i.resume()},[]),restart:a.useCallback(()=>{l.current&&(l.current.restart(),p.current=0)},[]),getDropPreview:a.useCallback(()=>{var i;try{return((i=l.current)==null?void 0:i.getDropPreview())||null}catch{return null}},[])},w=a.useCallback(()=>{var i,m,b,v,o;return t?{score:((i=t.score)==null?void 0:i.points)||0,level:((m=t.score)==null?void 0:m.level)||1,linesCleared:((b=t.score)==null?void 0:b.lines)||0,currentPiece:t.currentPiece,hasCurrentPiece:!!t.currentPiece,heldPiece:t.heldPiece,hasUsedHold:!!t.heldPiece,currentCombo:((v=t.score)==null?void 0:v.combo)||0,maxCombo:p.current,backToBackActive:t.backToBack||!1,board:t.board,gameOver:t.gameOver,isPlaying:t.isPlaying,isPaused:t.isPaused,tSpins:((o=t.score)==null?void 0:o.tSpins)||0}:null},[t]);return{gameState:t,actions:u,isInitialized:s,getValidationState:w}}const A={1:{difficulty:"easy",forceHold:!1,comboBoost:!1,label:"Movendo peÃ§as..."},2:{difficulty:"easy",forceHold:!0,comboBoost:!1,label:"Usando Hold (C)..."},3:{difficulty:"medium",forceHold:!1,comboBoost:!1,label:"Planejando jogadas..."},4:{difficulty:"medium",forceHold:!1,comboBoost:!0,label:"Buscando combos..."},5:{difficulty:"hard",forceHold:!1,comboBoost:!1,label:"Montando Tetris..."},6:{difficulty:"expert",forceHold:!0,comboBoost:!1,label:"Tentando T-Spins..."},7:{difficulty:"expert",forceHold:!0,comboBoost:!1,label:"Buscando Back-to-Back..."},8:{difficulty:"hard",forceHold:!0,comboBoost:!1,label:"Jogando no mÃ¡ximo..."}};function K(n,t){const[g,s]=a.useState(null),[c,l]=a.useState(!1),[p,x]=a.useState(!1),[N,u]=a.useState(""),w=a.useRef(null),i=a.useRef(null),m=a.useRef(0),b=a.useRef(null),v=a.useRef(0),o=a.useRef(0),y=a.useRef(0),P=a.useRef(null),H=250,I=25;a.useEffect(()=>{if(!n){s(null),l(!1),x(!1),u(""),w.current=null,i.current=null,o.current=0,y.current=0,b.current&&cancelAnimationFrame(b.current);return}const r=A[t]||A[1];P.current=r,u(r.label);const d=new S(new F,new G,null,new $);d.initializeGame(),d.isPlaying=!0;const f=new W;if(f.setDifficulty(r.difficulty),f.thinkingTime=0,r.comboBoost){const k=f._evaluateBoard.bind(f);f._evaluateBoard=(h,M)=>{let B=k(h,M);for(let j=0;j<h.length;j++){const R=h[j].filter(L=>L!=null).length;R>=8&&(B+=200),R>=9&&(B+=500)}return B}}return w.current=d,i.current=f,o.current=0,y.current=0,v.current=0,m.current=0,s(d.getGameState()),l(!0),x(!1),()=>{b.current&&cancelAnimationFrame(b.current),w.current=null,i.current=null}},[n,t]),a.useEffect(()=>{if(!w.current||!c||!n)return;m.current=0,v.current=0;let r=null;const d=f=>{var j;m.current||(m.current=f);const k=f-m.current;m.current=f;const h=w.current,M=i.current,B=P.current;if(h&&M&&!h.gameOver){h.isPlaying&&!h.isPaused&&h.updateGame(k);const R=h.getGameState(),L=(j=R.currentPiece)==null?void 0:j.type;if(r&&L!==r&&(o.current++,y.current++,o.current>=I)){x(!0),s(R);return}if(r=L,v.current+=k,v.current>=H){if(v.current=0,B!=null&&B.forceHold&&y.current>=3&&R.currentPiece&&R.canHold!==!1){h.holdPiece(),y.current=0,s(h.getGameState()),b.current=requestAnimationFrame(d);return}const O=M.decideNextMove(R);if(O)switch(O.action){case"left":h.movePiece("left");break;case"right":h.movePiece("right");break;case"rotate":h.rotatePiece();break;case"down":h.movePiece("down");break;case"drop":h.hardDrop();break;case"hold":h.holdPiece();break}}s(R)}else if(h!=null&&h.gameOver){x(!0),s(h.getGameState());return}b.current=requestAnimationFrame(d)};return b.current=requestAnimationFrame(d),()=>{b.current&&cancelAnimationFrame(b.current)}},[c,n]);const D=a.useCallback(()=>{var r;try{return((r=w.current)==null?void 0:r.getDropPreview())||null}catch{return null}},[]);return{gameState:g,isInitialized:c,demoComplete:p,statusLabel:N,getDropPreview:D}}function Q({show:n,onComplete:t}){const[g,s]=a.useState([]);return a.useEffect(()=>{if(!n)return;const c=Array.from({length:50},(p,x)=>({id:x,x:Math.random()*window.innerWidth,y:-20,rotation:Math.random()*360,color:["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E2"][Math.floor(Math.random()*8)],size:Math.random()*10+5,delay:Math.random()*.5,duration:Math.random()*2+2,xOffset:(Math.random()-.5)*300}));s(c);const l=setTimeout(()=>{s([]),t&&t()},4e3);return()=>clearTimeout(l)},[n,t]),!n||g.length===0?null:e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:g.map(c=>e.jsx(C.div,{initial:{x:c.x,y:c.y,rotate:0,opacity:1},animate:{x:c.x+c.xOffset,y:window.innerHeight+100,rotate:c.rotation+720,opacity:0},transition:{duration:c.duration,delay:c.delay,ease:"easeIn"},style:{position:"absolute",width:c.size,height:c.size,backgroundColor:c.color,borderRadius:"50%"}},c.id))})}function Y({lesson:n,onStartDemo:t,onStartPractice:g,gamepadSelectedIndex:s}){const{t:c}=T();return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"bg-white/[0.06] border border-white/[0.08] rounded-xl p-6 mb-5 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ğŸ¯"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:c("lesson.objective")}),e.jsx("p",{className:"text-white/70 text-base leading-relaxed",children:n.practice.objective})]}),n.intro&&n.intro.length>0&&e.jsxs("div",{className:"bg-white/[0.04] border border-white/[0.06] rounded-xl p-5 mb-5",children:[e.jsx("h4",{className:"text-sm font-semibold text-white/50 uppercase tracking-wide mb-3",children:c("lesson.howItWorks")}),e.jsx("div",{className:"space-y-2.5",children:n.intro.map((l,p)=>e.jsxs(C.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:p*.08},className:"text-white/70 text-sm leading-relaxed flex items-start gap-2",children:[e.jsxs("span",{className:"text-white/25 font-mono text-xs mt-0.5 flex-shrink-0",children:[p+1,"."]}),e.jsx("span",{children:l})]},p))})]}),n.rewards&&e.jsxs("div",{className:"flex justify-center gap-4 mb-5 text-xs text-white/30",children:[e.jsxs("span",{children:["ğŸŸ ",n.rewards.fishCoins]}),e.jsxs("span",{children:["â­ ",n.rewards.xp," XP"]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:t,className:`bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500
                   text-white px-8 py-3 rounded-xl font-bold text-sm shadow-lg shadow-blue-900/30 transition-all
                   flex items-center gap-2 ${s===1?"ring-2 ring-yellow-400":""}`,children:[e.jsx("span",{children:"ğŸ¤–"}),e.jsx("span",{children:c("lesson.watchAIFirst")})]}),e.jsx("button",{onClick:g,className:`text-white/30 hover:text-white/50 text-xs transition-all ${s===2?"ring-2 ring-yellow-400 rounded-lg px-2 py-1":""}`,children:c("lesson.skipToPractice")})]})]},"intro")}function Z({lesson:n,gameState:t,isInitialized:g,demoComplete:s,dropPreview:c,statusLabel:l,onSkip:p,gamepadSelectedIndex:x}){var w,i,m,b,v;const{t:N}=T();if(!t||!g)return e.jsx("div",{className:"text-center text-white/40 text-sm py-12",children:N("lesson.preparingDemo")});const u=a.useMemo(()=>{var P;if(!n.intro||n.intro.length===0)return null;const o=((P=t.score)==null?void 0:P.lines)||0,y=Math.min(Math.floor(o/2),n.intro.length-1);return n.intro[y]},[n.intro,(w=t.score)==null?void 0:w.lines]);return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-3 mb-3 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"ğŸ¤–"}),e.jsx("p",{className:"text-sm font-semibold text-blue-300",children:N("lesson.aiPlaying")})]}),l&&e.jsx("p",{className:"text-xs text-blue-400/70 mt-1",children:l})]}),u&&e.jsx(C.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"bg-white/[0.04] border border-white/[0.06] rounded-lg p-2.5 mb-3 max-w-md mx-auto",children:e.jsxs("p",{className:"text-xs text-white/60",children:["ğŸ’¡ ",u]})},u),e.jsxs("div",{className:"flex gap-3 justify-center items-start",children:[e.jsx(z,{heldPiece:t.heldPiece,canHold:t.canHold}),e.jsx(E,{board:t.board,currentPiece:t.currentPiece,dropPreview:c,gameOver:t.gameOver}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(_,{pieces:t.nextPieces||[]}),e.jsx(q,{score:((i=t.score)==null?void 0:i.points)||0,level:((m=t.score)==null?void 0:m.level)||1,lines:((b=t.score)==null?void 0:b.lines)||0,combo:((v=t.score)==null?void 0:v.combo)||0})]})]}),e.jsx("div",{className:"mt-4",children:s?e.jsx(C.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.03},whileTap:{scale:.97},onClick:p,className:`bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-500 hover:to-green-500
                     text-white px-6 py-2.5 rounded-xl font-bold text-sm shadow-lg shadow-emerald-900/30 transition-all ${x===1?"ring-2 ring-yellow-400":""}`,children:N("lesson.yourTurn")}):e.jsx("button",{onClick:p,className:`text-white/30 hover:text-white/50 text-xs transition-all ${x===1?"ring-2 ring-yellow-400 rounded-lg px-2 py-1":""}`,children:N("lesson.skipDemo")})})]},"demo")}function ee({lesson:n,gameState:t,isInitialized:g,practiceState:s,onRestart:c,dropPreview:l,gamepadSelectedIndex:p}){var N,u,w,i;const{t:x}=T();return!t||!g?e.jsx("div",{className:"text-center text-white/40 text-sm py-12",children:x("lesson.loading")}):e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center",children:[e.jsxs("div",{className:"bg-white/[0.06] border border-white/[0.06] rounded-xl p-3 mb-3 max-w-md mx-auto",children:[e.jsxs("p",{className:"text-sm font-semibold text-white mb-2",children:["ğŸ¯ ",n.practice.objective]}),s.progress>0&&e.jsxs("div",{children:[e.jsx("div",{className:"h-1.5 bg-white/[0.08] rounded-full overflow-hidden",children:e.jsx(C.div,{className:`h-full rounded-full ${s.complete?"bg-emerald-400":"bg-gradient-to-r from-blue-500 to-indigo-500"}`,initial:{width:0},animate:{width:`${Math.min(100,s.progress*100)}%`},transition:{duration:.3}})}),e.jsxs("div",{className:"text-white/30 text-[10px] mt-1",children:[Math.round(s.progress*100),"%"]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center items-start",children:[e.jsx(z,{heldPiece:t.heldPiece,canHold:t.canHold}),e.jsx(E,{board:t.board,currentPiece:t.currentPiece,dropPreview:l,gameOver:t.gameOver}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(_,{pieces:t.nextPieces||[]}),e.jsx(q,{score:((N=t.score)==null?void 0:N.points)||0,level:((u=t.score)==null?void 0:u.level)||1,lines:((w=t.score)==null?void 0:w.lines)||0,combo:((i=t.score)==null?void 0:i.combo)||0})]})]}),e.jsx("div",{className:"mt-3 text-white/20 text-[10px]",children:x("lesson.practiceControls")}),s.feedback&&!s.complete&&e.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 bg-white/[0.06] border border-white/[0.08] rounded-lg p-3 max-w-md mx-auto",children:e.jsx("p",{className:"text-sm text-white/70",children:s.feedback})},s.feedback),t.gameOver&&!s.complete&&e.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-4",children:[e.jsx("p",{className:"text-white/40 text-sm mb-2",children:x("lesson.practiceGameOver")}),e.jsx("button",{onClick:c,className:`bg-white/[0.08] hover:bg-white/[0.12] text-white text-sm px-4 py-2 rounded-lg transition-all ${p===1?"ring-2 ring-yellow-400":""}`,children:x("lesson.restart")})]}),s.complete&&e.jsxs(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",bounce:.4},className:"mt-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-6 max-w-sm mx-auto",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ‰"}),e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:x("lesson.congratulations")}),e.jsx("p",{className:"text-emerald-300/70 text-sm",children:s.feedback})]})]},"practice")}function te({lesson:n,onComplete:t,onExit:g}){const[s,c]=a.useState("introduction"),[l,p]=a.useState({progress:0,feedback:"",complete:!1}),[x,N]=a.useState(!1),{gameState:u,isInitialized:w,demoComplete:i,statusLabel:m,getDropPreview:b}=K(s==="demo",n==null?void 0:n.id),v=a.useMemo(()=>s!=="demo"||!w?null:(b==null?void 0:b())||null,[s,w,b,u]),{gameState:o,actions:y,isInitialized:P,getValidationState:H}=J(s==="practice"?n:null);X(y,o,s==="practice"&&P);const I=a.useMemo(()=>{var j;return s!=="practice"||!P?null:((j=y.getDropPreview)==null?void 0:j.call(y))||null},[s,P,y,o]);a.useEffect(()=>{var L;if(s!=="practice"||!P||!o)return;const j=H();if(!j||!((L=n.practice)!=null&&L.validate))return;const R=n.practice.validate(j);p(O=>({...O,progress:R.progress||0,feedback:R.feedback||"",complete:R.complete||!1})),R.complete&&!l.complete&&(N(!0),setTimeout(()=>{t(n.id,{score:j.score})},2e3))},[s,P,o,n,H,l.complete,t]);const D=a.useCallback(()=>{c("demo")},[]),r=a.useCallback(()=>{c("practice"),p({progress:0,feedback:"",complete:!1})},[]),d=a.useCallback(()=>{var j;(j=y.restart)==null||j.call(y),p({progress:0,feedback:"",complete:!1})},[y]),f=s==="practice"&&P&&o&&!o.gameOver,k=s==="introduction"?3:s==="demo"||o!=null&&o.gameOver&&!l.complete?2:1,h=a.useCallback(j=>{if(j===0){g();return}s==="introduction"?j===1?D():j===2&&r():s==="demo"?j===1&&r():s==="practice"&&(o!=null&&o.gameOver)&&j===1&&d()},[s,o==null?void 0:o.gameOver,g,D,r,d]),{selectedIndex:M}=V({itemCount:k,onConfirm:h,onBack:g,active:!f}),B=s==="introduction"?"ğŸ“–":s==="demo"?"ğŸ¤–":"ğŸ®";return e.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-slate-900 via-indigo-950 to-slate-900 z-50 flex flex-col",children:[e.jsx("div",{className:"bg-black/30 border-b border-white/[0.06] px-4 py-2 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:n.module==="fundamentals"?"ğŸ®":n.module==="intermediate"?"ğŸŒ€":n.module==="advanced"?"ğŸ’":"ğŸ†"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:n.title}),e.jsx("p",{className:"text-white/40 text-xs",children:n.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-white/30 bg-white/[0.06] px-2 py-1 rounded",children:B}),e.jsx("button",{onClick:g,className:`text-white/40 hover:text-white/70 bg-white/[0.06] hover:bg-white/[0.1] rounded-lg px-3 py-1.5 text-sm transition-all ${M===0?"ring-2 ring-yellow-400":""}`,children:"âœ•"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-3",children:e.jsx("div",{className:"max-w-4xl w-full mx-auto",children:e.jsxs(U,{mode:"wait",children:[s==="introduction"&&e.jsx(Y,{lesson:n,onStartDemo:D,onStartPractice:r,gamepadSelectedIndex:M}),s==="demo"&&e.jsx(Z,{lesson:n,gameState:u,isInitialized:w,demoComplete:i,dropPreview:v,statusLabel:m,onSkip:r,gamepadSelectedIndex:M}),s==="practice"&&e.jsx(ee,{lesson:n,gameState:o,isInitialized:P,practiceState:l,onRestart:d,dropPreview:I,gamepadSelectedIndex:M})]})})}),e.jsx(Q,{show:x,onComplete:()=>N(!1)})]})}function ie({tutorialService:n,onClose:t,onLessonComplete:g}){const[s,c]=a.useState(null),[l,p]=a.useState(n.getProgress()),[x,N]=a.useState("fundamentals"),{t:u}=T(),w=n.lessons,i=[{key:"fundamentals",icon:"ğŸ®",name:u("tutorial.fundamentals"),desc:u("tutorial.fundamentalsDesc")},{key:"intermediate",icon:"ğŸŒ€",name:u("tutorial.intermediate"),desc:u("tutorial.intermediateDesc")},{key:"advanced",icon:"ğŸ’",name:u("tutorial.advanced"),desc:u("tutorial.advancedDesc")},{key:"pro",icon:"ğŸ†",name:u("tutorial.pro"),desc:u("tutorial.proDesc")}],m=w.filter(r=>r.module===x),b=r=>{const d=w.filter(k=>k.module===r).map(k=>k.id);return{done:d.filter(k=>l.completedLessons.includes(k)).length,total:d.length}},v=(r,d)=>{const f=n.completeLesson(r,d);p(n.getProgress()),c(null),g&&g(f)},o=r=>l.unlockedLessons.includes(r),y=r=>l.completedLessons.includes(r),{selectedIndex:P}=V({itemCount:m.length,onConfirm:r=>{const d=m[r];d&&o(d.id)&&c(d)},onBack:t,active:!s,wrap:!0});if(s)return e.jsx(te,{lesson:s,onComplete:v,onExit:()=>c(null)});const H=l.completedLessons.length,I=w.length,D=I>0?Math.round(H/I*100):0;return e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-b from-slate-900 via-indigo-950 to-slate-900 z-40 overflow-y-auto",children:e.jsxs("div",{className:"min-h-screen max-w-lg mx-auto px-4 py-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-extrabold text-white",children:u("tutorial.title")}),e.jsx("p",{className:"text-white/40 text-sm mt-0.5",children:u("tutorial.subtitle")})]}),e.jsx("button",{onClick:t,className:"text-white/40 hover:text-white/70 bg-white/[0.06] hover:bg-white/[0.1] rounded-lg px-3 py-1.5 text-sm transition-all",children:u("tutorial.close")})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-white/40 mb-1.5",children:[e.jsx("span",{children:u("tutorial.overallProgress")}),e.jsxs("span",{children:[H,"/",I," (",D,"%)"]})]}),e.jsx("div",{className:"h-2 bg-white/[0.08] rounded-full overflow-hidden",children:e.jsx(C.div,{className:"h-full bg-gradient-to-r from-emerald-500 to-green-400 rounded-full",initial:{width:0},animate:{width:`${D}%`},transition:{duration:.6,ease:"easeOut"}})})]}),e.jsx("div",{className:"flex gap-1.5 mb-5 overflow-x-auto pb-1 -mx-1 px-1",children:i.map(r=>{const d=b(r.key),f=x===r.key;return e.jsx("button",{onClick:()=>N(r.key),className:`flex-shrink-0 rounded-lg px-3 py-2 text-left transition-all duration-150 ${f?"bg-white/[0.12] border border-white/[0.15]":"bg-white/[0.04] border border-transparent hover:bg-white/[0.07]"}`,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-base",children:r.icon}),e.jsx("span",{className:`text-xs font-semibold ${f?"text-white":"text-white/50"}`,children:r.name}),e.jsxs("span",{className:`text-[10px] ml-1 ${d.done===d.total&&d.total>0?"text-emerald-400":"text-white/30"}`,children:[d.done,"/",d.total]})]})},r.key)})}),e.jsx("div",{className:"flex-1 space-y-2",children:e.jsx(U,{mode:"wait",children:e.jsxs(C.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},className:"space-y-2",children:[m.map((r,d)=>{var h,M;const f=o(r.id),k=y(r.id);return e.jsxs(C.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:d*.04},disabled:!f,onClick:()=>f&&c(r),className:`w-full text-left rounded-xl p-4 transition-all duration-150 flex items-center gap-3 ${f?"bg-white/[0.06] hover:bg-white/[0.1] border border-white/[0.06] hover:border-white/[0.12] active:scale-[0.99]":"bg-white/[0.02] border border-white/[0.03] opacity-40 cursor-not-allowed"} ${k?"border-emerald-500/30":""} ${d===P?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-slate-900":""}`,children:[e.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center text-sm flex-shrink-0 ${k?"bg-emerald-500/20 text-emerald-400":f?"bg-white/[0.08] text-white/60":"bg-white/[0.04] text-white/20"}`,children:k?"âœ“":f?d+1:"ğŸ”’"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-white truncate",children:r.title}),e.jsx("div",{className:"text-xs text-white/35 mt-0.5 truncate",children:r.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] text-white/25",children:[e.jsxs("span",{children:["â± ",r.estimatedTime]}),e.jsxs("span",{children:["ğŸŸ ",((h=r.rewards)==null?void 0:h.fishCoins)||0]}),e.jsxs("span",{children:["â­ ",((M=r.rewards)==null?void 0:M.xp)||0," XP"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${r.difficulty==="beginner"?"bg-green-400":r.difficulty==="intermediate"?"bg-yellow-400":r.difficulty==="advanced"?"bg-red-400":"bg-purple-400"}`}),f&&e.jsx("svg",{className:"w-4 h-4 text-white/20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},r.id)}),m.length===0&&e.jsx("div",{className:"text-center py-12 text-white/20 text-sm",children:u("tutorial.noLessons")})]},x)})}),l.badges.length>0&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-white/[0.06]",children:[e.jsx("div",{className:"text-xs text-white/30 mb-2",children:u("tutorial.badgesEarned")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.badges.map(r=>e.jsxs("span",{className:"bg-amber-500/10 text-amber-300/70 text-[10px] px-2 py-1 rounded-md font-medium",children:["ğŸ… ",r.replace(/_/g," ")]},r))})]})]})})}export{ie as default};
