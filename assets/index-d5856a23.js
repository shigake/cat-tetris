var ag=Object.defineProperty;var lg=(e,r,n)=>r in e?ag(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var Bs=(e,r,n)=>(lg(e,typeof r!="symbol"?r+"":r,n),n);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function cg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vp={exports:{}},io={},xp={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),ug=Symbol.for("react.portal"),dg=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),mg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),vg=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),Kc=Symbol.iterator;function wg(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var wp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sp=Object.assign,Tp={};function Mn(e,r,n){this.props=e,this.context=r,this.refs=Tp,this.updater=n||wp}Mn.prototype.isReactComponent={};Mn.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Mn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cp(){}Cp.prototype=Mn.prototype;function Ml(e,r,n){this.props=e,this.context=r,this.refs=Tp,this.updater=n||wp}var Dl=Ml.prototype=new Cp;Dl.constructor=Ml;Sp(Dl,Mn.prototype);Dl.isPureReactComponent=!0;var Jc=Array.isArray,bp=Object.prototype.hasOwnProperty,Ll={current:null},kp={key:!0,ref:!0,__self:!0,__source:!0};function Pp(e,r,n){var s,i={},o=null,a=null;if(r!=null)for(s in r.ref!==void 0&&(a=r.ref),r.key!==void 0&&(o=""+r.key),r)bp.call(r,s)&&!kp.hasOwnProperty(s)&&(i[s]=r[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Ms,type:e,key:o,ref:a,props:i,_owner:Ll.current}}function Sg(e,r){return{$$typeof:Ms,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function jl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ms}function Tg(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var Qc=/\/+/g;function Do(e,r){return typeof e=="object"&&e!==null&&e.key!=null?Tg(""+e.key):r.toString(36)}function ui(e,r,n,s,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ms:case ug:a=!0}}if(a)return a=e,i=i(a),e=s===""?"."+Do(a,0):s,Jc(i)?(n="",e!=null&&(n=e.replace(Qc,"$&/")+"/"),ui(i,r,n,"",function(u){return u})):i!=null&&(jl(i)&&(i=Sg(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Qc,"$&/")+"/")+e)),r.push(i)),1;if(a=0,s=s===""?".":s+":",Jc(e))for(var l=0;l<e.length;l++){o=e[l];var c=s+Do(o,l);a+=ui(o,r,n,c,i)}else if(c=wg(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=s+Do(o,l++),a+=ui(o,r,n,c,i);else if(o==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return a}function zs(e,r,n){if(e==null)return e;var s=[],i=0;return ui(e,s,"","",function(o){return r.call(n,o,i++)}),s}function Cg(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},di={transition:null},bg={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:di,ReactCurrentOwner:Ll};function Ep(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:zs,forEach:function(e,r,n){zs(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return zs(e,function(){r++}),r},toArray:function(e){return zs(e,function(r){return r})||[]},only:function(e){if(!jl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Mn;K.Fragment=dg;K.Profiler=hg;K.PureComponent=Ml;K.StrictMode=pg;K.Suspense=yg;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bg;K.act=Ep;K.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Sp({},e.props),i=e.key,o=e.ref,a=e._owner;if(r!=null){if(r.ref!==void 0&&(o=r.ref,a=Ll.current),r.key!==void 0&&(i=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in r)bp.call(r,c)&&!kp.hasOwnProperty(c)&&(s[c]=r[c]===void 0&&l!==void 0?l[c]:r[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ms,type:e.type,key:i,ref:o,props:s,_owner:a}};K.createContext=function(e){return e={$$typeof:fg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mg,_context:e},e.Consumer=e};K.createElement=Pp;K.createFactory=function(e){var r=Pp.bind(null,e);return r.type=e,r};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:gg,render:e}};K.isValidElement=jl;K.lazy=function(e){return{$$typeof:xg,_payload:{_status:-1,_result:e},_init:Cg}};K.memo=function(e,r){return{$$typeof:vg,type:e,compare:r===void 0?null:r}};K.startTransition=function(e){var r=di.transition;di.transition={};try{e()}finally{di.transition=r}};K.unstable_act=Ep;K.useCallback=function(e,r){return Ue.current.useCallback(e,r)};K.useContext=function(e){return Ue.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};K.useEffect=function(e,r){return Ue.current.useEffect(e,r)};K.useId=function(){return Ue.current.useId()};K.useImperativeHandle=function(e,r,n){return Ue.current.useImperativeHandle(e,r,n)};K.useInsertionEffect=function(e,r){return Ue.current.useInsertionEffect(e,r)};K.useLayoutEffect=function(e,r){return Ue.current.useLayoutEffect(e,r)};K.useMemo=function(e,r){return Ue.current.useMemo(e,r)};K.useReducer=function(e,r,n){return Ue.current.useReducer(e,r,n)};K.useRef=function(e){return Ue.current.useRef(e)};K.useState=function(e){return Ue.current.useState(e)};K.useSyncExternalStore=function(e,r,n){return Ue.current.useSyncExternalStore(e,r,n)};K.useTransition=function(){return Ue.current.useTransition()};K.version="18.3.1";xp.exports=K;var w=xp.exports;const de=cg(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=w,Pg=Symbol.for("react.element"),Eg=Symbol.for("react.fragment"),Ag=Object.prototype.hasOwnProperty,Mg=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dg={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,r,n){var s,i={},o=null,a=null;n!==void 0&&(o=""+n),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(a=r.ref);for(s in r)Ag.call(r,s)&&!Dg.hasOwnProperty(s)&&(i[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)i[s]===void 0&&(i[s]=r[s]);return{$$typeof:Pg,type:e,key:o,ref:a,props:i,_owner:Mg.current}}io.Fragment=Eg;io.jsx=Ap;io.jsxs=Ap;vp.exports=io;var h=vp.exports,xa={},Mp={exports:{}},nt={},Dp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(D,H){var O=D.length;D.push(H);e:for(;0<O;){var z=O-1>>>1,W=D[z];if(0<i(W,H))D[z]=H,D[O]=W,O=z;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var H=D[0],O=D.pop();if(O!==H){D[0]=O;e:for(var z=0,W=D.length,be=W>>>1;z<be;){var ee=2*(z+1)-1,oe=D[ee],Q=ee+1,Oe=D[Q];if(0>i(oe,O))Q<W&&0>i(Oe,oe)?(D[z]=Oe,D[Q]=O,z=Q):(D[z]=oe,D[ee]=O,z=ee);else if(Q<W&&0>i(Oe,O))D[z]=Oe,D[Q]=O,z=Q;else break e}}return H}function i(D,H){var O=D.sortIndex-H.sortIndex;return O!==0?O:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,p=null,m=3,v=!1,y=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var H=n(u);H!==null;){if(H.callback===null)s(u);else if(H.startTime<=D)s(u),H.sortIndex=H.expirationTime,r(c,H);else break;H=n(u)}}function S(D){if(T=!1,g(D),!y)if(n(c)!==null)y=!0,j(C);else{var H=n(u);H!==null&&q(S,H.startTime-D)}}function C(D,H){y=!1,T&&(T=!1,x(E),E=-1),v=!0;var O=m;try{for(g(H),p=n(c);p!==null&&(!(p.expirationTime>H)||D&&!B());){var z=p.callback;if(typeof z=="function"){p.callback=null,m=p.priorityLevel;var W=z(p.expirationTime<=H);H=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(c)&&s(c),g(H)}else s(c);p=n(c)}if(p!==null)var be=!0;else{var ee=n(u);ee!==null&&q(S,ee.startTime-H),be=!1}return be}finally{p=null,m=O,v=!1}}var b=!1,P=null,E=-1,M=5,_=-1;function B(){return!(e.unstable_now()-_<M)}function L(){if(P!==null){var D=e.unstable_now();_=D;var H=!0;try{H=P(!0,D)}finally{H?U():(b=!1,P=null)}}else b=!1}var U;if(typeof f=="function")U=function(){f(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,we=I.port2;I.port1.onmessage=L,U=function(){we.postMessage(null)}}else U=function(){k(L,0)};function j(D){P=D,b||(b=!0,U())}function q(D,H){E=k(function(){D(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,j(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var O=m;m=H;try{return D()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=m;m=D;try{return H()}finally{m=O}},e.unstable_scheduleCallback=function(D,H,O){var z=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,D={id:d++,callback:H,priorityLevel:D,startTime:O,expirationTime:W,sortIndex:-1},O>z?(D.sortIndex=O,r(u,D),n(c)===null&&D===n(u)&&(T?(x(E),E=-1):T=!0,q(S,O-z))):(D.sortIndex=W,r(c,D),y||v||(y=!0,j(C))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var H=m;return function(){var O=m;m=H;try{return D.apply(this,arguments)}finally{m=O}}}})(Lp);Dp.exports=Lp;var Lg=Dp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=w,tt=Lg;function A(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jp=new Set,cs={};function Ur(e,r){xn(e,r),xn(e+"Capture",r)}function xn(e,r){for(cs[e]=r,e=0;e<r.length;e++)jp.add(r[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=Object.prototype.hasOwnProperty,Rg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},Xc={};function _g(e){return wa.call(Xc,e)?!0:wa.call(Yc,e)?!1:Rg.test(e)?Xc[e]=!0:(Yc[e]=!0,!1)}function Ng(e,r,n,s){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ig(e,r,n,s){if(r===null||typeof r>"u"||Ng(e,r,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ge(e,r,n,s,i,o,a){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=o,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];De[r]=new Ge(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rl=/[\-:]([a-z])/g;function _l(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Rl,_l);De[r]=new Ge(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Rl,_l);De[r]=new Ge(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Rl,_l);De[r]=new Ge(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nl(e,r,n,s){var i=De.hasOwnProperty(r)?De[r]:null;(i!==null?i.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Ig(r,n,i,s)&&(n=null),s||i===null?_g(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(r=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(r):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,r,n):e.setAttribute(r,n))))}var qt=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),Il=Symbol.for("react.strict_mode"),Sa=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),_p=Symbol.for("react.context"),Ol=Symbol.for("react.forward_ref"),Ta=Symbol.for("react.suspense"),Ca=Symbol.for("react.suspense_list"),Vl=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Np=Symbol.for("react.offscreen"),Zc=Symbol.iterator;function _n(e){return e===null||typeof e!="object"?null:(e=Zc&&e[Zc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Lo;function $n(e){if(Lo===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);Lo=r&&r[1]||""}return`
`+Lo+e}var jo=!1;function Ro(e,r){if(!e||jo)return"";jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(u){var s=u}Reflect.construct(e,[],r)}else{try{r.call()}catch(u){s=u}e.call(r.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=s.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$n(e):""}function Og(e){switch(e.tag){case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 2:case 15:return e=Ro(e.type,!1),e;case 11:return e=Ro(e.type.render,!1),e;case 1:return e=Ro(e.type,!0),e;default:return""}}function ba(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Jr:return"Portal";case Sa:return"Profiler";case Il:return"StrictMode";case Ta:return"Suspense";case Ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _p:return(e.displayName||"Context")+".Consumer";case Rp:return(e._context.displayName||"Context")+".Provider";case Ol:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vl:return r=e.displayName||null,r!==null?r:ba(e.type)||"Memo";case Zt:r=e._payload,e=e._init;try{return ba(e(r))}catch{}}return null}function Vg(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ba(r);case 8:return r===Il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ip(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fg(e){var r=Ip(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Us(e){e._valueTracker||(e._valueTracker=Fg(e))}function Op(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),s="";return e&&(s=Ip(e)?e.checked?"true":"false":e.value),e=s,e!==n?(r.setValue(e),!0):!1}function ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ka(e,r){var n=r.checked;return me({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eu(e,r){var n=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;n=gr(r.value!=null?r.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Vp(e,r){r=r.checked,r!=null&&Nl(e,"checked",r,!1)}function Pa(e,r){Vp(e,r);var n=gr(r.value),s=r.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Ea(e,r.type,n):r.hasOwnProperty("defaultValue")&&Ea(e,r.type,gr(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function tu(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ea(e,r,n){(r!=="number"||ki(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wn=Array.isArray;function pn(e,r,n,s){if(e=e.options,r){r={};for(var i=0;i<n.length;i++)r["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=r.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+gr(n),r=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}r!==null||e[i].disabled||(r=e[i])}r!==null&&(r.selected=!0)}}function Aa(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(A(91));return me({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ru(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(A(92));if(Wn(n)){if(1<n.length)throw Error(A(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:gr(n)}}function Fp(e,r){var n=gr(r.value),s=gr(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function nu(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Bp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Bp(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gs,zp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(r,n,s,i)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function us(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bg=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){Bg.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Qn[r]=Qn[e]})});function Hp(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+r).trim():r+"px"}function Up(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Hp(n,r[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var zg=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(e,r){if(r){if(zg[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(A(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(A(61))}if(r.style!=null&&typeof r.style!="object")throw Error(A(62))}}function La(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,hn=null,mn=null;function su(e){if(e=js(e)){if(typeof Ra!="function")throw Error(A(280));var r=e.stateNode;r&&(r=uo(r),Ra(e.stateNode,e.type,r))}}function Gp(e){hn?mn?mn.push(e):mn=[e]:hn=e}function $p(){if(hn){var e=hn,r=mn;if(mn=hn=null,su(e),r)for(e=0;e<r.length;e++)su(r[e])}}function Wp(e,r){return e(r)}function qp(){}var _o=!1;function Kp(e,r,n){if(_o)return e(r,n);_o=!0;try{return Wp(e,r,n)}finally{_o=!1,(hn!==null||mn!==null)&&(qp(),$p())}}function ds(e,r){var n=e.stateNode;if(n===null)return null;var s=uo(n);if(s===null)return null;n=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,r,typeof n));return n}var _a=!1;if(Ht)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{_a=!1}function Hg(e,r,n,s,i,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{r.apply(n,u)}catch(d){this.onError(d)}}var Yn=!1,Pi=null,Ei=!1,Na=null,Ug={onError:function(e){Yn=!0,Pi=e}};function Gg(e,r,n,s,i,o,a,l,c){Yn=!1,Pi=null,Hg.apply(Ug,arguments)}function $g(e,r,n,s,i,o,a,l,c){if(Gg.apply(this,arguments),Yn){if(Yn){var u=Pi;Yn=!1,Pi=null}else throw Error(A(198));Ei||(Ei=!0,Na=u)}}function Gr(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function Jp(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function iu(e){if(Gr(e)!==e)throw Error(A(188))}function Wg(e){var r=e.alternate;if(!r){if(r=Gr(e),r===null)throw Error(A(188));return r!==e?null:e}for(var n=e,s=r;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return iu(i),e;if(o===s)return iu(i),r;o=o.sibling}throw Error(A(188))}if(n.return!==s.return)n=i,s=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,s=o;break}if(l===s){a=!0,s=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,s=i;break}if(l===s){a=!0,s=o,n=i;break}l=l.sibling}if(!a)throw Error(A(189))}}if(n.alternate!==s)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:r}function Qp(e){return e=Wg(e),e!==null?Yp(e):null}function Yp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Yp(e);if(r!==null)return r;e=e.sibling}return null}var Xp=tt.unstable_scheduleCallback,ou=tt.unstable_cancelCallback,qg=tt.unstable_shouldYield,Kg=tt.unstable_requestPaint,ye=tt.unstable_now,Jg=tt.unstable_getCurrentPriorityLevel,Bl=tt.unstable_ImmediatePriority,Zp=tt.unstable_UserBlockingPriority,Ai=tt.unstable_NormalPriority,Qg=tt.unstable_LowPriority,eh=tt.unstable_IdlePriority,oo=null,Pt=null;function Yg(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(oo,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:e0,Xg=Math.log,Zg=Math.LN2;function e0(e){return e>>>=0,e===0?32:31-(Xg(e)/Zg|0)|0}var $s=64,Ws=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mi(e,r){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?s=qn(l):(o&=a,o!==0&&(s=qn(o)))}else a=n&~i,a!==0?s=qn(a):o!==0&&(s=qn(o));if(s===0)return 0;if(r!==0&&r!==s&&!(r&i)&&(i=s&-s,o=r&-r,i>=o||i===16&&(o&4194240)!==0))return r;if(s&4&&(s|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=s;0<r;)n=31-xt(r),i=1<<n,s|=e[n],r&=~i;return s}function t0(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r0(e,r){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-xt(o),l=1<<a,c=i[a];c===-1?(!(l&n)||l&s)&&(i[a]=t0(l,r)):c<=r&&(e.expiredLanes|=l),o&=~l}}function Ia(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function th(){var e=$s;return $s<<=1,!($s&4194240)&&($s=64),e}function No(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function Ds(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-xt(r),e[r]=n}function n0(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),o=1<<i;r[i]=0,s[i]=-1,e[i]=-1,n&=~o}}function zl(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var s=31-xt(n),i=1<<s;i&r|e[s]&r&&(e[s]|=r),n&=~i}}var Z=0;function rh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nh,Hl,sh,ih,oh,Oa=!1,qs=[],or=null,ar=null,lr=null,ps=new Map,hs=new Map,rr=[],s0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,r){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":ps.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(r.pointerId)}}function In(e,r,n,s,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:r,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[i]},r!==null&&(r=js(r),r!==null&&Hl(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,i!==null&&r.indexOf(i)===-1&&r.push(i),e)}function i0(e,r,n,s,i){switch(r){case"focusin":return or=In(or,e,r,n,s,i),!0;case"dragenter":return ar=In(ar,e,r,n,s,i),!0;case"mouseover":return lr=In(lr,e,r,n,s,i),!0;case"pointerover":var o=i.pointerId;return ps.set(o,In(ps.get(o)||null,e,r,n,s,i)),!0;case"gotpointercapture":return o=i.pointerId,hs.set(o,In(hs.get(o)||null,e,r,n,s,i)),!0}return!1}function ah(e){var r=Lr(e.target);if(r!==null){var n=Gr(r);if(n!==null){if(r=n.tag,r===13){if(r=Jp(n),r!==null){e.blockedOn=r,oh(e.priority,function(){sh(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pi(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=Va(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ja=s,n.target.dispatchEvent(s),ja=null}else return r=js(n),r!==null&&Hl(r),e.blockedOn=n,!1;r.shift()}return!0}function lu(e,r,n){pi(e)&&n.delete(r)}function o0(){Oa=!1,or!==null&&pi(or)&&(or=null),ar!==null&&pi(ar)&&(ar=null),lr!==null&&pi(lr)&&(lr=null),ps.forEach(lu),hs.forEach(lu)}function On(e,r){e.blockedOn===r&&(e.blockedOn=null,Oa||(Oa=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,o0)))}function ms(e){function r(i){return On(i,e)}if(0<qs.length){On(qs[0],e);for(var n=1;n<qs.length;n++){var s=qs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(or!==null&&On(or,e),ar!==null&&On(ar,e),lr!==null&&On(lr,e),ps.forEach(r),hs.forEach(r),n=0;n<rr.length;n++)s=rr[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)ah(n),n.blockedOn===null&&rr.shift()}var fn=qt.ReactCurrentBatchConfig,Di=!0;function a0(e,r,n,s){var i=Z,o=fn.transition;fn.transition=null;try{Z=1,Ul(e,r,n,s)}finally{Z=i,fn.transition=o}}function l0(e,r,n,s){var i=Z,o=fn.transition;fn.transition=null;try{Z=4,Ul(e,r,n,s)}finally{Z=i,fn.transition=o}}function Ul(e,r,n,s){if(Di){var i=Va(e,r,n,s);if(i===null)$o(e,r,s,Li,n),au(e,s);else if(i0(i,e,r,n,s))s.stopPropagation();else if(au(e,s),r&4&&-1<s0.indexOf(e)){for(;i!==null;){var o=js(i);if(o!==null&&nh(o),o=Va(e,r,n,s),o===null&&$o(e,r,s,Li,n),o===i)break;i=o}i!==null&&s.stopPropagation()}else $o(e,r,s,null,n)}}var Li=null;function Va(e,r,n,s){if(Li=null,e=Fl(s),e=Lr(e),e!==null)if(r=Gr(e),r===null)e=null;else if(n=r.tag,n===13){if(e=Jp(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Li=e,null}function lh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jg()){case Bl:return 1;case Zp:return 4;case Ai:case Qg:return 16;case eh:return 536870912;default:return 16}default:return 16}}var sr=null,Gl=null,hi=null;function ch(){if(hi)return hi;var e,r=Gl,n=r.length,s,i="value"in sr?sr.value:sr.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(s=1;s<=a&&r[n-s]===i[o-s];s++);return hi=i.slice(e,1<s?1-s:void 0)}function mi(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function cu(){return!1}function st(e){function r(n,s,i,o,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ks:cu,this.isPropagationStopped=cu,this}return me(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),r}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=st(Dn),Ls=me({},Dn,{view:0,detail:0}),c0=st(Ls),Io,Oo,Vn,ao=me({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(Io=e.screenX-Vn.screenX,Oo=e.screenY-Vn.screenY):Oo=Io=0,Vn=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),uu=st(ao),u0=me({},ao,{dataTransfer:0}),d0=st(u0),p0=me({},Ls,{relatedTarget:0}),Vo=st(p0),h0=me({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),m0=st(h0),f0=me({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g0=st(f0),y0=me({},Dn,{data:0}),du=st(y0),v0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S0(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=w0[e])?!!r[e]:!1}function Wl(){return S0}var T0=me({},Ls,{key:function(e){if(e.key){var r=v0[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(e){return e.type==="keypress"?mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C0=st(T0),b0=me({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=st(b0),k0=me({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),P0=st(k0),E0=me({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),A0=st(E0),M0=me({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=st(M0),L0=[9,13,27,32],ql=Ht&&"CompositionEvent"in window,Xn=null;Ht&&"documentMode"in document&&(Xn=document.documentMode);var j0=Ht&&"TextEvent"in window&&!Xn,uh=Ht&&(!ql||Xn&&8<Xn&&11>=Xn),hu=String.fromCharCode(32),mu=!1;function dh(e,r){switch(e){case"keyup":return L0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ph(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function R0(e,r){switch(e){case"compositionend":return ph(r);case"keypress":return r.which!==32?null:(mu=!0,hu);case"textInput":return e=r.data,e===hu&&mu?null:e;default:return null}}function _0(e,r){if(Yr)return e==="compositionend"||!ql&&dh(e,r)?(e=ch(),hi=Gl=sr=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return uh&&r.locale!=="ko"?null:r.data;default:return null}}var N0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!N0[e.type]:r==="textarea"}function hh(e,r,n,s){Gp(s),r=ji(r,"onChange"),0<r.length&&(n=new $l("onChange","change",null,n,s),e.push({event:n,listeners:r}))}var Zn=null,fs=null;function I0(e){bh(e,0)}function lo(e){var r=en(e);if(Op(r))return e}function O0(e,r){if(e==="change")return r}var mh=!1;if(Ht){var Fo;if(Ht){var Bo="oninput"in document;if(!Bo){var gu=document.createElement("div");gu.setAttribute("oninput","return;"),Bo=typeof gu.oninput=="function"}Fo=Bo}else Fo=!1;mh=Fo&&(!document.documentMode||9<document.documentMode)}function yu(){Zn&&(Zn.detachEvent("onpropertychange",fh),fs=Zn=null)}function fh(e){if(e.propertyName==="value"&&lo(fs)){var r=[];hh(r,fs,e,Fl(e)),Kp(I0,r)}}function V0(e,r,n){e==="focusin"?(yu(),Zn=r,fs=n,Zn.attachEvent("onpropertychange",fh)):e==="focusout"&&yu()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lo(fs)}function B0(e,r){if(e==="click")return lo(r)}function z0(e,r){if(e==="input"||e==="change")return lo(r)}function H0(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var St=typeof Object.is=="function"?Object.is:H0;function gs(e,r){if(St(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!wa.call(r,i)||!St(e[i],r[i]))return!1}return!0}function vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xu(e,r){var n=vu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=r&&s>=r)return{node:n,offset:r-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vu(n)}}function gh(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?gh(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function yh(){for(var e=window,r=ki();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=ki(e.document)}return r}function Kl(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function U0(e){var r=yh(),n=e.focusedElem,s=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&gh(n.ownerDocument.documentElement,n)){if(s!==null&&Kl(n)){if(r=s.start,e=s.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(s.start,i);s=s.end===void 0?o:Math.min(s.end,i),!e.extend&&o>s&&(i=s,s=o,o=i),i=xu(n,o);var a=xu(n,s);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(r=r.createRange(),r.setStart(i.node,i.offset),e.removeAllRanges(),o>s?(e.addRange(r),e.extend(a.node,a.offset)):(r.setEnd(a.node,a.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G0=Ht&&"documentMode"in document&&11>=document.documentMode,Xr=null,Fa=null,es=null,Ba=!1;function wu(e,r,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ba||Xr==null||Xr!==ki(s)||(s=Xr,"selectionStart"in s&&Kl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),es&&gs(es,s)||(es=s,s=ji(Fa,"onSelect"),0<s.length&&(r=new $l("onSelect","select",null,r,n),e.push({event:r,listeners:s}),r.target=Xr)))}function Js(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var Zr={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},zo={},vh={};Ht&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function co(e){if(zo[e])return zo[e];if(!Zr[e])return e;var r=Zr[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in vh)return zo[e]=r[n];return e}var xh=co("animationend"),wh=co("animationiteration"),Sh=co("animationstart"),Th=co("transitionend"),Ch=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,r){Ch.set(e,r),Ur(r,[e])}for(var Ho=0;Ho<Su.length;Ho++){var Uo=Su[Ho],$0=Uo.toLowerCase(),W0=Uo[0].toUpperCase()+Uo.slice(1);wr($0,"on"+W0)}wr(xh,"onAnimationEnd");wr(wh,"onAnimationIteration");wr(Sh,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(Th,"onTransitionEnd");xn("onMouseEnter",["mouseout","mouseover"]);xn("onMouseLeave",["mouseout","mouseover"]);xn("onPointerEnter",["pointerout","pointerover"]);xn("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Tu(e,r,n){var s=e.type||"unknown-event";e.currentTarget=n,$g(s,r,void 0,e),e.currentTarget=null}function bh(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var o=void 0;if(r)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;Tu(i,l,u),o=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;Tu(i,l,u),o=c}}}if(Ei)throw e=Na,Ei=!1,Na=null,e}function se(e,r){var n=r[$a];n===void 0&&(n=r[$a]=new Set);var s=e+"__bubble";n.has(s)||(kh(r,e,2,!1),n.add(s))}function Go(e,r,n){var s=0;r&&(s|=4),kh(n,e,s,r)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function ys(e){if(!e[Qs]){e[Qs]=!0,jp.forEach(function(n){n!=="selectionchange"&&(q0.has(n)||Go(n,!1,e),Go(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Qs]||(r[Qs]=!0,Go("selectionchange",!1,r))}}function kh(e,r,n,s){switch(lh(r)){case 1:var i=a0;break;case 4:i=l0;break;default:i=Ul}n=i.bind(null,r,n,e),i=void 0,!_a||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(r,n,{capture:!0,passive:i}):e.addEventListener(r,n,!0):i!==void 0?e.addEventListener(r,n,{passive:i}):e.addEventListener(r,n,!1)}function $o(e,r,n,s,i){var o=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Lr(l),a===null)return;if(c=a.tag,c===5||c===6){s=o=a;continue e}l=l.parentNode}}s=s.return}Kp(function(){var u=o,d=Fl(n),p=[];e:{var m=Ch.get(e);if(m!==void 0){var v=$l,y=e;switch(e){case"keypress":if(mi(n)===0)break e;case"keydown":case"keyup":v=C0;break;case"focusin":y="focus",v=Vo;break;case"focusout":y="blur",v=Vo;break;case"beforeblur":case"afterblur":v=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=d0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=P0;break;case xh:case wh:case Sh:v=m0;break;case Th:v=A0;break;case"scroll":v=c0;break;case"wheel":v=D0;break;case"copy":case"cut":case"paste":v=g0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=pu}var T=(r&4)!==0,k=!T&&e==="scroll",x=T?m!==null?m+"Capture":null:m;T=[];for(var f=u,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,x!==null&&(S=ds(f,x),S!=null&&T.push(vs(f,S,g)))),k)break;f=f.return}0<T.length&&(m=new v(m,y,null,n,d),p.push({event:m,listeners:T}))}}if(!(r&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==ja&&(y=n.relatedTarget||n.fromElement)&&(Lr(y)||y[Ut]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Lr(y):null,y!==null&&(k=Gr(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(T=uu,S="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(T=pu,S="onPointerLeave",x="onPointerEnter",f="pointer"),k=v==null?m:en(v),g=y==null?m:en(y),m=new T(S,f+"leave",v,n,d),m.target=k,m.relatedTarget=g,S=null,Lr(d)===u&&(T=new T(x,f+"enter",y,n,d),T.target=g,T.relatedTarget=k,S=T),k=S,v&&y)t:{for(T=v,x=y,f=0,g=T;g;g=Kr(g))f++;for(g=0,S=x;S;S=Kr(S))g++;for(;0<f-g;)T=Kr(T),f--;for(;0<g-f;)x=Kr(x),g--;for(;f--;){if(T===x||x!==null&&T===x.alternate)break t;T=Kr(T),x=Kr(x)}T=null}else T=null;v!==null&&Cu(p,m,v,T,!1),y!==null&&k!==null&&Cu(p,k,y,T,!0)}}e:{if(m=u?en(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var C=O0;else if(fu(m))if(mh)C=z0;else{C=F0;var b=V0}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=B0);if(C&&(C=C(e,u))){hh(p,C,n,d);break e}b&&b(e,m,u),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Ea(m,"number",m.value)}switch(b=u?en(u):window,e){case"focusin":(fu(b)||b.contentEditable==="true")&&(Xr=b,Fa=u,es=null);break;case"focusout":es=Fa=Xr=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,wu(p,n,d);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":wu(p,n,d)}var P;if(ql)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Yr?dh(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(uh&&n.locale!=="ko"&&(Yr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Yr&&(P=ch()):(sr=d,Gl="value"in sr?sr.value:sr.textContent,Yr=!0)),b=ji(u,E),0<b.length&&(E=new du(E,e,null,n,d),p.push({event:E,listeners:b}),P?E.data=P:(P=ph(n),P!==null&&(E.data=P)))),(P=j0?R0(e,n):_0(e,n))&&(u=ji(u,"onBeforeInput"),0<u.length&&(d=new du("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=P))}bh(p,r)})}function vs(e,r,n){return{instance:e,listener:r,currentTarget:n}}function ji(e,r){for(var n=r+"Capture",s=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ds(e,n),o!=null&&s.unshift(vs(e,o,i)),o=ds(e,r),o!=null&&s.push(vs(e,o,i))),e=e.return}return s}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cu(e,r,n,s,i){for(var o=r._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=ds(n,o),c!=null&&a.unshift(vs(n,c,l))):i||(c=ds(n,o),c!=null&&a.push(vs(n,c,l)))),n=n.return}a.length!==0&&e.push({event:r,listeners:a})}var K0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(K0,`
`).replace(J0,"")}function Ys(e,r,n){if(r=bu(r),bu(e)!==r&&n)throw Error(A(425))}function Ri(){}var za=null,Ha=null;function Ua(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ga=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(e){return ku.resolve(null).then(e).catch(X0)}:Ga;function X0(e){setTimeout(function(){throw e})}function Wo(e,r){var n=r,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),ms(r);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);ms(r)}function cr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Pu(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Ln=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ln,xs="__reactProps$"+Ln,Ut="__reactContainer$"+Ln,$a="__reactEvents$"+Ln,Z0="__reactListeners$"+Ln,ey="__reactHandles$"+Ln;function Lr(e){var r=e[kt];if(r)return r;for(var n=e.parentNode;n;){if(r=n[Ut]||n[kt]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=Pu(e);e!==null;){if(n=e[kt])return n;e=Pu(e)}return r}e=n,n=e.parentNode}return null}function js(e){return e=e[kt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function en(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function uo(e){return e[xs]||null}var Wa=[],tn=-1;function Sr(e){return{current:e}}function ie(e){0>tn||(e.current=Wa[tn],Wa[tn]=null,tn--)}function re(e,r){tn++,Wa[tn]=e.current,e.current=r}var yr={},Ie=Sr(yr),Ke=Sr(!1),Vr=yr;function wn(e,r){var n=e.type.contextTypes;if(!n)return yr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=r[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),i}function Je(e){return e=e.childContextTypes,e!=null}function _i(){ie(Ke),ie(Ie)}function Eu(e,r,n){if(Ie.current!==yr)throw Error(A(168));re(Ie,r),re(Ke,n)}function Ph(e,r,n){var s=e.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in r))throw Error(A(108,Vg(e)||"Unknown",i));return me({},n,s)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yr,Vr=Ie.current,re(Ie,e),re(Ke,Ke.current),!0}function Au(e,r,n){var s=e.stateNode;if(!s)throw Error(A(169));n?(e=Ph(e,r,Vr),s.__reactInternalMemoizedMergedChildContext=e,ie(Ke),ie(Ie),re(Ie,e)):ie(Ke),re(Ke,n)}var jt=null,po=!1,qo=!1;function Eh(e){jt===null?jt=[e]:jt.push(e)}function ty(e){po=!0,Eh(e)}function Tr(){if(!qo&&jt!==null){qo=!0;var e=0,r=Z;try{var n=jt;for(Z=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}jt=null,po=!1}catch(i){throw jt!==null&&(jt=jt.slice(e+1)),Xp(Bl,Tr),i}finally{Z=r,qo=!1}}return null}var rn=[],nn=0,Ii=null,Oi=0,lt=[],ct=0,Fr=null,Nt=1,It="";function Pr(e,r){rn[nn++]=Oi,rn[nn++]=Ii,Ii=e,Oi=r}function Ah(e,r,n){lt[ct++]=Nt,lt[ct++]=It,lt[ct++]=Fr,Fr=e;var s=Nt;e=It;var i=32-xt(s)-1;s&=~(1<<i),n+=1;var o=32-xt(r)+i;if(30<o){var a=i-i%5;o=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Nt=1<<32-xt(r)+i|n<<i|s,It=o+e}else Nt=1<<o|n<<i|s,It=e}function Jl(e){e.return!==null&&(Pr(e,1),Ah(e,1,0))}function Ql(e){for(;e===Ii;)Ii=rn[--nn],rn[nn]=null,Oi=rn[--nn],rn[nn]=null;for(;e===Fr;)Fr=lt[--ct],lt[ct]=null,It=lt[--ct],lt[ct]=null,Nt=lt[--ct],lt[ct]=null}var et=null,Ze=null,le=!1,vt=null;function Mh(e,r){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function Mu(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,et=e,Ze=cr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,et=e,Ze=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=Fr!==null?{id:Nt,overflow:It}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ka(e){if(le){var r=Ze;if(r){var n=r;if(!Mu(e,r)){if(qa(e))throw Error(A(418));r=cr(n.nextSibling);var s=et;r&&Mu(e,r)?Mh(s,n):(e.flags=e.flags&-4097|2,le=!1,et=e)}}else{if(qa(e))throw Error(A(418));e.flags=e.flags&-4097|2,le=!1,et=e}}}function Du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Xs(e){if(e!==et)return!1;if(!le)return Du(e),le=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Ua(e.type,e.memoizedProps)),r&&(r=Ze)){if(qa(e))throw Dh(),Error(A(418));for(;r;)Mh(e,r),r=cr(r.nextSibling)}if(Du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){Ze=cr(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}Ze=null}}else Ze=et?cr(e.stateNode.nextSibling):null;return!0}function Dh(){for(var e=Ze;e;)e=cr(e.nextSibling)}function Sn(){Ze=et=null,le=!1}function Yl(e){vt===null?vt=[e]:vt.push(e)}var ry=qt.ReactCurrentBatchConfig;function Fn(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var s=n.stateNode}if(!s)throw Error(A(147,e));var i=s,o=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===o?r.ref:(r=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},r._stringRef=o,r)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Zs(e,r){throw e=Object.prototype.toString.call(r),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Lu(e){var r=e._init;return r(e._payload)}function Lh(e){function r(x,f){if(e){var g=x.deletions;g===null?(x.deletions=[f],x.flags|=16):g.push(f)}}function n(x,f){if(!e)return null;for(;f!==null;)r(x,f),f=f.sibling;return null}function s(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function i(x,f){return x=hr(x,f),x.index=0,x.sibling=null,x}function o(x,f,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<f?(x.flags|=2,f):g):(x.flags|=2,f)):(x.flags|=1048576,f)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,f,g,S){return f===null||f.tag!==6?(f=ea(g,x.mode,S),f.return=x,f):(f=i(f,g),f.return=x,f)}function c(x,f,g,S){var C=g.type;return C===Qr?d(x,f,g.props.children,S,g.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zt&&Lu(C)===f.type)?(S=i(f,g.props),S.ref=Fn(x,f,g),S.return=x,S):(S=Si(g.type,g.key,g.props,null,x.mode,S),S.ref=Fn(x,f,g),S.return=x,S)}function u(x,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=ta(g,x.mode,S),f.return=x,f):(f=i(f,g.children||[]),f.return=x,f)}function d(x,f,g,S,C){return f===null||f.tag!==7?(f=Or(g,x.mode,S,C),f.return=x,f):(f=i(f,g),f.return=x,f)}function p(x,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ea(""+f,x.mode,g),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Hs:return g=Si(f.type,f.key,f.props,null,x.mode,g),g.ref=Fn(x,null,f),g.return=x,g;case Jr:return f=ta(f,x.mode,g),f.return=x,f;case Zt:var S=f._init;return p(x,S(f._payload),g)}if(Wn(f)||_n(f))return f=Or(f,x.mode,g,null),f.return=x,f;Zs(x,f)}return null}function m(x,f,g,S){var C=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:l(x,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hs:return g.key===C?c(x,f,g,S):null;case Jr:return g.key===C?u(x,f,g,S):null;case Zt:return C=g._init,m(x,f,C(g._payload),S)}if(Wn(g)||_n(g))return C!==null?null:d(x,f,g,S,null);Zs(x,g)}return null}function v(x,f,g,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(g)||null,l(f,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hs:return x=x.get(S.key===null?g:S.key)||null,c(f,x,S,C);case Jr:return x=x.get(S.key===null?g:S.key)||null,u(f,x,S,C);case Zt:var b=S._init;return v(x,f,g,b(S._payload),C)}if(Wn(S)||_n(S))return x=x.get(g)||null,d(f,x,S,C,null);Zs(f,S)}return null}function y(x,f,g,S){for(var C=null,b=null,P=f,E=f=0,M=null;P!==null&&E<g.length;E++){P.index>E?(M=P,P=null):M=P.sibling;var _=m(x,P,g[E],S);if(_===null){P===null&&(P=M);break}e&&P&&_.alternate===null&&r(x,P),f=o(_,f,E),b===null?C=_:b.sibling=_,b=_,P=M}if(E===g.length)return n(x,P),le&&Pr(x,E),C;if(P===null){for(;E<g.length;E++)P=p(x,g[E],S),P!==null&&(f=o(P,f,E),b===null?C=P:b.sibling=P,b=P);return le&&Pr(x,E),C}for(P=s(x,P);E<g.length;E++)M=v(P,x,E,g[E],S),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?E:M.key),f=o(M,f,E),b===null?C=M:b.sibling=M,b=M);return e&&P.forEach(function(B){return r(x,B)}),le&&Pr(x,E),C}function T(x,f,g,S){var C=_n(g);if(typeof C!="function")throw Error(A(150));if(g=C.call(g),g==null)throw Error(A(151));for(var b=C=null,P=f,E=f=0,M=null,_=g.next();P!==null&&!_.done;E++,_=g.next()){P.index>E?(M=P,P=null):M=P.sibling;var B=m(x,P,_.value,S);if(B===null){P===null&&(P=M);break}e&&P&&B.alternate===null&&r(x,P),f=o(B,f,E),b===null?C=B:b.sibling=B,b=B,P=M}if(_.done)return n(x,P),le&&Pr(x,E),C;if(P===null){for(;!_.done;E++,_=g.next())_=p(x,_.value,S),_!==null&&(f=o(_,f,E),b===null?C=_:b.sibling=_,b=_);return le&&Pr(x,E),C}for(P=s(x,P);!_.done;E++,_=g.next())_=v(P,x,E,_.value,S),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?E:_.key),f=o(_,f,E),b===null?C=_:b.sibling=_,b=_);return e&&P.forEach(function(L){return r(x,L)}),le&&Pr(x,E),C}function k(x,f,g,S){if(typeof g=="object"&&g!==null&&g.type===Qr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Hs:e:{for(var C=g.key,b=f;b!==null;){if(b.key===C){if(C=g.type,C===Qr){if(b.tag===7){n(x,b.sibling),f=i(b,g.props.children),f.return=x,x=f;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zt&&Lu(C)===b.type){n(x,b.sibling),f=i(b,g.props),f.ref=Fn(x,b,g),f.return=x,x=f;break e}n(x,b);break}else r(x,b);b=b.sibling}g.type===Qr?(f=Or(g.props.children,x.mode,S,g.key),f.return=x,x=f):(S=Si(g.type,g.key,g.props,null,x.mode,S),S.ref=Fn(x,f,g),S.return=x,x=S)}return a(x);case Jr:e:{for(b=g.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(x,f.sibling),f=i(f,g.children||[]),f.return=x,x=f;break e}else{n(x,f);break}else r(x,f);f=f.sibling}f=ta(g,x.mode,S),f.return=x,x=f}return a(x);case Zt:return b=g._init,k(x,f,b(g._payload),S)}if(Wn(g))return y(x,f,g,S);if(_n(g))return T(x,f,g,S);Zs(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(x,f.sibling),f=i(f,g),f.return=x,x=f):(n(x,f),f=ea(g,x.mode,S),f.return=x,x=f),a(x)):n(x,f)}return k}var Tn=Lh(!0),jh=Lh(!1),Vi=Sr(null),Fi=null,sn=null,Xl=null;function Zl(){Xl=sn=Fi=null}function ec(e){var r=Vi.current;ie(Vi),e._currentValue=r}function Ja(e,r,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===n)break;e=e.return}}function gn(e,r){Fi=e,Xl=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(qe=!0),e.firstContext=null)}function pt(e){var r=e._currentValue;if(Xl!==e)if(e={context:e,memoizedValue:r,next:null},sn===null){if(Fi===null)throw Error(A(308));sn=e,Fi.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return r}var jr=null;function tc(e){jr===null?jr=[e]:jr.push(e)}function Rh(e,r,n,s){var i=r.interleaved;return i===null?(n.next=n,tc(r)):(n.next=i.next,i.next=n),r.interleaved=n,Gt(e,s)}function Gt(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var er=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function ur(e,r,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,X&2){var i=s.pending;return i===null?r.next=r:(r.next=i.next,i.next=r),s.pending=r,Gt(e,n)}return i=s.interleaved,i===null?(r.next=r,tc(s)):(r.next=i.next,i.next=r),s.interleaved=r,Gt(e,n)}function fi(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,zl(e,n)}}function ju(e,r){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=r:o=o.next=r}else i=o=r;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function Bi(e,r,n,s){var i=e.updateQueue;er=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;a=0,d=u=c=null,l=o;do{var m=l.lane,v=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,T=l;switch(m=r,v=n,T.tag){case 1:if(y=T.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=me({},p,m);break e;case 2:er=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=p):d=d.next=v,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,r=i.shared.interleaved,r!==null){i=r;do a|=i.lane,i=i.next;while(i!==r)}else o===null&&(i.shared.lanes=0);zr|=a,e.lanes=a,e.memoizedState=p}}function Ru(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var s=e[r],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(A(191,i));i.call(s)}}}var Rs={},Et=Sr(Rs),ws=Sr(Rs),Ss=Sr(Rs);function Rr(e){if(e===Rs)throw Error(A(174));return e}function nc(e,r){switch(re(Ss,r),re(ws,e),re(Et,Rs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ma(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Ma(r,e)}ie(Et),re(Et,r)}function Cn(){ie(Et),ie(ws),ie(Ss)}function Nh(e){Rr(Ss.current);var r=Rr(Et.current),n=Ma(r,e.type);r!==n&&(re(ws,e),re(Et,n))}function sc(e){ws.current===e&&(ie(Et),ie(ws))}var ue=Sr(0);function zi(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ko=[];function ic(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var gi=qt.ReactCurrentDispatcher,Jo=qt.ReactCurrentBatchConfig,Br=0,he=null,Te=null,Pe=null,Hi=!1,ts=!1,Ts=0,ny=0;function Le(){throw Error(A(321))}function oc(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!St(e[n],r[n]))return!1;return!0}function ac(e,r,n,s,i,o){if(Br=o,he=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,gi.current=e===null||e.memoizedState===null?ay:ly,e=n(s,i),ts){o=0;do{if(ts=!1,Ts=0,25<=o)throw Error(A(301));o+=1,Pe=Te=null,r.updateQueue=null,gi.current=cy,e=n(s,i)}while(ts)}if(gi.current=Ui,r=Te!==null&&Te.next!==null,Br=0,Pe=Te=he=null,Hi=!1,r)throw Error(A(300));return e}function lc(){var e=Ts!==0;return Ts=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?he.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function ht(){if(Te===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var r=Pe===null?he.memoizedState:Pe.next;if(r!==null)Pe=r,Te=e;else{if(e===null)throw Error(A(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?he.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Cs(e,r){return typeof r=="function"?r(e):r}function Qo(e){var r=ht(),n=r.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var s=Te,i=s.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}s.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,s=s.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Br&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=s):c=c.next=p,he.lanes|=d,zr|=d}u=u.next}while(u!==null&&u!==o);c===null?a=s:c.next=l,St(s,r.memoizedState)||(qe=!0),r.memoizedState=s,r.baseState=a,r.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do o=i.lane,he.lanes|=o,zr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Yo(e){var r=ht(),n=r.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,o=r.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);St(o,r.memoizedState)||(qe=!0),r.memoizedState=o,r.baseQueue===null&&(r.baseState=o),n.lastRenderedState=o}return[o,s]}function Ih(){}function Oh(e,r){var n=he,s=ht(),i=r(),o=!St(s.memoizedState,i);if(o&&(s.memoizedState=i,qe=!0),s=s.queue,cc(Bh.bind(null,n,s,e),[e]),s.getSnapshot!==r||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,bs(9,Fh.bind(null,n,s,i,r),void 0,null),Ee===null)throw Error(A(349));Br&30||Vh(n,r,i)}return i}function Vh(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=he.updateQueue,r===null?(r={lastEffect:null,stores:null},he.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function Fh(e,r,n,s){r.value=n,r.getSnapshot=s,zh(r)&&Hh(e)}function Bh(e,r,n){return n(function(){zh(r)&&Hh(e)})}function zh(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!St(e,n)}catch{return!0}}function Hh(e){var r=Gt(e,1);r!==null&&wt(r,e,1,-1)}function _u(e){var r=bt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},r.queue=e,e=e.dispatch=oy.bind(null,he,e),[r.memoizedState,e]}function bs(e,r,n,s){return e={tag:e,create:r,destroy:n,deps:s,next:null},r=he.updateQueue,r===null?(r={lastEffect:null,stores:null},he.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,r.lastEffect=e)),e}function Uh(){return ht().memoizedState}function yi(e,r,n,s){var i=bt();he.flags|=e,i.memoizedState=bs(1|r,n,void 0,s===void 0?null:s)}function ho(e,r,n,s){var i=ht();s=s===void 0?null:s;var o=void 0;if(Te!==null){var a=Te.memoizedState;if(o=a.destroy,s!==null&&oc(s,a.deps)){i.memoizedState=bs(r,n,o,s);return}}he.flags|=e,i.memoizedState=bs(1|r,n,o,s)}function Nu(e,r){return yi(8390656,8,e,r)}function cc(e,r){return ho(2048,8,e,r)}function Gh(e,r){return ho(4,2,e,r)}function $h(e,r){return ho(4,4,e,r)}function Wh(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function qh(e,r,n){return n=n!=null?n.concat([e]):null,ho(4,4,Wh.bind(null,r,e),n)}function uc(){}function Kh(e,r){var n=ht();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&oc(r,s[1])?s[0]:(n.memoizedState=[e,r],e)}function Jh(e,r){var n=ht();r=r===void 0?null:r;var s=n.memoizedState;return s!==null&&r!==null&&oc(r,s[1])?s[0]:(e=e(),n.memoizedState=[e,r],e)}function Qh(e,r,n){return Br&21?(St(n,r)||(n=th(),he.lanes|=n,zr|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function sy(e,r){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var s=Jo.transition;Jo.transition={};try{e(!1),r()}finally{Z=n,Jo.transition=s}}function Yh(){return ht().memoizedState}function iy(e,r,n){var s=pr(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Xh(e))Zh(r,n);else if(n=Rh(e,r,n,s),n!==null){var i=He();wt(n,e,s,i),em(n,r,s)}}function oy(e,r,n){var s=pr(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xh(e))Zh(r,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=r.lastRenderedReducer,o!==null))try{var a=r.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,St(l,a)){var c=r.interleaved;c===null?(i.next=i,tc(r)):(i.next=c.next,c.next=i),r.interleaved=i;return}}catch{}finally{}n=Rh(e,r,i,s),n!==null&&(i=He(),wt(n,e,s,i),em(n,r,s))}}function Xh(e){var r=e.alternate;return e===he||r!==null&&r===he}function Zh(e,r){ts=Hi=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function em(e,r,n){if(n&4194240){var s=r.lanes;s&=e.pendingLanes,n|=s,r.lanes=n,zl(e,n)}}var Ui={readContext:pt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},ay={readContext:pt,useCallback:function(e,r){return bt().memoizedState=[e,r===void 0?null:r],e},useContext:pt,useEffect:Nu,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,yi(4194308,4,Wh.bind(null,r,e),n)},useLayoutEffect:function(e,r){return yi(4194308,4,e,r)},useInsertionEffect:function(e,r){return yi(4,2,e,r)},useMemo:function(e,r){var n=bt();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var s=bt();return r=n!==void 0?n(r):r,s.memoizedState=s.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=iy.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var r=bt();return e={current:e},r.memoizedState=e},useState:_u,useDebugValue:uc,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=_u(!1),r=e[0];return e=sy.bind(null,e[1]),bt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var s=he,i=bt();if(le){if(n===void 0)throw Error(A(407));n=n()}else{if(n=r(),Ee===null)throw Error(A(349));Br&30||Vh(s,r,n)}i.memoizedState=n;var o={value:n,getSnapshot:r};return i.queue=o,Nu(Bh.bind(null,s,o,e),[e]),s.flags|=2048,bs(9,Fh.bind(null,s,o,n,r),void 0,null),n},useId:function(){var e=bt(),r=Ee.identifierPrefix;if(le){var n=It,s=Nt;n=(s&~(1<<32-xt(s)-1)).toString(32)+n,r=":"+r+"R"+n,n=Ts++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=ny++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},ly={readContext:pt,useCallback:Kh,useContext:pt,useEffect:cc,useImperativeHandle:qh,useInsertionEffect:Gh,useLayoutEffect:$h,useMemo:Jh,useReducer:Qo,useRef:Uh,useState:function(){return Qo(Cs)},useDebugValue:uc,useDeferredValue:function(e){var r=ht();return Qh(r,Te.memoizedState,e)},useTransition:function(){var e=Qo(Cs)[0],r=ht().memoizedState;return[e,r]},useMutableSource:Ih,useSyncExternalStore:Oh,useId:Yh,unstable_isNewReconciler:!1},cy={readContext:pt,useCallback:Kh,useContext:pt,useEffect:cc,useImperativeHandle:qh,useInsertionEffect:Gh,useLayoutEffect:$h,useMemo:Jh,useReducer:Yo,useRef:Uh,useState:function(){return Yo(Cs)},useDebugValue:uc,useDeferredValue:function(e){var r=ht();return Te===null?r.memoizedState=e:Qh(r,Te.memoizedState,e)},useTransition:function(){var e=Yo(Cs)[0],r=ht().memoizedState;return[e,r]},useMutableSource:Ih,useSyncExternalStore:Oh,useId:Yh,unstable_isNewReconciler:!1};function gt(e,r){if(e&&e.defaultProps){r=me({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function Qa(e,r,n,s){r=e.memoizedState,n=n(s,r),n=n==null?r:me({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return(e=e._reactInternals)?Gr(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var s=He(),i=pr(e),o=Ft(s,i);o.payload=r,n!=null&&(o.callback=n),r=ur(e,o,i),r!==null&&(wt(r,e,i,s),fi(r,e,i))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var s=He(),i=pr(e),o=Ft(s,i);o.tag=1,o.payload=r,n!=null&&(o.callback=n),r=ur(e,o,i),r!==null&&(wt(r,e,i,s),fi(r,e,i))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=He(),s=pr(e),i=Ft(n,s);i.tag=2,r!=null&&(i.callback=r),r=ur(e,i,s),r!==null&&(wt(r,e,s,n),fi(r,e,s))}};function Iu(e,r,n,s,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,a):r.prototype&&r.prototype.isPureReactComponent?!gs(n,s)||!gs(i,o):!0}function tm(e,r,n){var s=!1,i=yr,o=r.contextType;return typeof o=="object"&&o!==null?o=pt(o):(i=Je(r)?Vr:Ie.current,s=r.contextTypes,o=(s=s!=null)?wn(e,i):yr),r=new r(n,o),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=mo,e.stateNode=r,r._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),r}function Ou(e,r,n,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,s),r.state!==e&&mo.enqueueReplaceState(r,r.state,null)}function Ya(e,r,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},rc(e);var o=r.contextType;typeof o=="object"&&o!==null?i.context=pt(o):(o=Je(r)?Vr:Ie.current,i.context=wn(e,o)),i.state=e.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(Qa(e,r,o,n),i.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&mo.enqueueReplaceState(i,i.state,null),Bi(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bn(e,r){try{var n="",s=r;do n+=Og(s),s=s.return;while(s);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:r,stack:i,digest:null}}function Xo(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function Xa(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var uy=typeof WeakMap=="function"?WeakMap:Map;function rm(e,r,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var s=r.value;return n.callback=function(){$i||($i=!0,ll=s),Xa(e,r)},n}function nm(e,r,n){n=Ft(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=r.value;n.payload=function(){return s(i)},n.callback=function(){Xa(e,r)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xa(e,r),typeof s!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})}),n}function Vu(e,r,n){var s=e.pingCache;if(s===null){s=e.pingCache=new uy;var i=new Set;s.set(r,i)}else i=s.get(r),i===void 0&&(i=new Set,s.set(r,i));i.has(n)||(i.add(n),e=by.bind(null,e,r,n),r.then(e,e))}function Fu(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Bu(e,r,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=Ft(-1,1),r.tag=2,ur(n,r,1))),n.lanes|=1),e)}var dy=qt.ReactCurrentOwner,qe=!1;function Be(e,r,n,s){r.child=e===null?jh(r,null,n,s):Tn(r,e.child,n,s)}function zu(e,r,n,s,i){n=n.render;var o=r.ref;return gn(r,i),s=ac(e,r,n,s,o,i),n=lc(),e!==null&&!qe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~i,$t(e,r,i)):(le&&n&&Jl(r),r.flags|=1,Be(e,r,s,i),r.child)}function Hu(e,r,n,s,i){if(e===null){var o=n.type;return typeof o=="function"&&!vc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=o,sm(e,r,o,s,i)):(e=Si(n.type,null,s,r,r.mode,i),e.ref=r.ref,e.return=r,r.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:gs,n(a,s)&&e.ref===r.ref)return $t(e,r,i)}return r.flags|=1,e=hr(o,s),e.ref=r.ref,e.return=r,r.child=e}function sm(e,r,n,s,i){if(e!==null){var o=e.memoizedProps;if(gs(o,s)&&e.ref===r.ref)if(qe=!1,r.pendingProps=s=o,(e.lanes&i)!==0)e.flags&131072&&(qe=!0);else return r.lanes=e.lanes,$t(e,r,i)}return Za(e,r,n,s,i)}function im(e,r,n){var s=r.pendingProps,i=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(an,Xe),Xe|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,re(an,Xe),Xe|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,re(an,Xe),Xe|=s}else o!==null?(s=o.baseLanes|n,r.memoizedState=null):s=n,re(an,Xe),Xe|=s;return Be(e,r,i,n),r.child}function om(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function Za(e,r,n,s,i){var o=Je(n)?Vr:Ie.current;return o=wn(r,o),gn(r,i),n=ac(e,r,n,s,o,i),s=lc(),e!==null&&!qe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~i,$t(e,r,i)):(le&&s&&Jl(r),r.flags|=1,Be(e,r,n,i),r.child)}function Uu(e,r,n,s,i){if(Je(n)){var o=!0;Ni(r)}else o=!1;if(gn(r,i),r.stateNode===null)vi(e,r),tm(r,n,s),Ya(r,n,s,i),s=!0;else if(e===null){var a=r.stateNode,l=r.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Je(n)?Vr:Ie.current,u=wn(r,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Ou(r,a,s,u),er=!1;var m=r.memoizedState;a.state=m,Bi(r,s,a,i),c=r.memoizedState,l!==s||m!==c||Ke.current||er?(typeof d=="function"&&(Qa(r,n,d,s),c=r.memoizedState),(l=er||Iu(r,n,l,s,m,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(r.flags|=4194308)):(typeof a.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{a=r.stateNode,_h(e,r),l=r.memoizedProps,u=r.type===r.elementType?l:gt(r.type,l),a.props=u,p=r.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=pt(c):(c=Je(n)?Vr:Ie.current,c=wn(r,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||m!==c)&&Ou(r,a,s,c),er=!1,m=r.memoizedState,a.state=m,Bi(r,s,a,i);var y=r.memoizedState;l!==p||m!==y||Ke.current||er?(typeof v=="function"&&(Qa(r,n,v,s),y=r.memoizedState),(u=er||Iu(r,n,u,s,m,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,c)),typeof a.componentDidUpdate=="function"&&(r.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=y),a.props=s,a.state=y,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),s=!1)}return el(e,r,n,s,o,i)}function el(e,r,n,s,i,o){om(e,r);var a=(r.flags&128)!==0;if(!s&&!a)return i&&Au(r,n,!1),$t(e,r,o);s=r.stateNode,dy.current=r;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,e!==null&&a?(r.child=Tn(r,e.child,null,o),r.child=Tn(r,null,l,o)):Be(e,r,l,o),r.memoizedState=s.state,i&&Au(r,n,!0),r.child}function am(e){var r=e.stateNode;r.pendingContext?Eu(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Eu(e,r.context,!1),nc(e,r.containerInfo)}function Gu(e,r,n,s,i){return Sn(),Yl(i),r.flags|=256,Be(e,r,n,s),r.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function lm(e,r,n){var s=r.pendingProps,i=ue.current,o=!1,a=(r.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),re(ue,i&1),e===null)return Ka(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(a=s.children,e=s.fallback,o?(s=r.mode,o=r.child,a={mode:"hidden",children:a},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=yo(a,s,0,null),e=Or(e,s,n,null),o.return=r,e.return=r,o.sibling=e,r.child=o,r.child.memoizedState=rl(n),r.memoizedState=tl,e):dc(r,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return py(e,r,a,s,l,i,n);if(o){o=s.fallback,a=r.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&r.child!==i?(s=r.child,s.childLanes=0,s.pendingProps=c,r.deletions=null):(s=hr(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=hr(l,o):(o=Or(o,a,n,null),o.flags|=2),o.return=r,s.return=r,s.sibling=o,r.child=s,s=o,o=r.child,a=e.child.memoizedState,a=a===null?rl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,r.memoizedState=tl,s}return o=e.child,e=o.sibling,s=hr(o,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=n),s.return=r,s.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=s,r.memoizedState=null,s}function dc(e,r){return r=yo({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ei(e,r,n,s){return s!==null&&Yl(s),Tn(r,e.child,null,n),e=dc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function py(e,r,n,s,i,o,a){if(n)return r.flags&256?(r.flags&=-257,s=Xo(Error(A(422))),ei(e,r,a,s)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(o=s.fallback,i=r.mode,s=yo({mode:"visible",children:s.children},i,0,null),o=Or(o,i,a,null),o.flags|=2,s.return=r,o.return=r,s.sibling=o,r.child=s,r.mode&1&&Tn(r,e.child,null,a),r.child.memoizedState=rl(a),r.memoizedState=tl,o);if(!(r.mode&1))return ei(e,r,a,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(A(419)),s=Xo(o,s,void 0),ei(e,r,a,s)}if(l=(a&e.childLanes)!==0,qe||l){if(s=Ee,s!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gt(e,i),wt(s,e,i,-1))}return yc(),s=Xo(Error(A(421))),ei(e,r,a,s)}return i.data==="$?"?(r.flags|=128,r.child=e.child,r=ky.bind(null,e),i._reactRetry=r,null):(e=o.treeContext,Ze=cr(i.nextSibling),et=r,le=!0,vt=null,e!==null&&(lt[ct++]=Nt,lt[ct++]=It,lt[ct++]=Fr,Nt=e.id,It=e.overflow,Fr=r),r=dc(r,s.children),r.flags|=4096,r)}function $u(e,r,n){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),Ja(e.return,r,n)}function Zo(e,r,n,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(o.isBackwards=r,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i)}function cm(e,r,n){var s=r.pendingProps,i=s.revealOrder,o=s.tail;if(Be(e,r,s.children,n),s=ue.current,s&2)s=s&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$u(e,n,r);else if(e.tag===19)$u(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(re(ue,s),!(r.mode&1))r.memoizedState=null;else switch(i){case"forwards":for(n=r.child,i=null;n!==null;)e=n.alternate,e!==null&&zi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=r.child,r.child=null):(i=n.sibling,n.sibling=null),Zo(r,!1,i,n,o);break;case"backwards":for(n=null,i=r.child,r.child=null;i!==null;){if(e=i.alternate,e!==null&&zi(e)===null){r.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(r,!0,n,null,o);break;case"together":Zo(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vi(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function $t(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),zr|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(A(153));if(r.child!==null){for(e=r.child,n=hr(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function hy(e,r,n){switch(r.tag){case 3:am(r),Sn();break;case 5:Nh(r);break;case 1:Je(r.type)&&Ni(r);break;case 4:nc(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,i=r.memoizedProps.value;re(Vi,s._currentValue),s._currentValue=i;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(re(ue,ue.current&1),r.flags|=128,null):n&r.child.childLanes?lm(e,r,n):(re(ue,ue.current&1),e=$t(e,r,n),e!==null?e.sibling:null);re(ue,ue.current&1);break;case 19:if(s=(n&r.childLanes)!==0,e.flags&128){if(s)return cm(e,r,n);r.flags|=128}if(i=r.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(ue,ue.current),s)break;return null;case 22:case 23:return r.lanes=0,im(e,r,n)}return $t(e,r,n)}var um,nl,dm,pm;um=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nl=function(){};dm=function(e,r,n,s){var i=e.memoizedProps;if(i!==s){e=r.stateNode,Rr(Et.current);var o=null;switch(n){case"input":i=ka(e,i),s=ka(e,s),o=[];break;case"select":i=me({},i,{value:void 0}),s=me({},s,{value:void 0}),o=[];break;case"textarea":i=Aa(e,i),s=Aa(e,s),o=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ri)}Da(n,s);var a;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(r.updateQueue=u)&&(r.flags|=4)}};pm=function(e,r,n,s){n!==s&&(r.flags|=4)};function Bn(e,r){if(!le)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function je(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(r)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,r}function my(e,r,n){var s=r.pendingProps;switch(Ql(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(r),null;case 1:return Je(r.type)&&_i(),je(r),null;case 3:return s=r.stateNode,Cn(),ie(Ke),ie(Ie),ic(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Xs(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,vt!==null&&(dl(vt),vt=null))),nl(e,r),je(r),null;case 5:sc(r);var i=Rr(Ss.current);if(n=r.type,e!==null&&r.stateNode!=null)dm(e,r,n,s,i),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(A(166));return je(r),null}if(e=Rr(Et.current),Xs(r)){s=r.stateNode,n=r.type;var o=r.memoizedProps;switch(s[kt]=r,s[xs]=o,e=(r.mode&1)!==0,n){case"dialog":se("cancel",s),se("close",s);break;case"iframe":case"object":case"embed":se("load",s);break;case"video":case"audio":for(i=0;i<Kn.length;i++)se(Kn[i],s);break;case"source":se("error",s);break;case"img":case"image":case"link":se("error",s),se("load",s);break;case"details":se("toggle",s);break;case"input":eu(s,o),se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},se("invalid",s);break;case"textarea":ru(s,o),se("invalid",s)}Da(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ys(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ys(s.textContent,l,e),i=["children",""+l]):cs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&se("scroll",s)}switch(n){case"input":Us(s),tu(s,o,!0);break;case"textarea":Us(s),nu(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Ri)}s=i,r.updateQueue=s,s!==null&&(r.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[kt]=r,e[xs]=s,um(e,r,!1,!1),r.stateNode=e;e:{switch(a=La(n,s),n){case"dialog":se("cancel",e),se("close",e),i=s;break;case"iframe":case"object":case"embed":se("load",e),i=s;break;case"video":case"audio":for(i=0;i<Kn.length;i++)se(Kn[i],e);i=s;break;case"source":se("error",e),i=s;break;case"img":case"image":case"link":se("error",e),se("load",e),i=s;break;case"details":se("toggle",e),i=s;break;case"input":eu(e,s),i=ka(e,s),se("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=me({},s,{value:void 0}),se("invalid",e);break;case"textarea":ru(e,s),i=Aa(e,s),se("invalid",e);break;default:i=s}Da(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Up(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zp(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&us(e,c):typeof c=="number"&&us(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(cs.hasOwnProperty(o)?c!=null&&o==="onScroll"&&se("scroll",e):c!=null&&Nl(e,o,c,a))}switch(n){case"input":Us(e),tu(e,s,!1);break;case"textarea":Us(e),nu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+gr(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?pn(e,!!s.multiple,o,!1):s.defaultValue!=null&&pn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ri)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return je(r),null;case 6:if(e&&r.stateNode!=null)pm(e,r,e.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(A(166));if(n=Rr(Ss.current),Rr(Et.current),Xs(r)){if(s=r.stateNode,n=r.memoizedProps,s[kt]=r,(o=s.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Ys(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(s.nodeValue,n,(e.mode&1)!==0)}o&&(r.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[kt]=r,r.stateNode=s}return je(r),null;case 13:if(ie(ue),s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Ze!==null&&r.mode&1&&!(r.flags&128))Dh(),Sn(),r.flags|=98560,o=!1;else if(o=Xs(r),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=r.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[kt]=r}else Sn(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;je(r),o=!1}else vt!==null&&(dl(vt),vt=null),o=!0;if(!o)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(e===null||ue.current&1?Ce===0&&(Ce=3):yc())),r.updateQueue!==null&&(r.flags|=4),je(r),null);case 4:return Cn(),nl(e,r),e===null&&ys(r.stateNode.containerInfo),je(r),null;case 10:return ec(r.type._context),je(r),null;case 17:return Je(r.type)&&_i(),je(r),null;case 19:if(ie(ue),o=r.memoizedState,o===null)return je(r),null;if(s=(r.flags&128)!==0,a=o.rendering,a===null)if(s)Bn(o,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(a=zi(e),a!==null){for(r.flags|=128,Bn(o,!1),s=a.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=n,n=r.child;n!==null;)o=n,e=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(ue,ue.current&1|2),r.child}e=e.sibling}o.tail!==null&&ye()>kn&&(r.flags|=128,s=!0,Bn(o,!1),r.lanes=4194304)}else{if(!s)if(e=zi(a),e!==null){if(r.flags|=128,s=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),Bn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!le)return je(r),null}else 2*ye()-o.renderingStartTime>kn&&n!==1073741824&&(r.flags|=128,s=!0,Bn(o,!1),r.lanes=4194304);o.isBackwards?(a.sibling=r.child,r.child=a):(n=o.last,n!==null?n.sibling=a:r.child=a,o.last=a)}return o.tail!==null?(r=o.tail,o.rendering=r,o.tail=r.sibling,o.renderingStartTime=ye(),r.sibling=null,n=ue.current,re(ue,s?n&1|2:n&1),r):(je(r),null);case 22:case 23:return gc(),s=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?Xe&1073741824&&(je(r),r.subtreeFlags&6&&(r.flags|=8192)):je(r),null;case 24:return null;case 25:return null}throw Error(A(156,r.tag))}function fy(e,r){switch(Ql(r),r.tag){case 1:return Je(r.type)&&_i(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Cn(),ie(Ke),ie(Ie),ic(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return sc(r),null;case 13:if(ie(ue),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(A(340));Sn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ie(ue),null;case 4:return Cn(),null;case 10:return ec(r.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var ti=!1,_e=!1,gy=typeof WeakSet=="function"?WeakSet:Set,V=null;function on(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){fe(e,r,s)}else n.current=null}function sl(e,r,n){try{n()}catch(s){fe(e,r,s)}}var Wu=!1;function yy(e,r){if(za=Di,e=yh(),Kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=a+i),p!==o||s!==0&&p.nodeType!==3||(c=a+s),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break t;if(m===n&&++u===i&&(l=a),m===o&&++d===s&&(c=a),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ha={focusedElem:e,selectionRange:n},Di=!1,V=r;V!==null;)if(r=V,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,V=e;else for(;V!==null;){r=V;try{var y=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var T=y.memoizedProps,k=y.memoizedState,x=r.stateNode,f=x.getSnapshotBeforeUpdate(r.elementType===r.type?T:gt(r.type,T),k);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=r.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(S){fe(r,r.return,S)}if(e=r.sibling,e!==null){e.return=r.return,V=e;break}V=r.return}return y=Wu,Wu=!1,y}function rs(e,r,n){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sl(r,n,o)}i=i.next}while(i!==s)}}function fo(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==r)}}function il(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function hm(e){var r=e.alternate;r!==null&&(e.alternate=null,hm(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[kt],delete r[xs],delete r[$a],delete r[Z0],delete r[ey])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mm(e){return e.tag===5||e.tag===3||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ol(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=Ri));else if(s!==4&&(e=e.child,e!==null))for(ol(e,r,n),e=e.sibling;e!==null;)ol(e,r,n),e=e.sibling}function al(e,r,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(al(e,r,n),e=e.sibling;e!==null;)al(e,r,n),e=e.sibling}var Ae=null,yt=!1;function Jt(e,r,n){for(n=n.child;n!==null;)fm(e,r,n),n=n.sibling}function fm(e,r,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(oo,n)}catch{}switch(n.tag){case 5:_e||on(n,r);case 6:var s=Ae,i=yt;Ae=null,Jt(e,r,n),Ae=s,yt=i,Ae!==null&&(yt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(yt?(e=Ae,n=n.stateNode,e.nodeType===8?Wo(e.parentNode,n):e.nodeType===1&&Wo(e,n),ms(e)):Wo(Ae,n.stateNode));break;case 4:s=Ae,i=yt,Ae=n.stateNode.containerInfo,yt=!0,Jt(e,r,n),Ae=s,yt=i;break;case 0:case 11:case 14:case 15:if(!_e&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&sl(n,r,a),i=i.next}while(i!==s)}Jt(e,r,n);break;case 1:if(!_e&&(on(n,r),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){fe(n,r,l)}Jt(e,r,n);break;case 21:Jt(e,r,n);break;case 22:n.mode&1?(_e=(s=_e)||n.memoizedState!==null,Jt(e,r,n),_e=s):Jt(e,r,n);break;default:Jt(e,r,n)}}function Ku(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gy),r.forEach(function(s){var i=Py.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function mt(e,r){var n=r.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var o=e,a=r,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ae=l.stateNode,yt=!1;break e;case 3:Ae=l.stateNode.containerInfo,yt=!0;break e;case 4:Ae=l.stateNode.containerInfo,yt=!0;break e}l=l.return}if(Ae===null)throw Error(A(160));fm(o,a,i),Ae=null,yt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){fe(i,r,u)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)gm(r,e),r=r.sibling}function gm(e,r){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(r,e),Tt(e),s&4){try{rs(3,e,e.return),fo(3,e)}catch(T){fe(e,e.return,T)}try{rs(5,e,e.return)}catch(T){fe(e,e.return,T)}}break;case 1:mt(r,e),Tt(e),s&512&&n!==null&&on(n,n.return);break;case 5:if(mt(r,e),Tt(e),s&512&&n!==null&&on(n,n.return),e.flags&32){var i=e.stateNode;try{us(i,"")}catch(T){fe(e,e.return,T)}}if(s&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Vp(i,o),La(l,a);var u=La(l,o);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];d==="style"?Up(i,p):d==="dangerouslySetInnerHTML"?zp(i,p):d==="children"?us(i,p):Nl(i,d,p,u)}switch(l){case"input":Pa(i,o);break;case"textarea":Fp(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?pn(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?pn(i,!!o.multiple,o.defaultValue,!0):pn(i,!!o.multiple,o.multiple?[]:"",!1))}i[xs]=o}catch(T){fe(e,e.return,T)}}break;case 6:if(mt(r,e),Tt(e),s&4){if(e.stateNode===null)throw Error(A(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(T){fe(e,e.return,T)}}break;case 3:if(mt(r,e),Tt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(r.containerInfo)}catch(T){fe(e,e.return,T)}break;case 4:mt(r,e),Tt(e);break;case 13:mt(r,e),Tt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(mc=ye())),s&4&&Ku(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(u=_e)||d,mt(r,e),_e=u):mt(r,e),Tt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(p=V=d;V!==null;){switch(m=V,v=m.child,m.tag){case 0:case 11:case 14:case 15:rs(4,m,m.return);break;case 1:on(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){s=m,n=m.return;try{r=s,y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(T){fe(s,n,T)}}break;case 5:on(m,m.return);break;case 22:if(m.memoizedState!==null){Qu(p);continue}}v!==null?(v.return=m,V=v):Qu(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Hp("display",a))}catch(T){fe(e,e.return,T)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(T){fe(e,e.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mt(r,e),Tt(e),s&4&&Ku(e);break;case 21:break;default:mt(r,e),Tt(e)}}function Tt(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(mm(n)){var s=n;break e}n=n.return}throw Error(A(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(us(i,""),s.flags&=-33);var o=qu(e);al(e,o,i);break;case 3:case 4:var a=s.stateNode.containerInfo,l=qu(e);ol(e,l,a);break;default:throw Error(A(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function vy(e,r,n){V=e,ym(e)}function ym(e,r,n){for(var s=(e.mode&1)!==0;V!==null;){var i=V,o=i.child;if(i.tag===22&&s){var a=i.memoizedState!==null||ti;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||_e;l=ti;var u=_e;if(ti=a,(_e=c)&&!u)for(V=i;V!==null;)a=V,c=a.child,a.tag===22&&a.memoizedState!==null?Yu(i):c!==null?(c.return=a,V=c):Yu(i);for(;o!==null;)V=o,ym(o),o=o.sibling;V=i,ti=l,_e=u}Ju(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,V=o):Ju(e)}}function Ju(e){for(;V!==null;){var r=V;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:_e||fo(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!_e)if(n===null)s.componentDidMount();else{var i=r.elementType===r.type?n.memoizedProps:gt(r.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=r.updateQueue;o!==null&&Ru(r,o,s);break;case 3:var a=r.updateQueue;if(a!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}Ru(r,a,n)}break;case 5:var l=r.stateNode;if(n===null&&r.flags&4){n=l;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var u=r.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ms(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}_e||r.flags&512&&il(r)}catch(m){fe(r,r.return,m)}}if(r===e){V=null;break}if(n=r.sibling,n!==null){n.return=r.return,V=n;break}V=r.return}}function Qu(e){for(;V!==null;){var r=V;if(r===e){V=null;break}var n=r.sibling;if(n!==null){n.return=r.return,V=n;break}V=r.return}}function Yu(e){for(;V!==null;){var r=V;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{fo(4,r)}catch(c){fe(r,n,c)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var i=r.return;try{s.componentDidMount()}catch(c){fe(r,i,c)}}var o=r.return;try{il(r)}catch(c){fe(r,o,c)}break;case 5:var a=r.return;try{il(r)}catch(c){fe(r,a,c)}}}catch(c){fe(r,r.return,c)}if(r===e){V=null;break}var l=r.sibling;if(l!==null){l.return=r.return,V=l;break}V=r.return}}var xy=Math.ceil,Gi=qt.ReactCurrentDispatcher,pc=qt.ReactCurrentOwner,dt=qt.ReactCurrentBatchConfig,X=0,Ee=null,xe=null,Me=0,Xe=0,an=Sr(0),Ce=0,ks=null,zr=0,go=0,hc=0,ns=null,We=null,mc=0,kn=1/0,Lt=null,$i=!1,ll=null,dr=null,ri=!1,ir=null,Wi=0,ss=0,cl=null,xi=-1,wi=0;function He(){return X&6?ye():xi!==-1?xi:xi=ye()}function pr(e){return e.mode&1?X&2&&Me!==0?Me&-Me:ry.transition!==null?(wi===0&&(wi=th()),wi):(e=Z,e!==0||(e=window.event,e=e===void 0?16:lh(e.type)),e):1}function wt(e,r,n,s){if(50<ss)throw ss=0,cl=null,Error(A(185));Ds(e,n,s),(!(X&2)||e!==Ee)&&(e===Ee&&(!(X&2)&&(go|=n),Ce===4&&nr(e,Me)),Qe(e,s),n===1&&X===0&&!(r.mode&1)&&(kn=ye()+500,po&&Tr()))}function Qe(e,r){var n=e.callbackNode;r0(e,r);var s=Mi(e,e===Ee?Me:0);if(s===0)n!==null&&ou(n),e.callbackNode=null,e.callbackPriority=0;else if(r=s&-s,e.callbackPriority!==r){if(n!=null&&ou(n),r===1)e.tag===0?ty(Xu.bind(null,e)):Eh(Xu.bind(null,e)),Y0(function(){!(X&6)&&Tr()}),n=null;else{switch(rh(s)){case 1:n=Bl;break;case 4:n=Zp;break;case 16:n=Ai;break;case 536870912:n=eh;break;default:n=Ai}n=km(n,vm.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function vm(e,r){if(xi=-1,wi=0,X&6)throw Error(A(327));var n=e.callbackNode;if(yn()&&e.callbackNode!==n)return null;var s=Mi(e,e===Ee?Me:0);if(s===0)return null;if(s&30||s&e.expiredLanes||r)r=qi(e,s);else{r=s;var i=X;X|=2;var o=wm();(Ee!==e||Me!==r)&&(Lt=null,kn=ye()+500,Ir(e,r));do try{Ty();break}catch(l){xm(e,l)}while(1);Zl(),Gi.current=o,X=i,xe!==null?r=0:(Ee=null,Me=0,r=Ce)}if(r!==0){if(r===2&&(i=Ia(e),i!==0&&(s=i,r=ul(e,i))),r===1)throw n=ks,Ir(e,0),nr(e,s),Qe(e,ye()),n;if(r===6)nr(e,s);else{if(i=e.current.alternate,!(s&30)&&!wy(i)&&(r=qi(e,s),r===2&&(o=Ia(e),o!==0&&(s=o,r=ul(e,o))),r===1))throw n=ks,Ir(e,0),nr(e,s),Qe(e,ye()),n;switch(e.finishedWork=i,e.finishedLanes=s,r){case 0:case 1:throw Error(A(345));case 2:Er(e,We,Lt);break;case 3:if(nr(e,s),(s&130023424)===s&&(r=mc+500-ye(),10<r)){if(Mi(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){He(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ga(Er.bind(null,e,We,Lt),r);break}Er(e,We,Lt);break;case 4:if(nr(e,s),(s&4194240)===s)break;for(r=e.eventTimes,i=-1;0<s;){var a=31-xt(s);o=1<<a,a=r[a],a>i&&(i=a),s&=~o}if(s=i,s=ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*xy(s/1960))-s,10<s){e.timeoutHandle=Ga(Er.bind(null,e,We,Lt),s);break}Er(e,We,Lt);break;case 5:Er(e,We,Lt);break;default:throw Error(A(329))}}}return Qe(e,ye()),e.callbackNode===n?vm.bind(null,e):null}function ul(e,r){var n=ns;return e.current.memoizedState.isDehydrated&&(Ir(e,r).flags|=256),e=qi(e,r),e!==2&&(r=We,We=n,r!==null&&dl(r)),e}function dl(e){We===null?We=e:We.push.apply(We,e)}function wy(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],o=i.getSnapshot;i=i.value;try{if(!St(o(),i))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function nr(e,r){for(r&=~hc,r&=~go,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-xt(r),s=1<<n;e[n]=-1,r&=~s}}function Xu(e){if(X&6)throw Error(A(327));yn();var r=Mi(e,0);if(!(r&1))return Qe(e,ye()),null;var n=qi(e,r);if(e.tag!==0&&n===2){var s=Ia(e);s!==0&&(r=s,n=ul(e,s))}if(n===1)throw n=ks,Ir(e,0),nr(e,r),Qe(e,ye()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Er(e,We,Lt),Qe(e,ye()),null}function fc(e,r){var n=X;X|=1;try{return e(r)}finally{X=n,X===0&&(kn=ye()+500,po&&Tr())}}function Hr(e){ir!==null&&ir.tag===0&&!(X&6)&&yn();var r=X;X|=1;var n=dt.transition,s=Z;try{if(dt.transition=null,Z=1,e)return e()}finally{Z=s,dt.transition=n,X=r,!(X&6)&&Tr()}}function gc(){Xe=an.current,ie(an)}function Ir(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Q0(n)),xe!==null)for(n=xe.return;n!==null;){var s=n;switch(Ql(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&_i();break;case 3:Cn(),ie(Ke),ie(Ie),ic();break;case 5:sc(s);break;case 4:Cn();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:ec(s.type._context);break;case 22:case 23:gc()}n=n.return}if(Ee=e,xe=e=hr(e.current,null),Me=Xe=r,Ce=0,ks=null,hc=go=zr=0,We=ns=null,jr!==null){for(r=0;r<jr.length;r++)if(n=jr[r],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,s.next=a}n.pending=s}jr=null}return e}function xm(e,r){do{var n=xe;try{if(Zl(),gi.current=Ui,Hi){for(var s=he.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Hi=!1}if(Br=0,Pe=Te=he=null,ts=!1,Ts=0,pc.current=null,n===null||n.return===null){Ce=1,ks=r,xe=null;break}e:{var o=e,a=n.return,l=n,c=r;if(r=Me,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Fu(a);if(v!==null){v.flags&=-257,Bu(v,a,l,o,r),v.mode&1&&Vu(o,u,r),r=v,c=u;var y=r.updateQueue;if(y===null){var T=new Set;T.add(c),r.updateQueue=T}else y.add(c);break e}else{if(!(r&1)){Vu(o,u,r),yc();break e}c=Error(A(426))}}else if(le&&l.mode&1){var k=Fu(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Bu(k,a,l,o,r),Yl(bn(c,l));break e}}o=c=bn(c,l),Ce!==4&&(Ce=2),ns===null?ns=[o]:ns.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,r&=-r,o.lanes|=r;var x=rm(o,c,r);ju(o,x);break e;case 1:l=c;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g)))){o.flags|=65536,r&=-r,o.lanes|=r;var S=nm(o,l,r);ju(o,S);break e}}o=o.return}while(o!==null)}Tm(n)}catch(C){r=C,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(1)}function wm(){var e=Gi.current;return Gi.current=Ui,e===null?Ui:e}function yc(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ee===null||!(zr&268435455)&&!(go&268435455)||nr(Ee,Me)}function qi(e,r){var n=X;X|=2;var s=wm();(Ee!==e||Me!==r)&&(Lt=null,Ir(e,r));do try{Sy();break}catch(i){xm(e,i)}while(1);if(Zl(),X=n,Gi.current=s,xe!==null)throw Error(A(261));return Ee=null,Me=0,Ce}function Sy(){for(;xe!==null;)Sm(xe)}function Ty(){for(;xe!==null&&!qg();)Sm(xe)}function Sm(e){var r=bm(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,r===null?Tm(e):xe=r,pc.current=null}function Tm(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=fy(n,r),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,xe=null;return}}else if(n=my(n,r,Xe),n!==null){xe=n;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=e}while(r!==null);Ce===0&&(Ce=5)}function Er(e,r,n){var s=Z,i=dt.transition;try{dt.transition=null,Z=1,Cy(e,r,n,s)}finally{dt.transition=i,Z=s}return null}function Cy(e,r,n,s){do yn();while(ir!==null);if(X&6)throw Error(A(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(n0(e,o),e===Ee&&(xe=Ee=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ri||(ri=!0,km(Ai,function(){return yn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dt.transition,dt.transition=null;var a=Z;Z=1;var l=X;X|=4,pc.current=null,yy(e,n),gm(n,e),U0(Ha),Di=!!za,Ha=za=null,e.current=n,vy(n),Kg(),X=l,Z=a,dt.transition=o}else e.current=n;if(ri&&(ri=!1,ir=e,Wi=i),o=e.pendingLanes,o===0&&(dr=null),Yg(n.stateNode),Qe(e,ye()),r!==null)for(s=e.onRecoverableError,n=0;n<r.length;n++)i=r[n],s(i.value,{componentStack:i.stack,digest:i.digest});if($i)throw $i=!1,e=ll,ll=null,e;return Wi&1&&e.tag!==0&&yn(),o=e.pendingLanes,o&1?e===cl?ss++:(ss=0,cl=e):ss=0,Tr(),null}function yn(){if(ir!==null){var e=rh(Wi),r=dt.transition,n=Z;try{if(dt.transition=null,Z=16>e?16:e,ir===null)var s=!1;else{if(e=ir,ir=null,Wi=0,X&6)throw Error(A(331));var i=X;for(X|=4,V=e.current;V!==null;){var o=V,a=o.child;if(V.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:rs(8,d,o)}var p=d.child;if(p!==null)p.return=d,V=p;else for(;V!==null;){d=V;var m=d.sibling,v=d.return;if(hm(d),d===u){V=null;break}if(m!==null){m.return=v,V=m;break}V=v}}}var y=o.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var k=T.sibling;T.sibling=null,T=k}while(T!==null)}}V=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,V=a;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,V=x;break e}V=o.return}}var f=e.current;for(V=f;V!==null;){a=V;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,V=g;else e:for(a=f;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fo(9,l)}}catch(C){fe(l,l.return,C)}if(l===a){V=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,V=S;break e}V=l.return}}if(X=i,Tr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(oo,e)}catch{}s=!0}return s}finally{Z=n,dt.transition=r}}return!1}function Zu(e,r,n){r=bn(n,r),r=rm(e,r,1),e=ur(e,r,1),r=He(),e!==null&&(Ds(e,1,r),Qe(e,r))}function fe(e,r,n){if(e.tag===3)Zu(e,e,n);else for(;r!==null;){if(r.tag===3){Zu(r,e,n);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(dr===null||!dr.has(s))){e=bn(n,e),e=nm(r,e,1),r=ur(r,e,1),e=He(),r!==null&&(Ds(r,1,e),Qe(r,e));break}}r=r.return}}function by(e,r,n){var s=e.pingCache;s!==null&&s.delete(r),r=He(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Me&n)===n&&(Ce===4||Ce===3&&(Me&130023424)===Me&&500>ye()-mc?Ir(e,0):hc|=n),Qe(e,r)}function Cm(e,r){r===0&&(e.mode&1?(r=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):r=1);var n=He();e=Gt(e,r),e!==null&&(Ds(e,r,n),Qe(e,n))}function ky(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),Cm(e,n)}function Py(e,r){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(A(314))}s!==null&&s.delete(r),Cm(e,n)}var bm;bm=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ke.current)qe=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return qe=!1,hy(e,r,n);qe=!!(e.flags&131072)}else qe=!1,le&&r.flags&1048576&&Ah(r,Oi,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;vi(e,r),e=r.pendingProps;var i=wn(r,Ie.current);gn(r,n),i=ac(null,r,s,e,i,n);var o=lc();return r.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Je(s)?(o=!0,Ni(r)):o=!1,r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rc(r),i.updater=mo,r.stateNode=i,i._reactInternals=r,Ya(r,s,e,n),r=el(null,r,s,!0,o,n)):(r.tag=0,le&&o&&Jl(r),Be(null,r,i,n),r=r.child),r;case 16:s=r.elementType;e:{switch(vi(e,r),e=r.pendingProps,i=s._init,s=i(s._payload),r.type=s,i=r.tag=Ay(s),e=gt(s,e),i){case 0:r=Za(null,r,s,e,n);break e;case 1:r=Uu(null,r,s,e,n);break e;case 11:r=zu(null,r,s,e,n);break e;case 14:r=Hu(null,r,s,gt(s.type,e),n);break e}throw Error(A(306,s,""))}return r;case 0:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:gt(s,i),Za(e,r,s,i,n);case 1:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:gt(s,i),Uu(e,r,s,i,n);case 3:e:{if(am(r),e===null)throw Error(A(387));s=r.pendingProps,o=r.memoizedState,i=o.element,_h(e,r),Bi(r,s,null,n);var a=r.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},r.updateQueue.baseState=o,r.memoizedState=o,r.flags&256){i=bn(Error(A(423)),r),r=Gu(e,r,s,n,i);break e}else if(s!==i){i=bn(Error(A(424)),r),r=Gu(e,r,s,n,i);break e}else for(Ze=cr(r.stateNode.containerInfo.firstChild),et=r,le=!0,vt=null,n=jh(r,null,s,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sn(),s===i){r=$t(e,r,n);break e}Be(e,r,s,n)}r=r.child}return r;case 5:return Nh(r),e===null&&Ka(r),s=r.type,i=r.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Ua(s,i)?a=null:o!==null&&Ua(s,o)&&(r.flags|=32),om(e,r),Be(e,r,a,n),r.child;case 6:return e===null&&Ka(r),null;case 13:return lm(e,r,n);case 4:return nc(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=Tn(r,null,s,n):Be(e,r,s,n),r.child;case 11:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:gt(s,i),zu(e,r,s,i,n);case 7:return Be(e,r,r.pendingProps,n),r.child;case 8:return Be(e,r,r.pendingProps.children,n),r.child;case 12:return Be(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(s=r.type._context,i=r.pendingProps,o=r.memoizedProps,a=i.value,re(Vi,s._currentValue),s._currentValue=a,o!==null)if(St(o.value,a)){if(o.children===i.children&&!Ke.current){r=$t(e,r,n);break e}}else for(o=r.child,o!==null&&(o.return=r);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=Ft(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ja(o.return,n,r),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===r.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(A(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ja(a,n,r),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===r){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Be(e,r,i.children,n),r=r.child}return r;case 9:return i=r.type,s=r.pendingProps.children,gn(r,n),i=pt(i),s=s(i),r.flags|=1,Be(e,r,s,n),r.child;case 14:return s=r.type,i=gt(s,r.pendingProps),i=gt(s.type,i),Hu(e,r,s,i,n);case 15:return sm(e,r,r.type,r.pendingProps,n);case 17:return s=r.type,i=r.pendingProps,i=r.elementType===s?i:gt(s,i),vi(e,r),r.tag=1,Je(s)?(e=!0,Ni(r)):e=!1,gn(r,n),tm(r,s,i),Ya(r,s,i,n),el(null,r,s,!0,e,n);case 19:return cm(e,r,n);case 22:return im(e,r,n)}throw Error(A(156,r.tag))};function km(e,r){return Xp(e,r)}function Ey(e,r,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,r,n,s){return new Ey(e,r,n,s)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ay(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ol)return 11;if(e===Vl)return 14}return 2}function hr(e,r){var n=e.alternate;return n===null?(n=ut(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Si(e,r,n,s,i,o){var a=2;if(s=e,typeof e=="function")vc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qr:return Or(n.children,i,o,r);case Il:a=8,i|=8;break;case Sa:return e=ut(12,n,r,i|2),e.elementType=Sa,e.lanes=o,e;case Ta:return e=ut(13,n,r,i),e.elementType=Ta,e.lanes=o,e;case Ca:return e=ut(19,n,r,i),e.elementType=Ca,e.lanes=o,e;case Np:return yo(n,i,o,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rp:a=10;break e;case _p:a=9;break e;case Ol:a=11;break e;case Vl:a=14;break e;case Zt:a=16,s=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return r=ut(a,n,r,i),r.elementType=e,r.type=s,r.lanes=o,r}function Or(e,r,n,s){return e=ut(7,e,s,r),e.lanes=n,e}function yo(e,r,n,s){return e=ut(22,e,s,r),e.elementType=Np,e.lanes=n,e.stateNode={isHidden:!1},e}function ea(e,r,n){return e=ut(6,e,null,r),e.lanes=n,e}function ta(e,r,n){return r=ut(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function My(e,r,n,s,i){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xc(e,r,n,s,i,o,a,l,c){return e=new My(e,r,n,l,c),r===1?(r=1,o===!0&&(r|=8)):r=0,o=ut(3,null,null,r),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(o),e}function Dy(e,r,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:s==null?null:""+s,children:e,containerInfo:r,implementation:n}}function Pm(e){if(!e)return yr;e=e._reactInternals;e:{if(Gr(e)!==e||e.tag!==1)throw Error(A(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Je(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Je(n))return Ph(e,n,r)}return r}function Em(e,r,n,s,i,o,a,l,c){return e=xc(n,s,!0,e,i,o,a,l,c),e.context=Pm(null),n=e.current,s=He(),i=pr(n),o=Ft(s,i),o.callback=r??null,ur(n,o,i),e.current.lanes=i,Ds(e,i,s),Qe(e,s),e}function vo(e,r,n,s){var i=r.current,o=He(),a=pr(i);return n=Pm(n),r.context===null?r.context=n:r.pendingContext=n,r=Ft(o,a),r.payload={element:e},s=s===void 0?null:s,s!==null&&(r.callback=s),e=ur(i,r,a),e!==null&&(wt(e,i,a,o),fi(e,i,a)),a}function Ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function wc(e,r){ed(e,r),(e=e.alternate)&&ed(e,r)}function Ly(){return null}var Am=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sc(e){this._internalRoot=e}xo.prototype.render=Sc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(A(409));vo(e,r,null,null)};xo.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Hr(function(){vo(null,e,null,null)}),r[Ut]=null}};function xo(e){this._internalRoot=e}xo.prototype.unstable_scheduleHydration=function(e){if(e){var r=ih();e={blockedOn:null,target:e,priority:r};for(var n=0;n<rr.length&&r!==0&&r<rr[n].priority;n++);rr.splice(n,0,e),n===0&&ah(e)}};function Tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function jy(e,r,n,s,i){if(i){if(typeof s=="function"){var o=s;s=function(){var u=Ki(a);o.call(u)}}var a=Em(r,s,e,0,null,!1,!1,"",td);return e._reactRootContainer=a,e[Ut]=a.current,ys(e.nodeType===8?e.parentNode:e),Hr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=Ki(c);l.call(u)}}var c=xc(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=c,e[Ut]=c.current,ys(e.nodeType===8?e.parentNode:e),Hr(function(){vo(r,c,n,s)}),c}function So(e,r,n,s,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var c=Ki(a);l.call(c)}}vo(r,a,e,i)}else a=jy(n,r,e,i,s);return Ki(a)}nh=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=qn(r.pendingLanes);n!==0&&(zl(r,n|1),Qe(r,ye()),!(X&6)&&(kn=ye()+500,Tr()))}break;case 13:Hr(function(){var s=Gt(e,1);if(s!==null){var i=He();wt(s,e,1,i)}}),wc(e,1)}};Hl=function(e){if(e.tag===13){var r=Gt(e,134217728);if(r!==null){var n=He();wt(r,e,134217728,n)}wc(e,134217728)}};sh=function(e){if(e.tag===13){var r=pr(e),n=Gt(e,r);if(n!==null){var s=He();wt(n,e,r,s)}wc(e,r)}};ih=function(){return Z};oh=function(e,r){var n=Z;try{return Z=e,r()}finally{Z=n}};Ra=function(e,r,n){switch(r){case"input":if(Pa(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var s=n[r];if(s!==e&&s.form===e.form){var i=uo(s);if(!i)throw Error(A(90));Op(s),Pa(s,i)}}}break;case"textarea":Fp(e,n);break;case"select":r=n.value,r!=null&&pn(e,!!n.multiple,r,!1)}};Wp=fc;qp=Hr;var Ry={usingClientEntryPoint:!1,Events:[js,en,uo,Gp,$p,fc]},zn={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_y={bundleType:zn.bundleType,version:zn.version,rendererPackageName:zn.rendererPackageName,rendererConfig:zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qp(e),e===null?null:e.stateNode},findFiberByHostInstance:zn.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ni.isDisabled&&ni.supportsFiber)try{oo=ni.inject(_y),Pt=ni}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ry;nt.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tc(r))throw Error(A(200));return Dy(e,r,null,n)};nt.createRoot=function(e,r){if(!Tc(e))throw Error(A(299));var n=!1,s="",i=Am;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),r=xc(e,1,!1,null,null,n,!1,s,i),e[Ut]=r.current,ys(e.nodeType===8?e.parentNode:e),new Sc(r)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Qp(r),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Hr(e)};nt.hydrate=function(e,r,n){if(!wo(r))throw Error(A(200));return So(null,e,r,!0,n)};nt.hydrateRoot=function(e,r,n){if(!Tc(e))throw Error(A(405));var s=n!=null&&n.hydratedSources||null,i=!1,o="",a=Am;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),r=Em(r,null,e,1,n??null,i,!1,o,a),e[Ut]=r.current,ys(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,i]:r.mutableSourceEagerHydrationData.push(n,i);return new xo(r)};nt.render=function(e,r,n){if(!wo(r))throw Error(A(200));return So(null,e,r,!1,n)};nt.unmountComponentAtNode=function(e){if(!wo(e))throw Error(A(40));return e._reactRootContainer?(Hr(function(){So(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};nt.unstable_batchedUpdates=fc;nt.unstable_renderSubtreeIntoContainer=function(e,r,n,s){if(!wo(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return So(e,r,n,!1,s)};nt.version="18.3.1-next-f1338f8080-20240426";function Mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mm)}catch(e){console.error(e)}}Mm(),Mp.exports=nt;var Ny=Mp.exports,rd=Ny;xa.createRoot=rd.createRoot,xa.hydrateRoot=rd.hydrateRoot;const Iy="modulepreload",Oy=function(e){return"/cat-tetris/"+e},nd={},Mt=function(r,n,s){if(!n||n.length===0)return r();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Oy(o),o in nd)return;nd[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===o&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Iy,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,p)=>{u.addEventListener("load",d),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>r()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},Dm=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),To=w.createContext({}),Co=w.createContext(null),bo=typeof document<"u",Cc=bo?w.useLayoutEffect:w.useEffect,Lm=w.createContext({strict:!1}),bc=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vy="framerAppearId",jm="data-"+bc(Vy);function Fy(e,r,n,s){const{visualElement:i}=w.useContext(To),o=w.useContext(Lm),a=w.useContext(Co),l=w.useContext(Dm).reducedMotion,c=w.useRef();s=s||o.renderer,!c.current&&s&&(c.current=s(e,{visualState:r,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;w.useInsertionEffect(()=>{u&&u.update(n,a)});const d=w.useRef(!!(n[jm]&&!window.HandoffComplete));return Cc(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ln(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function By(e,r,n){return w.useCallback(s=>{s&&e.mount&&e.mount(s),r&&(s?r.mount(s):r.unmount()),n&&(typeof n=="function"?n(s):ln(n)&&(n.current=s))},[r])}function Ps(e){return typeof e=="string"||Array.isArray(e)}function ko(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const kc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pc=["initial",...kc];function Po(e){return ko(e.animate)||Pc.some(r=>Ps(e[r]))}function Rm(e){return!!(Po(e)||e.variants)}function zy(e,r){if(Po(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ps(n)?n:void 0,animate:Ps(s)?s:void 0}}return e.inherit!==!1?r:{}}function Hy(e){const{initial:r,animate:n}=zy(e,w.useContext(To));return w.useMemo(()=>({initial:r,animate:n}),[sd(r),sd(n)])}function sd(e){return Array.isArray(e)?e.join(" "):e}const id={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Es={};for(const e in id)Es[e]={isEnabled:r=>id[e].some(n=>!!r[n])};function Uy(e){for(const r in e)Es[r]={...Es[r],...e[r]}}const Ec=w.createContext({}),_m=w.createContext({}),Gy=Symbol.for("motionComponentSymbol");function $y({preloadedFeatures:e,createVisualElement:r,useRender:n,useVisualState:s,Component:i}){e&&Uy(e);function o(l,c){let u;const d={...w.useContext(Dm),...l,layoutId:Wy(l)},{isStatic:p}=d,m=Hy(l),v=s(l,p);if(!p&&bo){m.visualElement=Fy(i,v,d,r);const y=w.useContext(_m),T=w.useContext(Lm).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,T,e,y))}return w.createElement(To.Provider,{value:m},u&&m.visualElement?w.createElement(u,{visualElement:m.visualElement,...d}):null,n(i,l,By(v,m.visualElement,c),v,p,m.visualElement))}const a=w.forwardRef(o);return a[Gy]=i,a}function Wy({layoutId:e}){const r=w.useContext(Ec).id;return r&&e!==void 0?r+"-"+e:e}function qy(e){function r(s,i={}){return $y(e(s,i))}if(typeof Proxy>"u")return r;const n=new Map;return new Proxy(r,{get:(s,i)=>(n.has(i)||n.set(i,r(i)),n.get(i))})}const Ky=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ac(e){return typeof e!="string"||e.includes("-")?!1:!!(Ky.indexOf(e)>-1||/[A-Z]/.test(e))}const Ji={};function Jy(e){Object.assign(Ji,e)}const _s=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$r=new Set(_s);function Nm(e,{layout:r,layoutId:n}){return $r.has(e)||e.startsWith("origin")||(r||n!==void 0)&&(!!Ji[e]||e==="opacity")}const Ye=e=>!!(e&&e.getVelocity),Qy={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yy=_s.length;function Xy(e,{enableHardwareAcceleration:r=!0,allowTransformNone:n=!0},s,i){let o="";for(let a=0;a<Yy;a++){const l=_s[a];if(e[l]!==void 0){const c=Qy[l]||l;o+=`${c}(${e[l]}) `}}return r&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,s?"":o):n&&s&&(o="none"),o}const Im=e=>r=>typeof r=="string"&&r.startsWith(e),Om=Im("--"),pl=Im("var(--"),Zy=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ev=(e,r)=>r&&typeof e=="number"?r.transform(e):e,vr=(e,r,n)=>Math.min(Math.max(n,e),r),Wr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},is={...Wr,transform:e=>vr(0,1,e)},si={...Wr,default:1},os=e=>Math.round(e*1e5)/1e5,Eo=/(-)?([\d]*\.?[\d])+/g,Vm=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tv=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ns(e){return typeof e=="string"}const Is=e=>({test:r=>Ns(r)&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),Yt=Is("deg"),At=Is("%"),$=Is("px"),rv=Is("vh"),nv=Is("vw"),od={...At,parse:e=>At.parse(e)/100,transform:e=>At.transform(e*100)},ad={...Wr,transform:Math.round},Fm={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,size:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,rotate:Yt,rotateX:Yt,rotateY:Yt,rotateZ:Yt,scale:si,scaleX:si,scaleY:si,scaleZ:si,skew:Yt,skewX:Yt,skewY:Yt,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:is,originX:od,originY:od,originZ:$,zIndex:ad,fillOpacity:is,strokeOpacity:is,numOctaves:ad};function Mc(e,r,n,s){const{style:i,vars:o,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const p in r){const m=r[p];if(Om(p)){o[p]=m;continue}const v=Fm[p],y=ev(m,v);if($r.has(p)){if(c=!0,a[p]=y,!d)continue;m!==(v.default||0)&&(d=!1)}else p.startsWith("origin")?(u=!0,l[p]=y):i[p]=y}if(r.transform||(c||s?i.transform=Xy(e.transform,n,d,s):i.transform&&(i.transform="none")),u){const{originX:p="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${m} ${v}`}}const Dc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bm(e,r,n){for(const s in r)!Ye(r[s])&&!Nm(s,n)&&(e[s]=r[s])}function sv({transformTemplate:e},r,n){return w.useMemo(()=>{const s=Dc();return Mc(s,r,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[r])}function iv(e,r,n){const s=e.style||{},i={};return Bm(i,s,e),Object.assign(i,sv(e,r,n)),e.transformValues?e.transformValues(i):i}function ov(e,r,n){const s={},i=iv(e,r,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const av=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qi(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||av.has(e)}let zm=e=>!Qi(e);function lv(e){e&&(zm=r=>r.startsWith("on")?!Qi(r):e(r))}try{lv(require("@emotion/is-prop-valid").default)}catch{}function cv(e,r,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(zm(i)||n===!0&&Qi(i)||!r&&!Qi(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function ld(e,r,n){return typeof e=="string"?e:$.transform(r+n*e)}function uv(e,r,n){const s=ld(r,e.x,e.width),i=ld(n,e.y,e.height);return`${s} ${i}`}const dv={offset:"stroke-dashoffset",array:"stroke-dasharray"},pv={offset:"strokeDashoffset",array:"strokeDasharray"};function hv(e,r,n=1,s=0,i=!0){e.pathLength=1;const o=i?dv:pv;e[o.offset]=$.transform(-s);const a=$.transform(r),l=$.transform(n);e[o.array]=`${a} ${l}`}function Lc(e,{attrX:r,attrY:n,attrScale:s,originX:i,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,p,m){if(Mc(e,u,d,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:y,dimensions:T}=e;v.transform&&(T&&(y.transform=v.transform),delete v.transform),T&&(i!==void 0||o!==void 0||y.transform)&&(y.transformOrigin=uv(T,i!==void 0?i:.5,o!==void 0?o:.5)),r!==void 0&&(v.x=r),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&hv(v,a,l,c,!1)}const Hm=()=>({...Dc(),attrs:{}}),jc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mv(e,r,n,s){const i=w.useMemo(()=>{const o=Hm();return Lc(o,r,{enableHardwareAcceleration:!1},jc(s),e.transformTemplate),{...o.attrs,style:{...o.style}}},[r]);if(e.style){const o={};Bm(o,e.style,e),i.style={...o,...i.style}}return i}function fv(e=!1){return(n,s,i,{latestValues:o},a)=>{const c=(Ac(n)?mv:ov)(s,o,a,n),d={...cv(s,typeof n=="string",e),...c,ref:i},{children:p}=s,m=w.useMemo(()=>Ye(p)?p.get():p,[p]);return w.createElement(n,{...d,children:m})}}function Um(e,{style:r,vars:n},s,i){Object.assign(e.style,r,i&&i.getProjectionStyles(s));for(const o in n)e.style.setProperty(o,n[o])}const Gm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $m(e,r,n,s){Um(e,r,void 0,s);for(const i in r.attrs)e.setAttribute(Gm.has(i)?i:bc(i),r.attrs[i])}function Rc(e,r){const{style:n}=e,s={};for(const i in n)(Ye(n[i])||r.style&&Ye(r.style[i])||Nm(i,e))&&(s[i]=n[i]);return s}function Wm(e,r){const n=Rc(e,r);for(const s in e)if(Ye(e[s])||Ye(r[s])){const i=_s.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function _c(e,r,n,s={},i={}){return typeof r=="function"&&(r=r(n!==void 0?n:e.custom,s,i)),typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"&&(r=r(n!==void 0?n:e.custom,s,i)),r}function qm(e){const r=w.useRef(null);return r.current===null&&(r.current=e()),r.current}const Yi=e=>Array.isArray(e),gv=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),yv=e=>Yi(e)?e[e.length-1]||0:e;function Ti(e){const r=Ye(e)?e.get():e;return gv(r)?r.toValue():r}function vv({scrapeMotionValuesFromProps:e,createRenderState:r,onMount:n},s,i,o){const a={latestValues:xv(s,i,o,e),renderState:r()};return n&&(a.mount=l=>n(s,l,a)),a}const Km=e=>(r,n)=>{const s=w.useContext(To),i=w.useContext(Co),o=()=>vv(e,r,s,i);return n?o():qm(o)};function xv(e,r,n,s){const i={},o=s(e,{});for(const m in o)i[m]=Ti(o[m]);let{initial:a,animate:l}=e;const c=Po(e),u=Rm(e);r&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=r.initial),l===void 0&&(l=r.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?l:a;return p&&typeof p!="boolean"&&!ko(p)&&(Array.isArray(p)?p:[p]).forEach(v=>{const y=_c(e,v);if(!y)return;const{transitionEnd:T,transition:k,...x}=y;for(const f in x){let g=x[f];if(Array.isArray(g)){const S=d?g.length-1:0;g=g[S]}g!==null&&(i[f]=g)}for(const f in T)i[f]=T[f]}),i}const ge=e=>e;class cd{constructor(){this.order=[],this.scheduled=new Set}add(r){if(!this.scheduled.has(r))return this.scheduled.add(r),this.order.push(r),!0}remove(r){const n=this.order.indexOf(r);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(r))}clear(){this.order.length=0,this.scheduled.clear()}}function wv(e){let r=new cd,n=new cd,s=0,i=!1,o=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const p=d&&i,m=p?r:n;return u&&a.add(c),m.add(c)&&p&&i&&(s=r.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(i){o=!0;return}if(i=!0,[r,n]=[n,r],n.clear(),s=r.order.length,s)for(let u=0;u<s;u++){const d=r.order[u];d(c),a.has(d)&&(l.schedule(d),e())}i=!1,o&&(o=!1,l.process(c))}};return l}const ii=["prepare","read","update","preRender","render","postRender"],Sv=40;function Tv(e,r){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=ii.reduce((p,m)=>(p[m]=wv(()=>n=!0),p),{}),a=p=>o[p].process(i),l=()=>{const p=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(p-i.timestamp,Sv),1),i.timestamp=p,i.isProcessing=!0,ii.forEach(a),i.isProcessing=!1,n&&r&&(s=!1,e(l))},c=()=>{n=!0,s=!0,i.isProcessing||e(l)};return{schedule:ii.reduce((p,m)=>{const v=o[m];return p[m]=(y,T=!1,k=!1)=>(n||c(),v.schedule(y,T,k)),p},{}),cancel:p=>ii.forEach(m=>o[m].cancel(p)),state:i,steps:o}}const{schedule:ne,cancel:Wt,state:Re,steps:ra}=Tv(typeof requestAnimationFrame<"u"?requestAnimationFrame:ge,!0),Cv={useVisualState:Km({scrapeMotionValuesFromProps:Wm,createRenderState:Hm,onMount:(e,r,{renderState:n,latestValues:s})=>{ne.read(()=>{try{n.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ne.render(()=>{Lc(n,s,{enableHardwareAcceleration:!1},jc(r.tagName),e.transformTemplate),$m(r,n)})}})},bv={useVisualState:Km({scrapeMotionValuesFromProps:Rc,createRenderState:Dc})};function kv(e,{forwardMotionProps:r=!1},n,s){return{...Ac(e)?Cv:bv,preloadedFeatures:n,useRender:fv(r),createVisualElement:s,Component:e}}function Ot(e,r,n,s={passive:!0}){return e.addEventListener(r,n,s),()=>e.removeEventListener(r,n)}const Jm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ao(e,r="page"){return{point:{x:e[r+"X"],y:e[r+"Y"]}}}const Pv=e=>r=>Jm(r)&&e(r,Ao(r));function Bt(e,r,n,s){return Ot(e,r,Pv(n),s)}const Ev=(e,r)=>n=>r(e(n)),mr=(...e)=>e.reduce(Ev);function Qm(e){let r=null;return()=>{const n=()=>{r=null};return r===null?(r=e,n):!1}}const ud=Qm("dragHorizontal"),dd=Qm("dragVertical");function Ym(e){let r=!1;if(e==="y")r=dd();else if(e==="x")r=ud();else{const n=ud(),s=dd();n&&s?r=()=>{n(),s()}:(n&&n(),s&&s())}return r}function Xm(){const e=Ym(!0);return e?(e(),!1):!0}class Cr{constructor(r){this.isMounted=!1,this.node=r}update(){}}function pd(e,r){const n="pointer"+(r?"enter":"leave"),s="onHover"+(r?"Start":"End"),i=(o,a)=>{if(o.pointerType==="touch"||Xm())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",r),l[s]&&ne.update(()=>l[s](o,a))};return Bt(e.current,n,i,{passive:!e.getProps()[s]})}class Av extends Cr{mount(){this.unmount=mr(pd(this.node,!0),pd(this.node,!1))}unmount(){}}class Mv extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mr(Ot(this.node.current,"focus",()=>this.onFocus()),Ot(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Zm=(e,r)=>r?e===r?!0:Zm(e,r.parentElement):!1;function na(e,r){if(!r)return;const n=new PointerEvent("pointer"+e);r(n,Ao(n))}class Dv extends Cr{constructor(){super(...arguments),this.removeStartListeners=ge,this.removeEndListeners=ge,this.removeAccessibleListeners=ge,this.startPointerPress=(r,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),o=Bt(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:p}=this.node.getProps();ne.update(()=>{!p&&!Zm(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),a=Bt(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=mr(o,a),this.startPress(r,n)},this.startAccessiblePress=()=>{const r=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||na("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ne.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ot(this.node.current,"keyup",a),na("down",(l,c)=>{this.startPress(l,c)})},n=Ot(this.node.current,"keydown",r),s=()=>{this.isPressing&&na("cancel",(o,a)=>this.cancelPress(o,a))},i=Ot(this.node.current,"blur",s);this.removeAccessibleListeners=mr(n,i)}}startPress(r,n){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&ne.update(()=>s(r,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xm()}cancelPress(r,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&ne.update(()=>s(r,n))}mount(){const r=this.node.getProps(),n=Bt(r.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(r.onTapStart||r.onPointerStart)}),s=Ot(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hl=new WeakMap,sa=new WeakMap,Lv=e=>{const r=hl.get(e.target);r&&r(e)},jv=e=>{e.forEach(Lv)};function Rv({root:e,...r}){const n=e||document;sa.has(n)||sa.set(n,{});const s=sa.get(n),i=JSON.stringify(r);return s[i]||(s[i]=new IntersectionObserver(jv,{root:e,...r})),s[i]}function _v(e,r,n){const s=Rv(r);return hl.set(e,n),s.observe(e),()=>{hl.delete(e),s.unobserve(e)}}const Nv={some:0,all:1};class Iv extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=r,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Nv[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=u?d:p;m&&m(c)};return _v(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:n}=this.node;["amount","margin","root"].some(Ov(r,n))&&this.startObserver()}unmount(){}}function Ov({viewport:e={}},{viewport:r={}}={}){return n=>e[n]!==r[n]}const Vv={inView:{Feature:Iv},tap:{Feature:Dv},focus:{Feature:Mv},hover:{Feature:Av}};function ef(e,r){if(!Array.isArray(r))return!1;const n=r.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(r[s]!==e[s])return!1;return!0}function Fv(e){const r={};return e.values.forEach((n,s)=>r[s]=n.get()),r}function Bv(e){const r={};return e.values.forEach((n,s)=>r[s]=n.getVelocity()),r}function Mo(e,r,n){const s=e.getProps();return _c(s,r,n!==void 0?n:s.custom,Fv(e),Bv(e))}let zv=ge,Nc=ge;const fr=e=>e*1e3,zt=e=>e/1e3,Hv={current:!1},tf=e=>Array.isArray(e)&&typeof e[0]=="number";function rf(e){return!!(!e||typeof e=="string"&&nf[e]||tf(e)||Array.isArray(e)&&e.every(rf))}const Jn=([e,r,n,s])=>`cubic-bezier(${e}, ${r}, ${n}, ${s})`,nf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jn([0,.65,.55,1]),circOut:Jn([.55,0,1,.45]),backIn:Jn([.31,.01,.66,-.59]),backOut:Jn([.33,1.53,.69,.99])};function sf(e){if(e)return tf(e)?Jn(e):Array.isArray(e)?e.map(sf):nf[e]}function Uv(e,r,n,{delay:s=0,duration:i,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const u={[r]:n};c&&(u.offset=c);const d=sf(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function Gv(e,{repeat:r,repeatType:n="loop"}){const s=r&&n!=="loop"&&r%2===1?0:e.length-1;return e[s]}const of=(e,r,n)=>(((1-3*n+3*r)*e+(3*n-6*r))*e+3*r)*e,$v=1e-7,Wv=12;function qv(e,r,n,s,i){let o,a,l=0;do a=r+(n-r)/2,o=of(a,s,i)-e,o>0?n=a:r=a;while(Math.abs(o)>$v&&++l<Wv);return a}function Os(e,r,n,s){if(e===r&&n===s)return ge;const i=o=>qv(o,0,1,e,n);return o=>o===0||o===1?o:of(i(o),r,s)}const Kv=Os(.42,0,1,1),Jv=Os(0,0,.58,1),af=Os(.42,0,.58,1),Qv=e=>Array.isArray(e)&&typeof e[0]!="number",lf=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,cf=e=>r=>1-e(1-r),Ic=e=>1-Math.sin(Math.acos(e)),uf=cf(Ic),Yv=lf(Ic),df=Os(.33,1.53,.69,.99),Oc=cf(df),Xv=lf(Oc),Zv=e=>(e*=2)<1?.5*Oc(e):.5*(2-Math.pow(2,-10*(e-1))),ex={linear:ge,easeIn:Kv,easeInOut:af,easeOut:Jv,circIn:Ic,circInOut:Yv,circOut:uf,backIn:Oc,backInOut:Xv,backOut:df,anticipate:Zv},hd=e=>{if(Array.isArray(e)){Nc(e.length===4);const[r,n,s,i]=e;return Os(r,n,s,i)}else if(typeof e=="string")return ex[e];return e},Vc=(e,r)=>n=>!!(Ns(n)&&tv.test(n)&&n.startsWith(e)||r&&Object.prototype.hasOwnProperty.call(n,r)),pf=(e,r,n)=>s=>{if(!Ns(s))return s;const[i,o,a,l]=s.match(Eo);return{[e]:parseFloat(i),[r]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},tx=e=>vr(0,255,e),ia={...Wr,transform:e=>Math.round(tx(e))},_r={test:Vc("rgb","red"),parse:pf("red","green","blue"),transform:({red:e,green:r,blue:n,alpha:s=1})=>"rgba("+ia.transform(e)+", "+ia.transform(r)+", "+ia.transform(n)+", "+os(is.transform(s))+")"};function rx(e){let r="",n="",s="",i="";return e.length>5?(r=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(r=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),r+=r,n+=n,s+=s,i+=i),{red:parseInt(r,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const ml={test:Vc("#"),parse:rx,transform:_r.transform},cn={test:Vc("hsl","hue"),parse:pf("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+At.transform(os(r))+", "+At.transform(os(n))+", "+os(is.transform(s))+")"},Fe={test:e=>_r.test(e)||ml.test(e)||cn.test(e),parse:e=>_r.test(e)?_r.parse(e):cn.test(e)?cn.parse(e):ml.parse(e),transform:e=>Ns(e)?e:e.hasOwnProperty("red")?_r.transform(e):cn.transform(e)},pe=(e,r,n)=>-n*e+n*r+e;function oa(e,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(r-e)*6*n:n<1/2?r:n<2/3?e+(r-e)*(2/3-n)*6:e}function nx({hue:e,saturation:r,lightness:n,alpha:s}){e/=360,r/=100,n/=100;let i=0,o=0,a=0;if(!r)i=o=a=n;else{const l=n<.5?n*(1+r):n+r-n*r,c=2*n-l;i=oa(c,l,e+1/3),o=oa(c,l,e),a=oa(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:s}}const aa=(e,r,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(r*r-s)+s))},sx=[ml,_r,cn],ix=e=>sx.find(r=>r.test(e));function md(e){const r=ix(e);let n=r.parse(e);return r===cn&&(n=nx(n)),n}const hf=(e,r)=>{const n=md(e),s=md(r),i={...n};return o=>(i.red=aa(n.red,s.red,o),i.green=aa(n.green,s.green,o),i.blue=aa(n.blue,s.blue,o),i.alpha=pe(n.alpha,s.alpha,o),_r.transform(i))};function ox(e){var r,n;return isNaN(e)&&Ns(e)&&(((r=e.match(Eo))===null||r===void 0?void 0:r.length)||0)+(((n=e.match(Vm))===null||n===void 0?void 0:n.length)||0)>0}const mf={regex:Zy,countKey:"Vars",token:"${v}",parse:ge},ff={regex:Vm,countKey:"Colors",token:"${c}",parse:Fe.parse},gf={regex:Eo,countKey:"Numbers",token:"${n}",parse:Wr.parse};function la(e,{regex:r,countKey:n,token:s,parse:i}){const o=e.tokenised.match(r);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(r,s),e.values.push(...o.map(i)))}function Xi(e){const r=e.toString(),n={value:r,tokenised:r,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&la(n,mf),la(n,ff),la(n,gf),n}function yf(e){return Xi(e).values}function vf(e){const{values:r,numColors:n,numVars:s,tokenised:i}=Xi(e),o=r.length;return a=>{let l=i;for(let c=0;c<o;c++)c<s?l=l.replace(mf.token,a[c]):c<s+n?l=l.replace(ff.token,Fe.transform(a[c])):l=l.replace(gf.token,os(a[c]));return l}}const ax=e=>typeof e=="number"?0:e;function lx(e){const r=yf(e);return vf(e)(r.map(ax))}const xr={test:ox,parse:yf,createTransformer:vf,getAnimatableNone:lx},xf=(e,r)=>n=>`${n>0?r:e}`;function wf(e,r){return typeof e=="number"?n=>pe(e,r,n):Fe.test(e)?hf(e,r):e.startsWith("var(")?xf(e,r):Tf(e,r)}const Sf=(e,r)=>{const n=[...e],s=n.length,i=e.map((o,a)=>wf(o,r[a]));return o=>{for(let a=0;a<s;a++)n[a]=i[a](o);return n}},cx=(e,r)=>{const n={...e,...r},s={};for(const i in n)e[i]!==void 0&&r[i]!==void 0&&(s[i]=wf(e[i],r[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}},Tf=(e,r)=>{const n=xr.createTransformer(r),s=Xi(e),i=Xi(r);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?mr(Sf(s.values,i.values),n):xf(e,r)},As=(e,r,n)=>{const s=r-e;return s===0?1:(n-e)/s},fd=(e,r)=>n=>pe(e,r,n);function ux(e){return typeof e=="number"?fd:typeof e=="string"?Fe.test(e)?hf:Tf:Array.isArray(e)?Sf:typeof e=="object"?cx:fd}function dx(e,r,n){const s=[],i=n||ux(e[0]),o=e.length-1;for(let a=0;a<o;a++){let l=i(e[a],e[a+1]);if(r){const c=Array.isArray(r)?r[a]||ge:r;l=mr(c,l)}s.push(l)}return s}function Cf(e,r,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(Nc(o===r.length),o===1)return()=>r[0];e[0]>e[o-1]&&(e=[...e].reverse(),r=[...r].reverse());const a=dx(r,s,i),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const p=As(e[d],e[d+1],u);return a[d](p)};return n?u=>c(vr(e[0],e[o-1],u)):c}function px(e,r){const n=e[e.length-1];for(let s=1;s<=r;s++){const i=As(0,r,s);e.push(pe(n,1,i))}}function hx(e){const r=[0];return px(r,e.length-1),r}function mx(e,r){return e.map(n=>n*r)}function fx(e,r){return e.map(()=>r||af).splice(0,e.length-1)}function Zi({duration:e=300,keyframes:r,times:n,ease:s="easeInOut"}){const i=Qv(s)?s.map(hd):hd(s),o={done:!1,value:r[0]},a=mx(n&&n.length===r.length?n:hx(r),e),l=Cf(a,r,{ease:Array.isArray(i)?i:fx(r,i)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function bf(e,r){return r?e*(1e3/r):0}const gx=5;function kf(e,r,n){const s=Math.max(r-gx,0);return bf(n-e(s),r-s)}const ca=.001,yx=.01,gd=10,vx=.05,xx=1;function wx({duration:e=800,bounce:r=.25,velocity:n=0,mass:s=1}){let i,o;zv(e<=fr(gd));let a=1-r;a=vr(vx,xx,a),e=vr(yx,gd,zt(e)),a<1?(i=u=>{const d=u*a,p=d*e,m=d-n,v=fl(u,a),y=Math.exp(-p);return ca-m/v*y},o=u=>{const p=u*a*e,m=p*n+n,v=Math.pow(a,2)*Math.pow(u,2)*e,y=Math.exp(-p),T=fl(Math.pow(u,2),a);return(-i(u)+ca>0?-1:1)*((m-v)*y)/T}):(i=u=>{const d=Math.exp(-u*e),p=(u-n)*e+1;return-ca+d*p},o=u=>{const d=Math.exp(-u*e),p=(n-u)*(e*e);return d*p});const l=5/e,c=Tx(i,o,l);if(e=fr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:e}}}const Sx=12;function Tx(e,r,n){let s=n;for(let i=1;i<Sx;i++)s=s-e(s)/r(s);return s}function fl(e,r){return e*Math.sqrt(1-r*r)}const Cx=["duration","bounce"],bx=["stiffness","damping","mass"];function yd(e,r){return r.some(n=>e[n]!==void 0)}function kx(e){let r={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yd(e,bx)&&yd(e,Cx)){const n=wx(e);r={...r,...n,mass:1},r.isResolvedFromDuration=!0}return r}function Pf({keyframes:e,restDelta:r,restSpeed:n,...s}){const i=e[0],o=e[e.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:m}=kx({...s,velocity:-zt(s.velocity||0)}),v=p||0,y=c/(2*Math.sqrt(l*u)),T=o-i,k=zt(Math.sqrt(l/u)),x=Math.abs(T)<5;n||(n=x?.01:2),r||(r=x?.005:.5);let f;if(y<1){const g=fl(k,y);f=S=>{const C=Math.exp(-y*k*S);return o-C*((v+y*k*T)/g*Math.sin(g*S)+T*Math.cos(g*S))}}else if(y===1)f=g=>o-Math.exp(-k*g)*(T+(v+k*T)*g);else{const g=k*Math.sqrt(y*y-1);f=S=>{const C=Math.exp(-y*k*S),b=Math.min(g*S,300);return o-C*((v+y*k*T)*Math.sinh(b)+g*T*Math.cosh(b))/g}}return{calculatedDuration:m&&d||null,next:g=>{const S=f(g);if(m)a.done=g>=d;else{let C=v;g!==0&&(y<1?C=kf(f,g,S):C=0);const b=Math.abs(C)<=n,P=Math.abs(o-S)<=r;a.done=b&&P}return a.value=a.done?o:S,a}}}function vd({keyframes:e,velocity:r=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const p=e[0],m={done:!1,value:p},v=E=>l!==void 0&&E<l||c!==void 0&&E>c,y=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let T=n*r;const k=p+T,x=a===void 0?k:a(k);x!==k&&(T=x-p);const f=E=>-T*Math.exp(-E/s),g=E=>x+f(E),S=E=>{const M=f(E),_=g(E);m.done=Math.abs(M)<=u,m.value=m.done?x:_};let C,b;const P=E=>{v(m.value)&&(C=E,b=Pf({keyframes:[m.value,y(m.value)],velocity:kf(g,E,m.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:E=>{let M=!1;return!b&&C===void 0&&(M=!0,S(E),P(E)),C!==void 0&&E>C?b.next(E-C):(!M&&S(E),m)}}}const Px=e=>{const r=({timestamp:n})=>e(n);return{start:()=>ne.update(r,!0),stop:()=>Wt(r),now:()=>Re.isProcessing?Re.timestamp:performance.now()}},xd=2e4;function wd(e){let r=0;const n=50;let s=e.next(r);for(;!s.done&&r<xd;)r+=n,s=e.next(r);return r>=xd?1/0:r}const Ex={decay:vd,inertia:vd,tween:Zi,keyframes:Zi,spring:Pf};function eo({autoplay:e=!0,delay:r=0,driver:n=Px,keyframes:s,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:p,...m}){let v=1,y=!1,T,k;const x=()=>{k=new Promise(z=>{T=z})};x();let f;const g=Ex[i]||Zi;let S;g!==Zi&&typeof s[0]!="number"&&(S=Cf([0,100],s,{clamp:!1}),s=[0,100]);const C=g({...m,keyframes:s});let b;l==="mirror"&&(b=g({...m,keyframes:[...s].reverse(),velocity:-(m.velocity||0)}));let P="idle",E=null,M=null,_=null;C.calculatedDuration===null&&o&&(C.calculatedDuration=wd(C));const{calculatedDuration:B}=C;let L=1/0,U=1/0;B!==null&&(L=B+a,U=L*(o+1)-a);let I=0;const we=z=>{if(M===null)return;v>0&&(M=Math.min(M,z)),v<0&&(M=Math.min(z-U/v,M)),E!==null?I=E:I=Math.round(z-M)*v;const W=I-r*(v>=0?1:-1),be=v>=0?W<0:W>U;I=Math.max(W,0),P==="finished"&&E===null&&(I=U);let ee=I,oe=C;if(o){const ce=Math.min(I,U)/L;let Ve=Math.floor(ce),Se=ce%1;!Se&&ce>=1&&(Se=1),Se===1&&Ve--,Ve=Math.min(Ve,o+1),!!(Ve%2)&&(l==="reverse"?(Se=1-Se,a&&(Se-=a/L)):l==="mirror"&&(oe=b)),ee=vr(0,1,Se)*L}const Q=be?{done:!1,value:s[0]}:oe.next(ee);S&&(Q.value=S(Q.value));let{done:Oe}=Q;!be&&B!==null&&(Oe=v>=0?I>=U:I<=0);const Dt=E===null&&(P==="finished"||P==="running"&&Oe);return p&&p(Q.value),Dt&&D(),Q},j=()=>{f&&f.stop(),f=void 0},q=()=>{P="idle",j(),T(),x(),M=_=null},D=()=>{P="finished",d&&d(),j(),T()},H=()=>{if(y)return;f||(f=n(we));const z=f.now();c&&c(),E!==null?M=z-E:(!M||P==="finished")&&(M=z),P==="finished"&&x(),_=M,E=null,P="running",f.start()};e&&H();const O={then(z,W){return k.then(z,W)},get time(){return zt(I)},set time(z){z=fr(z),I=z,E!==null||!f||v===0?E=z:M=f.now()-z/v},get duration(){const z=C.calculatedDuration===null?wd(C):C.calculatedDuration;return zt(z)},get speed(){return v},set speed(z){z===v||!f||(v=z,O.time=zt(I))},get state(){return P},play:H,pause:()=>{P="paused",E=I},stop:()=>{y=!0,P!=="idle"&&(P="idle",u&&u(),q())},cancel:()=>{_!==null&&we(_),q()},complete:()=>{P="finished"},sample:z=>(M=0,we(z))};return O}function Ax(e){let r;return()=>(r===void 0&&(r=e()),r)}const Mx=Ax(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dx=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),oi=10,Lx=2e4,jx=(e,r)=>r.type==="spring"||e==="backgroundColor"||!rf(r.ease);function Rx(e,r,{onUpdate:n,onComplete:s,...i}){if(!(Mx()&&Dx.has(r)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(g=>{l=g})};d();let{keyframes:p,duration:m=300,ease:v,times:y}=i;if(jx(r,i)){const g=eo({...i,repeat:0,delay:0});let S={done:!1,value:p[0]};const C=[];let b=0;for(;!S.done&&b<Lx;)S=g.sample(b),C.push(S.value),b+=oi;y=void 0,p=C,m=b-oi,v="linear"}const T=Uv(e.owner.current,r,p,{...i,duration:m,ease:v,times:y}),k=()=>{u=!1,T.cancel()},x=()=>{u=!0,ne.update(k),l(),d()};return T.onfinish=()=>{u||(e.set(Gv(p,i)),s&&s(),x())},{then(g,S){return c.then(g,S)},attachTimeline(g){return T.timeline=g,T.onfinish=null,ge},get time(){return zt(T.currentTime||0)},set time(g){T.currentTime=fr(g)},get speed(){return T.playbackRate},set speed(g){T.playbackRate=g},get duration(){return zt(m)},play:()=>{a||(T.play(),Wt(k))},pause:()=>T.pause(),stop:()=>{if(a=!0,T.playState==="idle")return;const{currentTime:g}=T;if(g){const S=eo({...i,autoplay:!1});e.setWithVelocity(S.sample(g-oi).value,S.sample(g).value,oi)}x()},complete:()=>{u||T.finish()},cancel:x}}function _x({keyframes:e,delay:r,onUpdate:n,onComplete:s}){const i=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:ge,pause:ge,stop:ge,then:o=>(o(),Promise.resolve()),cancel:ge,complete:ge});return r?eo({keyframes:[0,1],duration:0,delay:r,onComplete:i}):i()}const Nx={type:"spring",stiffness:500,damping:25,restSpeed:10},Ix=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ox={type:"keyframes",duration:.8},Vx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fx=(e,{keyframes:r})=>r.length>2?Ox:$r.has(e)?e.startsWith("scale")?Ix(r[1]):Nx:Vx,gl=(e,r)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(xr.test(r)||r==="0")&&!r.startsWith("url(")),Bx=new Set(["brightness","contrast","saturate","opacity"]);function zx(e){const[r,n]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[s]=n.match(Eo)||[];if(!s)return e;const i=n.replace(s,"");let o=Bx.has(r)?1:0;return s!==n&&(o*=100),r+"("+o+i+")"}const Hx=/([a-z-]*)\(.*?\)/g,yl={...xr,getAnimatableNone:e=>{const r=e.match(Hx);return r?r.map(zx).join(" "):e}},Ux={...Fm,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:yl,WebkitFilter:yl},Fc=e=>Ux[e];function Ef(e,r){let n=Fc(e);return n!==yl&&(n=xr),n.getAnimatableNone?n.getAnimatableNone(r):void 0}const Af=e=>/^0[^.\s]+$/.test(e);function Gx(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Af(e)}function $x(e,r,n,s){const i=gl(r,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=s.from!==void 0?s.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),Gx(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=Ef(r,l)}return o}function Wx({when:e,delay:r,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Bc(e,r){return e[r]||e.default||e}const qx={skipAnimations:!1},zc=(e,r,n,s={})=>i=>{const o=Bc(s,e)||{},a=o.delay||s.delay||0;let{elapsed:l=0}=s;l=l-fr(a);const c=$x(r,e,n,o),u=c[0],d=c[c.length-1],p=gl(e,u),m=gl(e,d);let v={keyframes:c,velocity:r.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:y=>{r.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Wx(o)||(v={...v,...Fx(e,v)}),v.duration&&(v.duration=fr(v.duration)),v.repeatDelay&&(v.repeatDelay=fr(v.repeatDelay)),!p||!m||Hv.current||o.type===!1||qx.skipAnimations)return _x(v);if(!s.isHandoff&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate){const y=Rx(r,e,v);if(y)return y}return eo(v)};function to(e){return!!(Ye(e)&&e.add)}const Mf=e=>/^\-?\d*\.?\d+$/.test(e);function Hc(e,r){e.indexOf(r)===-1&&e.push(r)}function Uc(e,r){const n=e.indexOf(r);n>-1&&e.splice(n,1)}class Gc{constructor(){this.subscriptions=[]}add(r){return Hc(this.subscriptions,r),()=>Uc(this.subscriptions,r)}notify(r,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](r,n,s);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(r,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kx=e=>!isNaN(parseFloat(e));class Jx{constructor(r,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:a}=Re;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=r,this.canTrackVelocity=Kx(this.current),this.owner=n.owner}onChange(r){return this.on("change",r)}on(r,n){this.events[r]||(this.events[r]=new Gc);const s=this.events[r].add(n);return r==="change"?()=>{s(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,n){this.passiveEffect=r,this.stopPassiveEffect=n}set(r,n=!0){!n||!this.passiveEffect?this.updateAndNotify(r,n):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,n,s){this.set(n),this.prev=r,this.timeDelta=s}jump(r){this.updateAndNotify(r),this.prev=r,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bf(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(r){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=r(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pn(e,r){return new Jx(e,r)}const Df=e=>r=>r.test(e),Qx={test:e=>e==="auto",parse:e=>e},Lf=[Wr,$,At,Yt,nv,rv,Qx],Hn=e=>Lf.find(Df(e)),Yx=[...Lf,Fe,xr],Xx=e=>Yx.find(Df(e));function Zx(e,r,n){e.hasValue(r)?e.getValue(r).set(n):e.addValue(r,Pn(n))}function e1(e,r){const n=Mo(e,r);let{transitionEnd:s={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...s};for(const a in o){const l=yv(o[a]);Zx(e,a,l)}}function t1(e,r,n){var s,i;const o=Object.keys(r).filter(l=>!e.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],u=r[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(s=n[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&i!==void 0?i:r[c]),d!=null&&(typeof d=="string"&&(Mf(d)||Af(d))?d=parseFloat(d):!Xx(d)&&xr.test(u)&&(d=Ef(c,u)),e.addValue(c,Pn(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function r1(e,r){return r?(r[e]||r.default||r).from:void 0}function n1(e,r,n){const s={};for(const i in e){const o=r1(i,r);if(o!==void 0)s[i]=o;else{const a=n.getValue(i);a&&(s[i]=a.get())}}return s}function s1({protectedKeys:e,needsAnimating:r},n){const s=e.hasOwnProperty(n)&&r[n]!==!0;return r[n]=!1,s}function i1(e,r){const n=e.get();if(Array.isArray(r)){for(let s=0;s<r.length;s++)if(r[s]!==n)return!0}else return n!==r}function jf(e,r,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(r);const c=e.getValue("willChange");s&&(o=s);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const p in l){const m=e.getValue(p),v=l[p];if(!m||v===void 0||d&&s1(d,p))continue;const y={delay:n,elapsed:0,...Bc(o||{},p)};if(window.HandoffAppearAnimations){const x=e.getProps()[jm];if(x){const f=window.HandoffAppearAnimations(x,p,m,ne);f!==null&&(y.elapsed=f,y.isHandoff=!0)}}let T=!y.isHandoff&&!i1(m,v);if(y.type==="spring"&&(m.getVelocity()||y.velocity)&&(T=!1),m.animation&&(T=!1),T)continue;m.start(zc(p,m,v,e.shouldReduceMotion&&$r.has(p)?{type:!1}:y));const k=m.animation;to(c)&&(c.add(p),k.then(()=>c.remove(p))),u.push(k)}return a&&Promise.all(u).then(()=>{a&&e1(e,a)}),u}function vl(e,r,n={}){const s=Mo(e,r,n.custom);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(jf(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return o1(e,r,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function o1(e,r,n=0,s=0,i=1,o){const a=[],l=(e.variantChildren.size-1)*s,c=i===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(a1).forEach((u,d)=>{u.notify("AnimationStart",r),a.push(vl(u,r,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",r)))}),Promise.all(a)}function a1(e,r){return e.sortNodePosition(r)}function l1(e,r,n={}){e.notify("AnimationStart",r);let s;if(Array.isArray(r)){const i=r.map(o=>vl(e,o,n));s=Promise.all(i)}else if(typeof r=="string")s=vl(e,r,n);else{const i=typeof r=="function"?Mo(e,r,n.custom):r;s=Promise.all(jf(e,i,n))}return s.then(()=>e.notify("AnimationComplete",r))}const c1=[...kc].reverse(),u1=kc.length;function d1(e){return r=>Promise.all(r.map(({animation:n,options:s})=>l1(e,n,s)))}function p1(e){let r=d1(e);const n=m1();let s=!0;const i=(c,u)=>{const d=Mo(e,u);if(d){const{transition:p,transitionEnd:m,...v}=d;c={...c,...v,...m}}return c};function o(c){r=c(e)}function a(c,u){const d=e.getProps(),p=e.getVariantContext(!0)||{},m=[],v=new Set;let y={},T=1/0;for(let x=0;x<u1;x++){const f=c1[x],g=n[f],S=d[f]!==void 0?d[f]:p[f],C=Ps(S),b=f===u?g.isActive:null;b===!1&&(T=x);let P=S===p[f]&&S!==d[f]&&C;if(P&&s&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...y},!g.isActive&&b===null||!S&&!g.prevProp||ko(S)||typeof S=="boolean")continue;let M=h1(g.prevProp,S)||f===u&&g.isActive&&!P&&C||x>T&&C,_=!1;const B=Array.isArray(S)?S:[S];let L=B.reduce(i,{});b===!1&&(L={});const{prevResolvedValues:U={}}=g,I={...U,...L},we=j=>{M=!0,v.has(j)&&(_=!0,v.delete(j)),g.needsAnimating[j]=!0};for(const j in I){const q=L[j],D=U[j];if(y.hasOwnProperty(j))continue;let H=!1;Yi(q)&&Yi(D)?H=!ef(q,D):H=q!==D,H?q!==void 0?we(j):v.add(j):q!==void 0&&v.has(j)?we(j):g.protectedKeys[j]=!0}g.prevProp=S,g.prevResolvedValues=L,g.isActive&&(y={...y,...L}),s&&e.blockInitialAnimation&&(M=!1),M&&(!P||_)&&m.push(...B.map(j=>({animation:j,options:{type:f,...c}})))}if(v.size){const x={};v.forEach(f=>{const g=e.getBaseTarget(f);g!==void 0&&(x[f]=g)}),m.push({animation:x})}let k=!!m.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?r(m):Promise.resolve()}function l(c,u,d){var p;if(n[c].isActive===u)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(v=>{var y;return(y=v.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const m=a(d,c);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n}}function h1(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!ef(r,e):!1}function br(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m1(){return{animate:br(!0),whileInView:br(),whileHover:br(),whileTap:br(),whileDrag:br(),whileFocus:br(),exit:br()}}class f1 extends Cr{constructor(r){super(r),r.animationState||(r.animationState=p1(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();this.unmount(),ko(r)&&(this.unmount=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:n}=this.node.prevProps||{};r!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let g1=0;class y1 extends Cr{constructor(){super(...arguments),this.id=g1++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===i)return;const o=this.node.animationState.setActive("exit",!r,{custom:s??this.node.getProps().custom});n&&!r&&o.then(()=>n(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const v1={animation:{Feature:f1},exit:{Feature:y1}},Sd=(e,r)=>Math.abs(e-r);function x1(e,r){const n=Sd(e.x,r.x),s=Sd(e.y,r.y);return Math.sqrt(n**2+s**2)}class Rf{constructor(r,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=da(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=x1(p.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:y}=p,{timestamp:T}=Re;this.history.push({...y,timestamp:T});const{onStart:k,onMove:x}=this.handlers;m||(k&&k(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ua(m,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=da(p.type==="pointercancel"?this.lastMoveEventInfo:ua(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,k),y&&y(p,k)},!Jm(r))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const a=Ao(r),l=ua(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Re;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(r,da(l,this.history)),this.removeListeners=mr(Bt(this.contextWindow,"pointermove",this.handlePointerMove),Bt(this.contextWindow,"pointerup",this.handlePointerUp),Bt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),Wt(this.updatePoint)}}function ua(e,r){return r?{point:r(e.point)}:e}function Td(e,r){return{x:e.x-r.x,y:e.y-r.y}}function da({point:e},r){return{point:e,delta:Td(e,_f(r)),offset:Td(e,w1(r)),velocity:S1(r,.1)}}function w1(e){return e[0]}function _f(e){return e[e.length-1]}function S1(e,r){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=_f(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>fr(r)));)n--;if(!s)return{x:0,y:0};const o=zt(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function rt(e){return e.max-e.min}function xl(e,r=0,n=.01){return Math.abs(e-r)<=n}function Cd(e,r,n,s=.5){e.origin=s,e.originPoint=pe(r.min,r.max,e.origin),e.scale=rt(n)/rt(r),(xl(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pe(n.min,n.max,e.origin)-e.originPoint,(xl(e.translate)||isNaN(e.translate))&&(e.translate=0)}function as(e,r,n,s){Cd(e.x,r.x,n.x,s?s.originX:void 0),Cd(e.y,r.y,n.y,s?s.originY:void 0)}function bd(e,r,n){e.min=n.min+r.min,e.max=e.min+rt(r)}function T1(e,r,n){bd(e.x,r.x,n.x),bd(e.y,r.y,n.y)}function kd(e,r,n){e.min=r.min-n.min,e.max=e.min+rt(r)}function ls(e,r,n){kd(e.x,r.x,n.x),kd(e.y,r.y,n.y)}function C1(e,{min:r,max:n},s){return r!==void 0&&e<r?e=s?pe(r,e,s.min):Math.max(e,r):n!==void 0&&e>n&&(e=s?pe(n,e,s.max):Math.min(e,n)),e}function Pd(e,r,n){return{min:r!==void 0?e.min+r:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function b1(e,{top:r,left:n,bottom:s,right:i}){return{x:Pd(e.x,n,i),y:Pd(e.y,r,s)}}function Ed(e,r){let n=r.min-e.min,s=r.max-e.max;return r.max-r.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function k1(e,r){return{x:Ed(e.x,r.x),y:Ed(e.y,r.y)}}function P1(e,r){let n=.5;const s=rt(e),i=rt(r);return i>s?n=As(r.min,r.max-s,e.min):s>i&&(n=As(e.min,e.max-i,r.min)),vr(0,1,n)}function E1(e,r){const n={};return r.min!==void 0&&(n.min=r.min-e.min),r.max!==void 0&&(n.max=r.max-e.min),n}const wl=.35;function A1(e=wl){return e===!1?e=0:e===!0&&(e=wl),{x:Ad(e,"left","right"),y:Ad(e,"top","bottom")}}function Ad(e,r,n){return{min:Md(e,r),max:Md(e,n)}}function Md(e,r){return typeof e=="number"?e:e[r]||0}const Dd=()=>({translate:0,scale:1,origin:0,originPoint:0}),un=()=>({x:Dd(),y:Dd()}),Ld=()=>({min:0,max:0}),ve=()=>({x:Ld(),y:Ld()});function at(e){return[e("x"),e("y")]}function Nf({top:e,left:r,right:n,bottom:s}){return{x:{min:r,max:n},y:{min:e,max:s}}}function M1({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function D1(e,r){if(!r)return e;const n=r({x:e.left,y:e.top}),s=r({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function pa(e){return e===void 0||e===1}function Sl({scale:e,scaleX:r,scaleY:n}){return!pa(e)||!pa(r)||!pa(n)}function Ar(e){return Sl(e)||If(e)||e.z||e.rotate||e.rotateX||e.rotateY}function If(e){return jd(e.x)||jd(e.y)}function jd(e){return e&&e!=="0%"}function ro(e,r,n){const s=e-n,i=r*s;return n+i}function Rd(e,r,n,s,i){return i!==void 0&&(e=ro(e,i,s)),ro(e,n,s)+r}function Tl(e,r=0,n=1,s,i){e.min=Rd(e.min,r,n,s,i),e.max=Rd(e.max,r,n,s,i)}function Of(e,{x:r,y:n}){Tl(e.x,r.translate,r.scale,r.originPoint),Tl(e.y,n.translate,n.scale,n.originPoint)}function L1(e,r,n,s=!1){const i=n.length;if(!i)return;r.x=r.y=1;let o,a;for(let l=0;l<i;l++){o=n[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&dn(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(r.x*=a.x.scale,r.y*=a.y.scale,Of(e,a)),s&&Ar(o.latestValues)&&dn(e,o.latestValues))}r.x=_d(r.x),r.y=_d(r.y)}function _d(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function tr(e,r){e.min=e.min+r,e.max=e.max+r}function Nd(e,r,[n,s,i]){const o=r[i]!==void 0?r[i]:.5,a=pe(e.min,e.max,o);Tl(e,r[n],r[s],a,r.scale)}const j1=["x","scaleX","originX"],R1=["y","scaleY","originY"];function dn(e,r){Nd(e.x,r,j1),Nd(e.y,r,R1)}function Vf(e,r){return Nf(D1(e.getBoundingClientRect(),r))}function _1(e,r,n){const s=Vf(e,n),{scroll:i}=r;return i&&(tr(s.x,i.offset.x),tr(s.y,i.offset.y)),s}const Ff=({current:e})=>e?e.ownerDocument.defaultView:null,N1=new WeakMap;class I1{constructor(r){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=r}start(r,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ao(d,"page").point)},o=(d,p)=>{const{drag:m,dragPropagation:v,onDragStart:y}=this.getProps();if(m&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ym(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),at(k=>{let x=this.getAxisMotionValue(k).get()||0;if(At.test(x)){const{projection:f}=this.visualElement;if(f&&f.layout){const g=f.layout.layoutBox[k];g&&(x=rt(g)*(parseFloat(x)/100))}}this.originPoint[k]=x}),y&&ne.update(()=>y(d,p),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(d,p)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:y,onDrag:T}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:k}=p;if(v&&this.currentDirection===null){this.currentDirection=O1(k),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,k),this.updateAxis("y",p.point,k),this.visualElement.render(),T&&T(d,p)},l=(d,p)=>this.stop(d,p),c=()=>at(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Rf(r,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ff(this.visualElement)})}stop(r,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ne.update(()=>o(r,n))}cancel(){this.isDragging=!1;const{projection:r,animationState:n}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(r,n,s){const{drag:i}=this.getProps();if(!s||!ai(r,i,this.currentDirection))return;const o=this.getAxisMotionValue(r);let a=this.originPoint[r]+s[r];this.constraints&&this.constraints[r]&&(a=C1(a,this.constraints[r],this.elastic[r])),o.set(a)}resolveConstraints(){var r;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,o=this.constraints;n&&ln(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=b1(i.layoutBox,n):this.constraints=!1,this.elastic=A1(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&at(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=E1(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:n}=this.getProps();if(!r||!ln(r))return!1;const s=r.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=_1(s,i.root,this.visualElement.getTransformPagePoint());let a=k1(i.layout.layoutBox,o);if(n){const l=n(M1(a));this.hasMutatedConstraints=!!l,l&&(a=Nf(l))}return a}startAnimation(r){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=at(d=>{if(!ai(d,n,this.currentDirection))return;let p=c&&c[d]||{};a&&(p={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:s?r[d]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(r,n){const s=this.getAxisMotionValue(r);return s.start(zc(r,s,0,n))}stopAnimation(){at(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){at(r=>{var n;return(n=this.getAxisMotionValue(r).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(r){var n;return(n=this.getAxisMotionValue(r).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(r){const n="_drag"+r.toUpperCase(),s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(r,(s.initial?s.initial[r]:void 0)||0)}snapToCursor(r){at(n=>{const{drag:s}=this.getProps();if(!ai(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];o.set(r[n]-pe(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ln(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};at(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();i[a]=P1({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),at(a=>{if(!ai(a,r,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(pe(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;N1.set(this.visualElement,this);const r=this.visualElement.current,n=Bt(r,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ln(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const a=Ot(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(at(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const r=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=wl,dragMomentum:l=!0}=r;return{...r,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function ai(e,r,n){return(r===!0||r===e)&&(n===null||n===e)}function O1(e,r=10){let n=null;return Math.abs(e.y)>r?n="y":Math.abs(e.x)>r&&(n="x"),n}class V1 extends Cr{constructor(r){super(r),this.removeGroupControls=ge,this.removeListeners=ge,this.controls=new I1(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const Id=e=>(r,n)=>{e&&ne.update(()=>e(r,n))};class F1 extends Cr{constructor(){super(...arguments),this.removePointerDownListener=ge}onPointerDown(r){this.session=new Rf(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ff(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Id(r),onStart:Id(n),onMove:s,onEnd:(o,a)=>{delete this.session,i&&ne.update(()=>i(o,a))}}}mount(){this.removePointerDownListener=Bt(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function B1(){const e=w.useContext(Co);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=w.useId();return w.useEffect(()=>s(i),[]),!r&&n?[!1,()=>n&&n(i)]:[!0]}const Ci={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Od(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const Un={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=Od(e,r.target.x),s=Od(e,r.target.y);return`${n}% ${s}%`}},z1={correct:(e,{treeScale:r,projectionDelta:n})=>{const s=e,i=xr.parse(e);if(i.length>5)return s;const o=xr.createTransformer(e),a=typeof i[0]!="number"?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;i[0+a]/=l,i[1+a]/=c;const u=pe(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),o(i)}};class H1 extends de.Component{componentDidMount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=r;Jy(U1),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ci.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,a=s.projection;return a&&(a.isPresent=o,i||r.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),r.isPresent!==o&&(o?a.promote():a.relegate()||ne.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),queueMicrotask(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=r;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function Bf(e){const[r,n]=B1(),s=w.useContext(Ec);return de.createElement(H1,{...e,layoutGroup:s,switchLayoutGroup:w.useContext(_m),isPresent:r,safeToRemove:n})}const U1={borderRadius:{...Un,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Un,borderTopRightRadius:Un,borderBottomLeftRadius:Un,borderBottomRightRadius:Un,boxShadow:z1},zf=["TopLeft","TopRight","BottomLeft","BottomRight"],G1=zf.length,Vd=e=>typeof e=="string"?parseFloat(e):e,Fd=e=>typeof e=="number"||$.test(e);function $1(e,r,n,s,i,o){i?(e.opacity=pe(0,n.opacity!==void 0?n.opacity:1,W1(s)),e.opacityExit=pe(r.opacity!==void 0?r.opacity:1,0,q1(s))):o&&(e.opacity=pe(r.opacity!==void 0?r.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<G1;a++){const l=`border${zf[a]}Radius`;let c=Bd(r,l),u=Bd(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Fd(c)===Fd(u)?(e[l]=Math.max(pe(Vd(c),Vd(u),s),0),(At.test(u)||At.test(c))&&(e[l]+="%")):e[l]=u}(r.rotate||n.rotate)&&(e.rotate=pe(r.rotate||0,n.rotate||0,s))}function Bd(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const W1=Hf(0,.5,uf),q1=Hf(.5,.95,ge);function Hf(e,r,n){return s=>s<e?0:s>r?1:n(As(e,r,s))}function zd(e,r){e.min=r.min,e.max=r.max}function ot(e,r){zd(e.x,r.x),zd(e.y,r.y)}function Hd(e,r,n,s,i){return e-=r,e=ro(e,1/n,s),i!==void 0&&(e=ro(e,1/i,s)),e}function K1(e,r=0,n=1,s=.5,i,o=e,a=e){if(At.test(r)&&(r=parseFloat(r),r=pe(a.min,a.max,r/100)-a.min),typeof r!="number")return;let l=pe(o.min,o.max,s);e===o&&(l-=r),e.min=Hd(e.min,r,n,l,i),e.max=Hd(e.max,r,n,l,i)}function Ud(e,r,[n,s,i],o,a){K1(e,r[n],r[s],r[i],r.scale,o,a)}const J1=["x","scaleX","originX"],Q1=["y","scaleY","originY"];function Gd(e,r,n,s){Ud(e.x,r,J1,n?n.x:void 0,s?s.x:void 0),Ud(e.y,r,Q1,n?n.y:void 0,s?s.y:void 0)}function $d(e){return e.translate===0&&e.scale===1}function Uf(e){return $d(e.x)&&$d(e.y)}function Y1(e,r){return e.x.min===r.x.min&&e.x.max===r.x.max&&e.y.min===r.y.min&&e.y.max===r.y.max}function Gf(e,r){return Math.round(e.x.min)===Math.round(r.x.min)&&Math.round(e.x.max)===Math.round(r.x.max)&&Math.round(e.y.min)===Math.round(r.y.min)&&Math.round(e.y.max)===Math.round(r.y.max)}function Wd(e){return rt(e.x)/rt(e.y)}class X1{constructor(){this.members=[]}add(r){Hc(this.members,r),r.scheduleRender()}remove(r){if(Uc(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(r){const n=this.members.findIndex(i=>r===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(r,n){const s=this.lead;if(r!==s&&(this.prevLead=s,this.lead=r,r.show(),s)){s.instance&&s.scheduleRender(),r.scheduleRender(),r.resumeFrom=s,n&&(r.resumeFrom.preserveOpacity=!0),s.snapshot&&(r.snapshot=s.snapshot,r.snapshot.latestValues=s.animationValues||s.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:i}=r.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:n,resumingFrom:s}=r;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qd(e,r,n){let s="";const i=e.x.translate/r.x,o=e.y.translate/r.y;if((i||o)&&(s=`translate3d(${i}px, ${o}px, 0) `),(r.x!==1||r.y!==1)&&(s+=`scale(${1/r.x}, ${1/r.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const a=e.x.scale*r.x,l=e.y.scale*r.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const Z1=(e,r)=>e.depth-r.depth;class ew{constructor(){this.children=[],this.isDirty=!1}add(r){Hc(this.children,r),this.isDirty=!0}remove(r){Uc(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(Z1),this.isDirty=!1,this.children.forEach(r)}}function tw(e,r){const n=performance.now(),s=({timestamp:i})=>{const o=i-n;o>=r&&(Wt(s),e(o-r))};return ne.read(s,!0),()=>Wt(s)}function rw(e){window.MotionDebug&&window.MotionDebug.record(e)}function nw(e){return e instanceof SVGElement&&e.tagName!=="svg"}function sw(e,r,n){const s=Ye(e)?e:Pn(e);return s.start(zc("",s,r,n)),s.animation}const Kd=["","X","Y","Z"],iw={visibility:"hidden"},Jd=1e3;let ow=0;const Mr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $f({attachResizeListener:e,defaultParent:r,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},l=r==null?void 0:r()){this.id=ow++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mr.totalNodes=Mr.resolvedTargetDeltas=Mr.recalculatedProjection=0,this.nodes.forEach(cw),this.nodes.forEach(mw),this.nodes.forEach(fw),this.nodes.forEach(uw),rw(Mr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ew)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Gc),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nw(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let p;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=tw(m,250),Ci.hasAnimatedSinceResize&&(Ci.hasAnimatedSinceResize=!1,this.nodes.forEach(Yd))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||ww,{onLayoutAnimationStart:k,onLayoutAnimationComplete:x}=d.getProps(),f=!this.targetLayout||!Gf(this.targetLayout,y)||v,g=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,g);const S={...Bc(T,"layout"),onPlay:k,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else m||Yd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gw),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qd);return}this.isUpdating||this.nodes.forEach(pw),this.isUpdating=!1,this.nodes.forEach(hw),this.nodes.forEach(aw),this.nodes.forEach(lw),this.clearAllSnapshots();const l=performance.now();Re.delta=vr(0,1e3/60,l-Re.timestamp),Re.timestamp=l,Re.isProcessing=!0,ra.update.process(Re),ra.preRender.process(Re),ra.render.process(Re),Re.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dw),this.sharedNodes.forEach(yw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Uf(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Ar(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Sw(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ve();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(tr(l.x,c.offset.x),tr(l.y,c.offset.y)),l}removeElementScroll(a){const l=ve();ot(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;if(u!==this.root&&d&&p.layoutScroll){if(d.isRoot){ot(l,a);const{scroll:m}=this.root;m&&(tr(l.x,-m.offset.x),tr(l.y,-m.offset.y))}tr(l.x,d.offset.x),tr(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=ve();ot(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&dn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ar(d.latestValues)&&dn(c,d.latestValues)}return Ar(this.latestValues)&&dn(c,this.latestValues),c}removeTransform(a){const l=ve();ot(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ar(u.latestValues))continue;Sl(u.latestValues)&&u.updateSnapshot();const d=ve(),p=u.measurePageBox();ot(d,p),Gd(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ar(this.latestValues)&&Gd(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Re.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Re.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ls(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ot(this.target,this.layout.layoutBox),Of(this.target,this.targetDelta)):ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ls(this.relativeTargetOrigin,this.target,v.target),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sl(this.parent.latestValues)||If(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Re.timestamp&&(u=!1),u)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;ot(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;L1(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=un(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=un(),this.projectionDeltaWithTransform=un());const T=this.projectionTransform;as(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=qd(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Mr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},p=un();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ve(),v=c?c.source:void 0,y=this.layout?this.layout.source:void 0,T=v!==y,k=this.getStack(),x=!k||k.members.length<=1,f=!!(T&&!x&&this.options.crossfade===!0&&!this.path.some(xw));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const C=S/1e3;Xd(p.x,a.x,C),Xd(p.y,a.y,C),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ls(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vw(this.relativeTarget,this.relativeTargetOrigin,m,C),g&&Y1(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ve()),ot(g,this.relativeTarget)),T&&(this.animationValues=d,$1(d,u,this.latestValues,C,f,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{Ci.hasAnimatedSinceResize=!0,this.currentAnimation=sw(0,Jd,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jd),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Wf(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ve();const p=rt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const m=rt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}ot(l,c),dn(l,d),as(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new X1),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Kd.length;d++){const p="rotate"+Kd[d];c[p]&&(u[p]=c[p],a.setStaticValue(p,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iw;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ti(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Ti(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ar(this.latestValues)&&(T.transform=d?d({},""):"none",this.hasProjected=!1),T}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=qd(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:v,y}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in Ji){if(m[T]===void 0)continue;const{correct:k,applyTo:x}=Ji[T],f=u.transform==="none"?m[T]:k(m[T],p);if(x){const g=x.length;for(let S=0;S<g;S++)u[x[S]]=f}else u[T]=f}return this.options.layoutId&&(u.pointerEvents=p===this?Ti(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Qd),this.root.sharedNodes.clear()}}}function aw(e){e.updateLayout()}function lw(e){var r;const n=((r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;o==="size"?at(p=>{const m=a?n.measuredBox[p]:n.layoutBox[p],v=rt(m);m.min=s[p].min,m.max=m.min+v}):Wf(o,n.layoutBox,s)&&at(p=>{const m=a?n.measuredBox[p]:n.layoutBox[p],v=rt(s[p]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const l=un();as(l,s,n.layoutBox);const c=un();a?as(c,e.applyTransform(i,!0),n.measuredBox):as(c,s,n.layoutBox);const u=!Uf(l);let d=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const y=ve();ls(y,n.layoutBox,m.layoutBox);const T=ve();ls(T,s,v.layoutBox),Gf(y,T)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=y,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function cw(e){Mr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uw(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dw(e){e.clearSnapshot()}function Qd(e){e.clearMeasurements()}function pw(e){e.isLayoutDirty=!1}function hw(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function Yd(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mw(e){e.resolveTargetDelta()}function fw(e){e.calcProjection()}function gw(e){e.resetRotation()}function yw(e){e.removeLeadSnapshot()}function Xd(e,r,n){e.translate=pe(r.translate,0,n),e.scale=pe(r.scale,1,n),e.origin=r.origin,e.originPoint=r.originPoint}function Zd(e,r,n,s){e.min=pe(r.min,n.min,s),e.max=pe(r.max,n.max,s)}function vw(e,r,n,s){Zd(e.x,r.x,n.x,s),Zd(e.y,r.y,n.y,s)}function xw(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ww={duration:.45,ease:[.4,0,.1,1]},ep=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),tp=ep("applewebkit/")&&!ep("chrome/")?Math.round:ge;function rp(e){e.min=tp(e.min),e.max=tp(e.max)}function Sw(e){rp(e.x),rp(e.y)}function Wf(e,r,n){return e==="position"||e==="preserve-aspect"&&!xl(Wd(r),Wd(n),.2)}const Tw=$f({attachResizeListener:(e,r)=>Ot(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ha={current:void 0},qf=$f({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ha.current){const e=new Tw({});e.mount(window),e.setOptions({layoutScroll:!0}),ha.current=e}return ha.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Cw={pan:{Feature:F1},drag:{Feature:V1,ProjectionNode:qf,MeasureLayout:Bf}},bw=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function kw(e){const r=bw.exec(e);if(!r)return[,];const[,n,s]=r;return[n,s]}function Cl(e,r,n=1){const[s,i]=kw(e);if(!s)return;const o=window.getComputedStyle(r).getPropertyValue(s);if(o){const a=o.trim();return Mf(a)?parseFloat(a):a}else return pl(i)?Cl(i,r,n+1):i}function Pw(e,{...r},n){const s=e.current;if(!(s instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!pl(o))return;const a=Cl(o,s);a&&i.set(a)});for(const i in r){const o=r[i];if(!pl(o))continue;const a=Cl(o,s);a&&(r[i]=a,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:r,transitionEnd:n}}const Ew=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Kf=e=>Ew.has(e),Aw=e=>Object.keys(e).some(Kf),np=e=>e===Wr||e===$,sp=(e,r)=>parseFloat(e.split(", ")[r]),ip=(e,r)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return sp(i[1],r);{const o=s.match(/^matrix\((.+)\)$/);return o?sp(o[1],e):0}},Mw=new Set(["x","y","z"]),Dw=_s.filter(e=>!Mw.has(e));function Lw(e){const r=[];return Dw.forEach(n=>{const s=e.getValue(n);s!==void 0&&(r.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),r.length&&e.render(),r}const En={width:({x:e},{paddingLeft:r="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(r)-parseFloat(n),height:({y:e},{paddingTop:r="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(r)-parseFloat(n),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:ip(4,13),y:ip(5,14)};En.translateX=En.x;En.translateY=En.y;const jw=(e,r,n)=>{const s=r.measureViewportBox(),i=r.current,o=getComputedStyle(i),{display:a}=o,l={};a==="none"&&r.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=En[u](s,o)}),r.render();const c=r.measureViewportBox();return n.forEach(u=>{const d=r.getValue(u);d&&d.jump(l[u]),e[u]=En[u](c,o)}),e},Rw=(e,r,n={},s={})=>{r={...r},s={...s};const i=Object.keys(r).filter(Kf);let o=[],a=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],p=Hn(d);const m=r[c];let v;if(Yi(m)){const y=m.length,T=m[0]===null?1:0;d=m[T],p=Hn(d);for(let k=T;k<y&&m[k]!==null;k++)v?Nc(Hn(m[k])===v):v=Hn(m[k])}else v=Hn(m);if(p!==v)if(np(p)&&np(v)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof m=="string"?r[c]=parseFloat(m):Array.isArray(m)&&v===$&&(r[c]=m.map(parseFloat))}else p!=null&&p.transform&&(v!=null&&v.transform)&&(d===0||m===0)?d===0?u.set(v.transform(d)):r[c]=p.transform(m):(a||(o=Lw(e),a=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:r[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=jw(r,e,l);return o.length&&o.forEach(([d,p])=>{e.getValue(d).set(p)}),e.render(),bo&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:r,transitionEnd:s}};function _w(e,r,n,s){return Aw(r)?Rw(e,r,n,s):{target:r,transitionEnd:s}}const Nw=(e,r,n,s)=>{const i=Pw(e,r,s);return r=i.target,s=i.transitionEnd,_w(e,r,n,s)},bl={current:null},Jf={current:!1};function Iw(){if(Jf.current=!0,!!bo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>bl.current=e.matches;e.addListener(r),r()}else bl.current=!1}function Ow(e,r,n){const{willChange:s}=r;for(const i in r){const o=r[i],a=n[i];if(Ye(o))e.addValue(i,o),to(s)&&s.add(i);else if(Ye(a))e.addValue(i,Pn(o,{owner:e})),to(s)&&s.remove(i);else if(a!==o)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(i);e.addValue(i,Pn(l!==void 0?l:o,{owner:e}))}}for(const i in n)r[i]===void 0&&e.removeValue(i);return r}const op=new WeakMap,Qf=Object.keys(Es),Vw=Qf.length,ap=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Fw=Pc.length;class Bw{constructor({parent:r,props:n,presenceContext:s,reducedMotionConfig:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ne.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=r,this.props=n,this.presenceContext=s,this.depth=r?r.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Po(n),this.isVariantNode=Rm(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const p in d){const m=d[p];l[p]!==void 0&&Ye(m)&&(m.set(l[p],!1),to(u)&&u.add(p))}}scrapeMotionValuesFromProps(r,n){return{}}mount(r){this.current=r,op.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Jf.current||Iw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bl.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){op.delete(this.current),this.projection&&this.projection.unmount(),Wt(this.notifyUpdate),Wt(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)this.features[r].unmount();this.current=null}bindToMotionValue(r,n){const s=$r.has(r),i=n.on("change",a=>{this.latestValues[r]=a,this.props.onUpdate&&ne.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(r,()=>{i(),o()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}loadFeatures({children:r,...n},s,i,o){let a,l;for(let c=0;c<Vw;c++){const u=Qf[c],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:v}=Es[u];m&&(a=m),d(n)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),v&&(l=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:v}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||p&&ln(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:v})}return l}updateFeatures(){for(const r in this.features){const n=this.features[r];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,n){this.latestValues[r]=n}makeTargetAnimatable(r,n=!0){return this.makeTargetAnimatableFromInstance(r,this.props,n)}update(r,n){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ap.length;s++){const i=ap[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=r["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ow(this,this.scrapeMotionValuesFromProps(r,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(r=!1){if(r)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<Fw;s++){const i=Pc[s],o=this.props[i];(Ps(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(r){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(r),()=>n.variantChildren.delete(r)}addValue(r,n){n!==this.values.get(r)&&(this.removeValue(r),this.bindToMotionValue(r,n)),this.values.set(r,n),this.latestValues[r]=n.get()}removeValue(r){this.values.delete(r);const n=this.valueSubscriptions.get(r);n&&(n(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,n){if(this.props.values&&this.props.values[r])return this.props.values[r];let s=this.values.get(r);return s===void 0&&n!==void 0&&(s=Pn(n,{owner:this}),this.addValue(r,s)),s}readValue(r){var n;return this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(n=this.getBaseTargetFromProps(this.props,r))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,r,this.options)}setBaseTarget(r,n){this.baseTarget[r]=n}getBaseTarget(r){var n;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(n=_c(this.props,s))===null||n===void 0?void 0:n[r]:void 0;if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,r);return o!==void 0&&!Ye(o)?o:this.initialValues[r]!==void 0&&i===void 0?void 0:this.baseTarget[r]}on(r,n){return this.events[r]||(this.events[r]=new Gc),this.events[r].add(n)}notify(r,...n){this.events[r]&&this.events[r].notify(...n)}}class Yf extends Bw{sortInstanceNodePosition(r,n){return r.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(r,n){return r.style?r.style[n]:void 0}removeValueFromRenderState(r,{vars:n,style:s}){delete n[r],delete s[r]}makeTargetAnimatableFromInstance({transition:r,transitionEnd:n,...s},{transformValues:i},o){let a=n1(s,r||{},this);if(i&&(n&&(n=i(n)),s&&(s=i(s)),a&&(a=i(a))),o){t1(this,s,a);const l=Nw(this,s,a,n);n=l.transitionEnd,s=l.target}return{transition:r,transitionEnd:n,...s}}}function zw(e){return window.getComputedStyle(e)}class Hw extends Yf{constructor(){super(...arguments),this.type="html"}readValueFromInstance(r,n){if($r.has(n)){const s=Fc(n);return s&&s.default||0}else{const s=zw(r),i=(Om(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(r,{transformPagePoint:n}){return Vf(r,n)}build(r,n,s,i){Mc(r,n,s,i.transformTemplate)}scrapeMotionValuesFromProps(r,n){return Rc(r,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Ye(r)&&(this.childSubscription=r.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(r,n,s,i){Um(r,n,s,i)}}class Uw extends Yf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(r,n){return r[n]}readValueFromInstance(r,n){if($r.has(n)){const s=Fc(n);return s&&s.default||0}return n=Gm.has(n)?n:bc(n),r.getAttribute(n)}measureInstanceViewportBox(){return ve()}scrapeMotionValuesFromProps(r,n){return Wm(r,n)}build(r,n,s,i){Lc(r,n,s,this.isSVGTag,i.transformTemplate)}renderInstance(r,n,s,i){$m(r,n,s,i)}mount(r){this.isSVGTag=jc(r.tagName),super.mount(r)}}const Gw=(e,r)=>Ac(e)?new Uw(r,{enableHardwareAcceleration:!1}):new Hw(r,{enableHardwareAcceleration:!0}),$w={layout:{ProjectionNode:qf,MeasureLayout:Bf}},Ww={...v1,...Vv,...Cw,...$w},N=qy((e,r)=>kv(e,r,Ww,Gw));function Xf(){const e=w.useRef(!1);return Cc(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function qw(){const e=Xf(),[r,n]=w.useState(0),s=w.useCallback(()=>{e.current&&n(r+1)},[r]);return[w.useCallback(()=>ne.postRender(s),[s]),r]}class Kw extends w.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Jw({children:e,isPresent:r}){const n=w.useId(),s=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(r||!s.current||!o||!a)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[r]),w.createElement(Kw,{isPresent:r,childRef:s,sizeRef:i},w.cloneElement(e,{ref:s}))}const ma=({children:e,initial:r,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:a})=>{const l=qm(Qw),c=w.useId(),u=w.useMemo(()=>({id:c,initial:r,isPresent:n,custom:i,onExitComplete:d=>{l.set(d,!0);for(const p of l.values())if(!p)return;s&&s()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return w.useMemo(()=>{l.forEach((d,p)=>l.set(p,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(e=w.createElement(Jw,{isPresent:n},e)),w.createElement(Co.Provider,{value:u},e)};function Qw(){return new Map}function Yw(e){return w.useEffect(()=>()=>e(),[])}const Dr=e=>e.key||"";function Xw(e,r){e.forEach(n=>{const s=Dr(n);r.set(s,n)})}function Zw(e){const r=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&r.push(n)}),r}const ze=({children:e,custom:r,initial:n=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=w.useContext(Ec).forceRender||qw()[0],c=Xf(),u=Zw(e);let d=u;const p=w.useRef(new Map).current,m=w.useRef(d),v=w.useRef(new Map).current,y=w.useRef(!0);if(Cc(()=>{y.current=!1,Xw(u,v),m.current=d}),Yw(()=>{y.current=!0,v.clear(),p.clear()}),y.current)return w.createElement(w.Fragment,null,d.map(f=>w.createElement(ma,{key:Dr(f),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},f)));d=[...d];const T=m.current.map(Dr),k=u.map(Dr),x=T.length;for(let f=0;f<x;f++){const g=T[f];k.indexOf(g)===-1&&!p.has(g)&&p.set(g,void 0)}return a==="wait"&&p.size&&(d=[]),p.forEach((f,g)=>{if(k.indexOf(g)!==-1)return;const S=v.get(g);if(!S)return;const C=T.indexOf(g);let b=f;if(!b){const P=()=>{p.delete(g);const E=Array.from(v.keys()).filter(M=>!k.includes(M));if(E.forEach(M=>v.delete(M)),m.current=u.filter(M=>{const _=Dr(M);return _===g||E.includes(_)}),!p.size){if(c.current===!1)return;l(),s&&s()}};b=w.createElement(ma,{key:Dr(S),isPresent:!1,onExitComplete:P,custom:r,presenceAffectsLayout:o,mode:a},S),p.set(g,b)}d.splice(C,0,b)}),d=d.map(f=>{const g=f.key;return p.has(g)?f:w.createElement(ma,{key:Dr(f),isPresent:!0,presenceAffectsLayout:o,mode:a},f)}),w.createElement(w.Fragment,null,p.size?d:d.map(f=>w.cloneElement(f)))},kr={I:"I",O:"O",T:"T",S:"S",Z:"Z",J:"J",L:"L"},Zf={[kr.I]:{shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],color:"#00f5ff",emoji:"",name:"I-Piece"},[kr.O]:{shape:[[1,1],[1,1]],color:"#ffff00",emoji:"",name:"O-Piece"},[kr.T]:{shape:[[0,1,0],[1,1,1],[0,0,0]],color:"#a000f0",emoji:"",name:"T-Piece"},[kr.S]:{shape:[[0,1,1],[1,1,0],[0,0,0]],color:"#00f000",emoji:"",name:"S-Piece"},[kr.Z]:{shape:[[1,1,0],[0,1,1],[0,0,0]],color:"#f00000",emoji:"",name:"Z-Piece"},[kr.J]:{shape:[[1,0,0],[1,1,1],[0,0,0]],color:"#0000f0",emoji:"",name:"J-Piece"},[kr.L]:{shape:[[0,0,1],[1,1,1],[0,0,0]],color:"#ff7f00",emoji:"",name:"L-Piece"}};let Nr={...Zf};function lp(e){if(!e||!e.pieces){Nr={...Zf};return}Object.keys(Nr).forEach(r=>{e.pieces[r]&&(Nr[r]={...Nr[r],color:e.pieces[r].color,emoji:e.pieces[r].emoji})})}if(typeof window<"u"){window.addEventListener("themeEquipped",e=>{lp(e.detail.theme)});try{const e=localStorage.getItem("cat-tetris-shopInventory");if(e){const n=JSON.parse(e).equippedTheme;Mt(()=>Promise.resolve().then(()=>ZS),void 0).then(({PIECE_THEMES:s})=>{s[n]&&lp(s[n])})}}catch{}}function vn(e){return{"#00f5ff":"#00f5ff","#ffff00":"#ffff00","#a000f0":"#a000f0","#00f000":"#00f000","#f00000":"#f00000","#0000f0":"#0000f0","#ff7f00":"#ff7f00"}[e]||e}class eS{constructor(){this.events={}}on(r,n){this.events[r]||(this.events[r]=[]),this.events[r].push(n)}off(r,n){this.events[r]&&(this.events[r]=this.events[r].filter(s=>s!==n))}emit(r,n){this.events[r]&&this.events[r].forEach(s=>{try{s(n)}catch(i){typeof window<"u"&&window.__ERROR_LOGGER__&&window.__ERROR_LOGGER__.logError("EventEmitter",`emit:${r}`,i.message,{event:r,stack:i.stack})}})}clear(){this.events={}}}const R=new eS,F={GAME_INITIALIZED:"game_initialized",PIECE_MOVED:"piece_moved",PIECE_ROTATED:"piece_rotated",PIECE_PLACED:"piece_placed",PIECE_HELD:"piece_held",HARD_DROP:"hard_drop",LINE_CLEARED:"line_cleared",T_SPIN:"t_spin",BACK_TO_BACK:"back_to_back",SCORE_UPDATED:"score_updated",LEVEL_UP:"level_up",GAME_OVER:"game_over",GAME_PAUSED:"game_paused",GAME_RESUMED:"game_resumed"},bi=2;function tS({text:e,color:r,id:n}){return h.jsx(N.div,{initial:{opacity:1,y:0,scale:.5},animate:{opacity:0,y:-60,scale:1.3},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut"},className:"absolute left-1/2 top-1/3 -translate-x-1/2 pointer-events-none font-black text-lg drop-shadow-lg whitespace-nowrap",style:{color:r,zIndex:50,textShadow:`0 0 12px ${r}`},children:e},n)}function rS({lines:e}){const r=w.useMemo(()=>{const n=[];return e.forEach(s=>{for(let i=0;i<14;i++)n.push({id:`${s}-${i}`,startX:Math.random()*220,startY:(s+bi)*21+10,endX:(Math.random()-.5)*300,endY:-(Math.random()*120+40),size:Math.random()*5+2,color:["#FFD700","#FF6B6B","#4ECDC4","#A78BFA","#F472B6","#34D399"][Math.floor(Math.random()*6)],delay:Math.random()*.15})}),n},[e]);return h.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-visible",style:{zIndex:35},children:r.map(n=>h.jsx(N.div,{initial:{x:n.startX,y:n.startY,scale:1,opacity:1},animate:{x:n.startX+n.endX,y:n.startY+n.endY,scale:0,opacity:0},transition:{duration:.8,delay:n.delay,ease:"easeOut"},className:"absolute rounded-full",style:{width:n.size,height:n.size,backgroundColor:n.color,boxShadow:`0 0 ${n.size+4}px ${n.color}`}},n.id))})}const nS=({board:e,currentPiece:r,dropPreview:n,gameOver:s})=>{var x;const[i,o]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState(0),d=w.useRef(0),p=w.useRef(null),m=w.useRef([]);w.useEffect(()=>()=>{m.current.forEach(clearTimeout),m.current=[]},[]);const v=w.useCallback((f,g)=>{const S=setTimeout(()=>{m.current=m.current.filter(C=>C!==S),f()},g);return m.current.push(S),S},[]),y=((x=e==null?void 0:e[0])==null?void 0:x.length)||10,T=w.useMemo(()=>[...Array(bi).fill(null).map(()=>Array(y).fill(null)),...e],[e,y]);w.useEffect(()=>{const f=()=>{u(.12),v(()=>u(0),150)};return R.on("hard_drop",f),()=>R.off("hard_drop",f)},[v]),w.useEffect(()=>{const f=[];for(let g=0;g<e.length;g++)e[g]&&e[g].every(S=>S!==null)&&f.push(g);f.length>0&&(o(f),u(f.length>=4?.3:.18),v(()=>u(0),250),v(()=>o([]),800))},[e]),w.useEffect(()=>{const f=g=>{const S=(g==null?void 0:g.linesCleared)||0;if(S<=0)return;let C,b;S===1?(C="Single",b="#4ECDC4"):S===2?(C="Double!",b="#A78BFA"):S===3?(C="Triple!!",b="#F472B6"):(C=" TETRIS!! ",b="#FFD700");const P=++d.current;l(E=>[...E,{id:P,text:C,color:b}]),v(()=>l(E=>E.filter(M=>M.id!==P)),1400)};return R.on("line_cleared",f),()=>R.off("line_cleared",f)},[v]),w.useEffect(()=>{const f=g=>{const S=(g==null?void 0:g.combo)||0;if(S>=2){const C=++d.current;l(b=>[...b,{id:C,text:`${S}x Combo! `,color:"#FF6B6B"}]),v(()=>l(b=>b.filter(P=>P.id!==C)),1400)}};return R.on("score_updated",f),()=>R.off("score_updated",f)},[v]),w.useEffect(()=>{const f=()=>{const g=++d.current;l(S=>[...S,{id:g,text:" Back-to-Back!",color:"#FBBF24"}]),v(()=>l(S=>S.filter(C=>C.id!==g)),1400)};return R.on("back_to_back",f),()=>R.off("back_to_back",f)},[v]),w.useEffect(()=>{const f=()=>{const g=++d.current;l(S=>[...S,{id:g,text:"T-SPIN!",color:"#C084FC"}]),v(()=>l(S=>S.filter(C=>C.id!==g)),1400)};return R.on("t_spin",f),()=>R.off("t_spin",f)},[v]);const k=w.useCallback((f,g,S,C)=>{let b=null,P=null;const E=i.includes(S);if(r){const{position:{x:M,y:_},shape:B}=r;for(let L=0;L<B.length;L++){for(let U=0;U<B[L].length;U++)B[L][U]&&M+U===g&&_+L===S&&(b=r);if(b)break}}if(n&&n!==r){const{position:{x:M,y:_},shape:B}=n;for(let L=0;L<B.length;L++){for(let U=0;U<B[L].length;U++)B[L][U]&&M+U===g&&_+L===S&&(P=n);if(P)break}}if(b){const M=vn(b.color);return h.jsx("div",{className:"tetris-cell rounded-sm flex items-center justify-center border border-white/40",style:{backgroundColor:M,boxShadow:`0 0 6px ${M}80, inset 0 1px 0 rgba(255,255,255,0.3)`},children:h.jsx("span",{className:"text-xs drop-shadow",children:b.emoji})},`${g}-${S}`)}if(P){const M=vn(P.color);return h.jsx("div",{className:"tetris-cell rounded-sm flex items-center justify-center border-2 border-dashed",style:{borderColor:M+"50",backgroundColor:M+"12"},children:h.jsx("span",{className:"text-xs opacity-30",children:P.emoji})},`${g}-${S}`)}if(f){const M=vn(f.color);return h.jsx("div",{className:`cat-block tetris-cell rounded-sm flex items-center justify-center ${E?"line-clearing":""}`,style:{backgroundColor:E?"#fff":M,borderColor:"rgba(255, 255, 255, 0.35)",boxShadow:E?`0 0 20px #fff, 0 0 40px ${M}`:"inset 0 1px 0 rgba(255,255,255,0.25), 0 1px 3px rgba(0,0,0,0.3)",transform:E?"scale(1.1)":void 0,transition:"all 0.15s ease-out",zIndex:E?10:1},children:h.jsx("span",{className:`text-xs ${E?"opacity-0":""}`,children:f.emoji})},`${g}-${S}`)}return h.jsx("div",{className:`tetris-cell rounded-sm ${C?"bg-gray-900/30 border border-gray-500/10":"border border-white/[0.06] bg-white/[0.02]"}`},`${g}-${S}`)},[r,n,i]);return h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("div",{className:"relative bg-gray-900/60 p-3 rounded-xl border-2 border-white/15 shadow-2xl overflow-hidden flex-shrink-0",ref:p,style:{width:"fit-content"},children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"tetris-grid",children:T.map((f,g)=>{const S=g-bi,C=g<bi;return f.map((b,P)=>k(b,P,S,C))})}),i.length>0&&h.jsx(h.Fragment,{children:h.jsx(rS,{lines:i})}),h.jsx(ze,{children:c>0&&h.jsx(N.div,{initial:{opacity:c},animate:{opacity:0},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 rounded-lg pointer-events-none",style:{background:"white",zIndex:20}},"flash")}),h.jsx(ze,{children:a.map(f=>h.jsx(tS,{id:f.id,text:f.text,color:f.color},f.id))}),s&&h.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center rounded-lg",style:{zIndex:50},children:h.jsxs(N.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:12},className:"text-center",children:[h.jsx("div",{className:"text-5xl mb-2",children:""}),h.jsx("div",{className:"text-white font-black text-xl drop-shadow-lg",children:"Game Over!"})]})})]})})})},cp=de.memo(nS);class sS{constructor(){this.HIGH_SCORE_KEY="tetris_high_score"}getHighScore(){try{const r=localStorage.getItem(this.HIGH_SCORE_KEY);return r?parseInt(r,10):0}catch{return 0}}saveHighScore(r){try{const n=this.getHighScore();return r>n?(localStorage.setItem(this.HIGH_SCORE_KEY,r.toString()),!0):!1}catch{return!1}}clearHighScore(){try{localStorage.removeItem(this.HIGH_SCORE_KEY)}catch{}}}const up=new sS,eg=w.createContext(),tg="cattetris_language",kl=[{code:"en",label:" English",flag:""},{code:"pt",label:" Portugus",flag:""},{code:"es",label:" Espaol",flag:""},{code:"ja",label:" ",flag:""},{code:"fr",label:" Franais",flag:""}],iS={"menu.title":" Cat Tetris","menu.subtitle":"Stack blocks with your feline friends","menu.continue":" Continue","menu.continueInfo":"Level {level}  {points} pts","menu.newGame":"New Game","menu.play":" Play","menu.vsAI":"VS AI","menu.vsAISub":"Challenge the bot","menu.tutorial":"Tutorial","menu.tutorialSub":"Learn to play","menu.creator":"Creator","menu.creatorSub":"Train T-Spins","menu.aiExpert":"AI Expert","menu.aiExpertSub":"Watch the AI play","menu.shop":"Shop","menu.missions":"Missions","menu.achievements":"Achievements","menu.settings":"Settings","menu.install":" Install","menu.language":" Language","game.held":"Hold","game.heldEmpty":"Empty","game.next":"Next","game.nextLabel":"Next:","game.backToMenu":"Back to Menu","game.level":"Lv.{level}","game.lines":"{n} lines","game.accelerate":" Speed Up","game.hold":" Hold","game.loading":"Loading...","game.scoreTitle":" Score","game.points":"Points:","game.record":"Record:","game.levelLabel":"Level:","game.linesLabel":"Lines:","game.comboLabel":"Combo:","gameOver.title":"Game Over!","gameOver.points":"{score} points","gameOver.msgLow":"Don't give up! Every try makes you better! ","gameOver.msgMed":"Nice work! Keep practicing! ","gameOver.msgHigh":"Excellent! You're getting really good! ","gameOver.msgTop":"Amazing! You're a Cat Tetris master! ","gameOver.playAgain":" Play Again","gameOver.backToMenu":" Back to Menu","gameOver.tip1":" Tip: Use the shadow to plan ahead!","gameOver.tip2":" Try combos for more points!","settings.title":" Settings","settings.audio":"Audio","settings.volume":"Master Volume","settings.soundEnabled":"Sound Enabled","settings.handling":"Handling (DAS/ARR)","settings.dasLabel":"DAS (Delayed Auto-Shift)","settings.dasHelp":"Delay before piece auto-moves when holding a key. Pro: 83-100ms","settings.arrLabel":"ARR (Auto-Repeat Rate)","settings.arrHelp":"Repeat speed when holding. 0 = teleport. Pro: 0-2ms","settings.controls":"Controls","settings.ctrlMove":"Move","settings.ctrlRotateR":"Rotate ","settings.ctrlRotateL":"Rotate ","settings.ctrlSoftDrop":"Soft drop","settings.ctrlHardDrop":"Hard drop","settings.ctrlHold":"Hold","settings.ctrlPause":"Pause","settings.visual":"Visual","settings.particles":"Particle Effects","settings.save":"Save","settings.cancel":"Cancel","shop.title":" Theme Shop","shop.subtitle":"Customize your Tetris pieces","shop.loading":"Loading shop...","shop.errorLoading":" Error loading themes","shop.yourFish":"Your Fish","shop.themesUnlocked":"Themes Unlocked","shop.collection":"Collection","shop.totalSpent":"Total Spent","shop.equipped":" Equipped","shop.premium":" Premium","shop.free":"Free","shop.equip":"Equip","shop.inUse":"In Use","shop.close":"Close","shop.purchaseSuccess":" {name} purchased!","shop.equipSuccess":" {name} equipped!","achievements.title":" Achievements","achievements.subtitle":"Unlock achievements to earn  Fish","achievements.loading":"Loading achievements...","achievements.unlocked":"Unlocked","achievements.complete":"Complete","achievements.earned":"Earned","achievements.total":"Total","achievements.filterAll":"All","achievements.progress":"Progress","achievements.unlockedAt":"Unlocked on {date}","achievements.noneInCategory":"No achievements in this category","achievements.unlockBanner":" ACHIEVEMENT UNLOCKED!","achievements.legendary":" Legendary Achievement! ","missions.title":" Daily Missions","missions.subtitle":"Complete missions to earn  Fish","missions.loading":"Loading missions...","missions.dailyProgress":"Daily Progress:","missions.completedOf":"{completed}/{total} complete","missions.rewardsAvailable":"Rewards Available:","missions.claimed":"(Claimed)","missions.easy":" Easy","missions.medium":" Medium","missions.hard":" Hard","missions.progress":"Progress","missions.claimReward":" Claim Reward","missions.resetNote":"Missions reset daily at 00:00","missions.allCompleted":" All missions complete! ","missions.claimSuccess":" Reward claimed: +{reward} ","multiplayer.title":" Multiplayer","multiplayer.subtitle":"Challenge friends or face the AI","multiplayer.errorLoading":" Error loading multiplayer","multiplayer.matchesVsAI":"Matches vs AI","multiplayer.wins":"Wins","multiplayer.winRate":"Win Rate","multiplayer.player":"player","multiplayer.players":"players","multiplayer.comingSoon":" COMING SOON","multiplayer.back":" Back","multiplayer.yourName":"Your Name:","multiplayer.aiDifficulty":"AI Difficulty:","multiplayer.ai1Left":" AI 1 (Left):","multiplayer.ai2Right":" AI 2 (Right):","multiplayer.startMatch":" Start Match","multiplayer.player1":"Player 1","multiplayer.player2":"Player 2","gameModes.title":" Game Modes","gameModes.subtitle":"Choose your challenge","gameModes.loading":"Loading modes...","gameModes.errorLoading":" Error loading modes","gameModes.selected":" Selected","gameModes.goalLines":" Goal: {n} lines","gameModes.timeLimit":" Time: {time}","gameModes.gameOverYes":" Game Over","gameModes.gameOverNo":" No Game Over","gameModes.speedUp":" Speed increases","gameModes.speedFixed":" Fixed speed","gameModes.startLevel":" Start: Level {n}","gameModes.relaxed":" Relaxed mode","gameModes.yourRecords":"Your records:","gameModes.bestScore":"Best Score","gameModes.bestTime":"Best Time","gameModes.mostLines":"Most Lines","gameModes.gamesPlayed":"{n} games played","gameModes.noRecords":" No records yet","gameModes.play":" Play","tutorial.title":" Tutorial","tutorial.subtitle":"Learn from zero to PRO","tutorial.close":" Back","tutorial.overallProgress":"Overall progress","tutorial.fundamentals":"Fundamentals","tutorial.fundamentalsDesc":"Tetris basics","tutorial.intermediate":"Intermediate","tutorial.intermediateDesc":"T-spins and combos","tutorial.advanced":"Advanced","tutorial.advancedDesc":"Setups and strategies","tutorial.pro":"Professional","tutorial.proDesc":"PRO techniques","tutorial.noLessons":"No lessons in this module","tutorial.badgesEarned":"Badges earned","controls.hint":"  move |  rotate |  soft | Space = hard drop | C = hold","controls.continue":" Continue","controls.pause":" Pause","controls.touchFriendly":" Touch-friendly controls","controls.useShadow":" Use the shadow to plan!","gamepad.connected":"{n} Controller Connected","gamepad.connectedPlural":"{n} Controllers Connected","gamepad.ready":"Ready to play!","gamepad.showControls":"Show controls","gamepad.controlsTitle":" Controls:","gamepad.move":"Move","gamepad.accelerate":"Speed Up","gamepad.hardDrop":"Hard Drop","gamepad.rotateRight":"Rotate ","gamepad.rotateLeft":"Rotate ","gamepad.hold":"Hold","gamepad.pause":"Pause","gamepad.analogNote":" Left Analog Stick also works!","gamepad.triggerNote":" L2/R2 also rotate","gamepad.backNote":" Back/Select = Back to menu","gamepad.controllerLabel":"Controller {n}:","gamepad.buttons":"{n} buttons","gamepad.axes":"{n} axes","gamepad.vibration":" Vibration","reward.lessonComplete":"Lesson Complete!","reward.fish":"Fish","reward.xp":"XP","reward.badge":"Badge","pwa.notAvailableTitle":"PWA not available","pwa.notAvailableText":"This device does not support PWA installation or the app is already installed.","pwa.understood":" Got it","pwa.installTitle":"Install Cat Tetris","pwa.installText":"Install Cat Tetris on your home screen to play offline anytime! Works like a native app.","pwa.quickAccess":" Quick Access","pwa.quickAccessDesc":"Home screen icon","pwa.offline":" Offline","pwa.offlineDesc":"Play without internet","pwa.performance":" Performance","pwa.performanceDesc":"Instant loading","pwa.experience":" Experience","pwa.experienceDesc":"Like a native app","pwa.notNow":"Not now","pwa.install":" Install","share.prompt":"Share your score:","share.text":` Cat Tetris!
 {score} points
 Level {level}
 {lines} lines

Can you beat me? `,"share.title":"My Cat Tetris score","share.share":" Share","share.copied":" Copied!","share.copy":" Copy","share.twitter":" Twitter","share.whatsapp":" WhatsApp","share.close":"Close","statistics.title":" Statistics","statistics.playTime":"Play Time:","statistics.piecesPlaced":"Pieces Placed:","statistics.linesCleared":"Lines Cleared:","statistics.tSpins":"T-Spins:","statistics.backToBack":"Back-to-Back:","statistics.maxCombo":"Max Combo:","statistics.tetrisCount":"Tetris (4 lines):","statistics.lps":"LPS (Lines/sec):","error.title":" Oops! Something went wrong","error.message":"The game encountered an unexpected problem.","error.restart":" Restart Game ","error.details":"Error details","common.close":"Close","common.back":" Back","common.points":"points","common.level":"Level","common.lines":"lines","common.loading":"Loading...","common.yes":"Yes","common.no":"No","common.exit":"Exit","multiplayer.loading":"Loading multiplayer...","multiplayer.aiVsAiTitle":" AI vs AI (Debug)","multiplayer.vsAiTitle":" vs AI","multiplayer.localTitle":" 1v1 Local","multiplayer.you":" YOU","multiplayer.p1":" P1","multiplayer.p2":" P2","multiplayer.controlsP1":` move
 rotate
C hold
Space drop`,"multiplayer.controlsP2":`Arrows move
 rotate
Ctrl hold
Enter drop`,"multiplayer.victory":"VICTORY!","multiplayer.defeat":"DEFEAT!","multiplayer.ai1Won":"AI 1 WON!","multiplayer.ai2Won":"AI 2 WON!","multiplayer.isSuperior":"is superior!","multiplayer.youBeatAI":"You beat the AI!","multiplayer.aiBeatYou":"AI won!","multiplayer.player1Won":"Player 1 won!","multiplayer.player2Won":"Player 2 won!","multiplayer.playAgain":" Play Again","multiplayer.backToMenu":" Menu","multiplayer.gamepadBack":" B = back","tutorial.step1Title":" Welcome to Cat Tetris!","tutorial.step1Desc":"A Tetris with cats and an addicting progression system!","tutorial.step1Tip1":" Use the arrows to move pieces","tutorial.step1Tip2":" Up arrow to rotate","tutorial.step1Tip3":" Down arrow for soft drop","tutorial.step1Tip4":"C to hold a piece","tutorial.step2Title":" Coin System","tutorial.step2Desc":"Earn Fish () by completing missions and achievements!","tutorial.step2Tip1":" 3 daily missions (reset at midnight)","tutorial.step2Tip2":" 22 unlockable achievements","tutorial.step2Tip3":" Use  to buy themes in the shop","tutorial.step2Tip4":" The more you play, the more you earn!","tutorial.step3Title":" Daily Missions","tutorial.step3Desc":"Complete daily challenges to earn rewards!","tutorial.step3Tip1":" Easy Mission: 100","tutorial.step3Tip2":" Medium Mission: 200","tutorial.step3Tip3":" Hard Mission: 400","tutorial.step3Tip4":" Complete all for a special celebration!","tutorial.step4Title":" Shop & Customization","tutorial.step4Desc":"Customize your pieces with exclusive themes!","tutorial.step4Tip1":" 10 different themes available","tutorial.step4Tip2":" Crystals and Space are the most expensive","tutorial.step4Tip3":" Each theme changes piece emojis","tutorial.step4Tip4":" Unlock them all with your coins!","tutorial.step5Title":" Global Ranking","tutorial.step5Desc":"Compete with players worldwide!","tutorial.step5Tip1":" See your position in the global ranking","tutorial.step5Tip2":" 4 ranking types: Global, Weekly, Country, Nearby","tutorial.step5Tip3":" Share your records","tutorial.step5Tip4":" Reach Top 3 for a medal!","tutorial.step6Title":" Ready to Play!","tutorial.step6Desc":"Now you know everything. Have fun!","tutorial.step6Tip1":" Tip: Use the piece shadow to plan ahead","tutorial.step6Tip2":" Make combos for more points","tutorial.step6Tip3":" T-Spins are worth MUCH more","tutorial.step6Tip4":" Zen Mode is perfect to relax","tutorial.skip":"Skip Tutorial","tutorial.startPlaying":" Start Playing!","tutorial.next":"Next ","tutorial.stepIndicator":"Step {n} of {total} |   Skip","leaderboard.loading":"Loading ranking...","leaderboard.title":" Global Ranking","leaderboard.subtitle":"Worldwide Cat Tetris competition","leaderboard.yourPosition":"Your Position","leaderboard.topPercent":"Top {n}% of players","leaderboard.refresh":" Refresh","leaderboard.tabGlobal":" Global","leaderboard.tabGlobalDesc":"Top 100","leaderboard.tabWeekly":" Weekly","leaderboard.tabWeeklyDesc":"This week","leaderboard.tabCountry":" Country","leaderboard.tabCountryDesc":"Your country","leaderboard.tabAround":" Nearby","leaderboard.tabAroundDesc":"Near you","leaderboard.colRank":"Rank","leaderboard.colPlayer":"Player","leaderboard.colScore":"Score","leaderboard.colLevel":"Level","leaderboard.colLines":"Lines","leaderboard.you":"(You)","leaderboard.noPlayers":"No players in this category yet","leaderboard.footer":" Play more to climb the ranking! |   Back","creator.title":" Creator Mode","creator.subtitle":"Create, edit and organize your training setups! |   Back","creator.createNew":"Create New","creator.createNewDesc":"Build from scratch","creator.import":" Import","creator.export":" Export","creator.resetDefaults":" Reset Defaults","creator.allSetups":"All Setups","creator.noSetups":'No setups. Click "Create New" or "Reset Defaults".',"creator.defaultBadge":"default","creator.pieces":"Pieces:","creator.randomQueue":"random","creator.delete":" Delete","creator.replay":" Replay","creator.playControls":" move   rotate  C hold  Space drop  R replay","creator.tryAgain":" Try Again","creator.editSetup":" Edit Setup","creator.createMySetup":" Create My Setup","creator.boardLabel":"BOARD (click to edit)","creator.color":"Color:","creator.clearAll":"Clear All","creator.queueLabel":"PIECE QUEUE","creator.queueEmpty":`Click pieces above
(empty = random queue)`,"creator.clearQueue":"Clear queue","creator.detailsLabel":"DETAILS","creator.namePlaceholder":"Setup name","creator.descPlaceholder":"Description (optional)","creator.saveChanges":" Save Changes","creator.saveSetup":" Save Setup","creator.testWithoutSaving":" Test (no save)","creator.customSetupName":"Custom Setup","creator.mySetup":"My Setup","creator.importNoValid":"No valid setup in the file.","creator.importSuccess":"{n} setup(s) imported!","creator.importError":"Error reading the JSON file.","lesson.loading":"Loading...","lesson.objective":"Objective","lesson.howItWorks":"How it works","lesson.watchAIFirst":"Watch AI Play First","lesson.skipToPractice":"Skip to practice ","lesson.preparingDemo":"Preparing demo...","lesson.aiPlaying":"AI playing  watch how it does it!","lesson.yourTurn":" Now it's your turn!","lesson.skipDemo":"Skip demo ","lesson.practiceControls":" Move   Rotate   Soft Drop  Space: Hard Drop  C: Hold","lesson.practiceGameOver":"Game Over  try again!","lesson.restart":" Restart","lesson.congratulations":"Congratulations!","lesson.cpuPlaying":"CPU playing...","lesson.continue":" Continue","lesson.pause":" Pause","lesson.goToPractice":" Go to Practice","creator.playTitle":"Play","creator.editTitle":"Edit","creator.exportTitle":"Export","creator.moveUp":"Move up","creator.moveDown":"Move down","creator.removeTitle":"Remove","creator.clearLine":"Clear line","creator.fillLine":"Fill line","creator.addPiece":"Add {piece}","creator.gray":"Gray","settings.gamepadButtons":" Controller Buttons","settings.gamepadMenu":"Menu","settings.gamepadGame":"Game","settings.gamepadPress":"Press...","settings.dpadNote":"D-Pad cannot be remapped (navigation)","settings.gamepadReset":" Restore Defaults","settings.keyboardTitle":" Keyboard Controls","settings.keyPress":"Press a key...","settings.keyReset":" Restore Defaults","settings.keyAction.moveLeft":"Move Left","settings.keyAction.moveRight":"Move Right","settings.keyAction.moveDown":"Soft Drop","settings.keyAction.rotate":"Rotate ","settings.keyAction.rotateLeft":"Rotate ","settings.keyAction.hardDrop":"Hard Drop","settings.keyAction.hold":"Hold","settings.keyAction.pause":"Pause"},oS={"menu.title":" Cat Tetris","menu.subtitle":"Empilhe blocos com seus amigos felinos","menu.continue":" Continuar","menu.continueInfo":"Nvel {level}  {points} pts","menu.newGame":"Novo Jogo","menu.play":" Jogar","menu.vsAI":"VS IA","menu.vsAISub":"Desafie o bot","menu.tutorial":"Tutorial","menu.tutorialSub":"Aprenda a jogar","menu.creator":"Criador","menu.creatorSub":"Treine T-Spins","menu.aiExpert":"IA Expert","menu.aiExpertSub":"Assista a IA jogar","menu.shop":"Loja","menu.missions":"Misses","menu.achievements":"Conquistas","menu.settings":"Config","menu.install":" Instalar","menu.language":" Idioma","game.held":"Guardada","game.heldEmpty":"Vazio","game.next":"Prximas","game.nextLabel":"Prxima:","game.backToMenu":"Voltar ao Menu","game.level":"Nv.{level}","game.lines":"{n} linhas","game.accelerate":" Acelerar","game.hold":" Guardar","game.loading":"Carregando...","game.scoreTitle":" Pontuao","game.points":"Pontos:","game.record":"Recorde:","game.levelLabel":"Nvel:","game.linesLabel":"Linhas:","game.comboLabel":"Combo:","gameOver.title":"Game Over!","gameOver.points":"{score} pontos","gameOver.msgLow":"No desista! Cada tentativa te torna melhor! ","gameOver.msgMed":"Bom trabalho! Continue praticando! ","gameOver.msgHigh":"Excelente! Voc est ficando muito bom! ","gameOver.msgTop":"Incrvel! Voc  um mestre do Cat Tetris! ","gameOver.playAgain":" Jogar Novamente","gameOver.backToMenu":" Voltar ao Menu","gameOver.tip1":" Dica: Use a sombra para planejar melhor!","gameOver.tip2":" Tente fazer combos para mais pontos!","settings.title":" Configuraes","settings.audio":"udio","settings.volume":"Volume Geral","settings.soundEnabled":"Som Habilitado","settings.handling":"Handling (DAS/ARR)","settings.dasLabel":"DAS (Delayed Auto-Shift)","settings.dasHelp":"Delay antes da pea mover automaticamente ao segurar a tecla. Pro: 83-100ms","settings.arrLabel":"ARR (Auto-Repeat Rate)","settings.arrHelp":"Velocidade de repetio ao segurar. 0 = teleporta. Pro: 0-2ms","settings.controls":"Controles","settings.ctrlMove":"Mover","settings.ctrlRotateR":"Girar ","settings.ctrlRotateL":"Girar ","settings.ctrlSoftDrop":"Soft drop","settings.ctrlHardDrop":"Hard drop","settings.ctrlHold":"Hold","settings.ctrlPause":"Pausar","settings.visual":"Visual","settings.particles":"Efeitos de Partculas","settings.save":"Salvar","settings.cancel":"Cancelar","shop.title":" Loja de Temas","shop.subtitle":"Personalize suas peas de Tetris","shop.loading":"Carregando loja...","shop.errorLoading":" Erro ao carregar temas","shop.yourFish":"Seus Peixes","shop.themesUnlocked":"Temas Desbloqueados","shop.collection":"Coleo","shop.totalSpent":"Gasto Total","shop.equipped":" Equipado","shop.premium":" Premium","shop.free":"Gratuito","shop.equip":"Equipar","shop.inUse":"Em Uso","shop.close":"Fechar","shop.purchaseSuccess":" {name} comprado com sucesso!","shop.equipSuccess":" {name} equipado!","achievements.title":" Conquistas","achievements.subtitle":"Desbloqueie conquistas para ganhar  Peixes","achievements.loading":"Carregando conquistas...","achievements.unlocked":"Desbloqueadas","achievements.complete":"Completo","achievements.earned":"Ganhos","achievements.total":"Total","achievements.filterAll":"Todas","achievements.progress":"Progresso","achievements.unlockedAt":"Desbloqueado em {date}","achievements.noneInCategory":"Nenhuma conquista nesta categoria","achievements.unlockBanner":" CONQUISTA DESBLOQUEADA!","achievements.legendary":" Conquista Lendria! ","missions.title":" Misses Dirias","missions.subtitle":"Complete misses para ganhar  Peixes","missions.loading":"Carregando misses...","missions.dailyProgress":"Progresso Dirio:","missions.completedOf":"{completed}/{total} completas","missions.rewardsAvailable":"Recompensas Disponveis:","missions.claimed":"(Coletado)","missions.easy":" Fcil","missions.medium":" Mdio","missions.hard":" Difcil","missions.progress":"Progresso","missions.claimReward":" Coletar Recompensa","missions.resetNote":"As misses resetam todos os dias s 00:00","missions.allCompleted":" Todas as misses completas! ","missions.claimSuccess":" Recompensa coletada: +{reward} ","multiplayer.title":" Multiplayer","multiplayer.subtitle":"Desafie amigos ou enfrente a IA","multiplayer.errorLoading":" Erro ao carregar multiplayer","multiplayer.matchesVsAI":"Partidas vs IA","multiplayer.wins":"Vitrias","multiplayer.winRate":"Taxa de Vitria","multiplayer.player":"jogador","multiplayer.players":"jogadores","multiplayer.comingSoon":" EM BREVE","multiplayer.back":" Voltar","multiplayer.yourName":"Seu Nome:","multiplayer.aiDifficulty":"Dificuldade da IA:","multiplayer.ai1Left":" IA 1 (Esquerda):","multiplayer.ai2Right":" IA 2 (Direita):","multiplayer.startMatch":" Iniciar Partida","multiplayer.player1":"Jogador 1","multiplayer.player2":"Jogador 2","gameModes.title":" Modos de Jogo","gameModes.subtitle":"Escolha seu desafio","gameModes.loading":"Carregando modos...","gameModes.errorLoading":" Erro ao carregar modos","gameModes.selected":" Selecionado","gameModes.goalLines":" Meta: {n} linhas","gameModes.timeLimit":" Tempo: {time}","gameModes.gameOverYes":" Game Over","gameModes.gameOverNo":" Sem Game Over","gameModes.speedUp":" Velocidade aumenta","gameModes.speedFixed":" Velocidade fixa","gameModes.startLevel":" Incio: Nvel {n}","gameModes.relaxed":" Modo relaxado","gameModes.yourRecords":"Seus recordes:","gameModes.bestScore":"Melhor Pontuao","gameModes.bestTime":"Melhor Tempo","gameModes.mostLines":"Mais Linhas","gameModes.gamesPlayed":"{n} partidas jogadas","gameModes.noRecords":" Nenhum recorde ainda","gameModes.play":" Jogar","tutorial.title":" Tutorial","tutorial.subtitle":"Aprenda do zero ao PRO","tutorial.close":" Voltar","tutorial.overallProgress":"Progresso geral","tutorial.fundamentals":"Fundamentos","tutorial.fundamentalsDesc":"O bsico do Tetris","tutorial.intermediate":"Intermedirio","tutorial.intermediateDesc":"T-spins e combos","tutorial.advanced":"Avanado","tutorial.advancedDesc":"Setups e estratgias","tutorial.pro":"Profissional","tutorial.proDesc":"Tcnicas PRO","tutorial.noLessons":"Nenhuma lio neste mdulo","tutorial.badgesEarned":"Badges conquistadas","controls.hint":"  mover |  girar |  soft | Espao = hard drop | C = hold","controls.continue":" Continuar","controls.pause":" Pausar","controls.touchFriendly":" Controles touch-friendly","controls.useShadow":" Use a sombra para planejar!","gamepad.connected":"{n} Controle Conectado","gamepad.connectedPlural":"{n} Controles Conectados","gamepad.ready":"Pronto para jogar!","gamepad.showControls":"Mostrar controles","gamepad.controlsTitle":" Controles:","gamepad.move":"Mover","gamepad.accelerate":"Acelerar","gamepad.hardDrop":"Hard Drop","gamepad.rotateRight":"Girar ","gamepad.rotateLeft":"Girar ","gamepad.hold":"Guardar","gamepad.pause":"Pausar","gamepad.analogNote":" Analog Stick Esquerdo tambm funciona!","gamepad.triggerNote":" L2/R2 tambm giram a pea","gamepad.backNote":" Back/Select = Voltar ao menu","gamepad.controllerLabel":"Controle {n}:","gamepad.buttons":"{n} botes","gamepad.axes":"{n} eixos","gamepad.vibration":" Vibrao","reward.lessonComplete":"Lio Completa!","reward.fish":"Peixes","reward.xp":"XP","reward.badge":"Badge","pwa.notAvailableTitle":"PWA no disponvel","pwa.notAvailableText":"Este dispositivo no suporta instalao de PWA ou o app j est instalado.","pwa.understood":" Entendi","pwa.installTitle":"Instalar Cat Tetris","pwa.installText":"Instale o Cat Tetris na sua tela inicial para jogar offline a qualquer momento! Funciona como um app nativo.","pwa.quickAccess":" Acesso Rpido","pwa.quickAccessDesc":"cone na tela inicial","pwa.offline":" Offline","pwa.offlineDesc":"Jogue sem internet","pwa.performance":" Performance","pwa.performanceDesc":"Carregamento instantneo","pwa.experience":" Experincia","pwa.experienceDesc":"Como app nativo","pwa.notNow":"Agora no","pwa.install":" Instalar","share.prompt":"Compartilhe sua pontuao:","share.text":` Cat Tetris!
 {score} pontos
 Nvel {level}
 {lines} linhas

Consegue me superar? `,"share.title":"Minha pontuao no Cat Tetris","share.share":" Compartilhar","share.copied":" Copiado!","share.copy":" Copiar","share.twitter":" Twitter","share.whatsapp":" WhatsApp","share.close":"Fechar","statistics.title":" Estatsticas","statistics.playTime":"Tempo Jogado:","statistics.piecesPlaced":"Peas Colocadas:","statistics.linesCleared":"Linhas Limpas:","statistics.tSpins":"T-Spins:","statistics.backToBack":"Back-to-Back:","statistics.maxCombo":"Combo Mximo:","statistics.tetrisCount":"Tetris (4 linhas):","statistics.lps":"LPS (Linhas/seg):","error.title":" Ops! Algo deu errado","error.message":"O jogo encontrou um problema inesperado.","error.restart":" Reiniciar Jogo ","error.details":"Detalhes do erro","common.close":"Fechar","common.back":" Voltar","common.points":"pontos","common.level":"Nvel","common.lines":"linhas","common.loading":"Carregando...","common.yes":"Sim","common.no":"No","common.exit":"Sair","multiplayer.loading":"Carregando multiplayer...","multiplayer.aiVsAiTitle":" IA vs IA (Debug)","multiplayer.vsAiTitle":" vs IA","multiplayer.localTitle":" 1v1 Local","multiplayer.you":" VOC","multiplayer.p1":" P1","multiplayer.p2":" P2","multiplayer.controlsP1":` mover
 rotacionar
C segurar
Espao dropar`,"multiplayer.controlsP2":`Setas mover
 rotacionar
Ctrl segurar
Enter dropar`,"multiplayer.victory":"VITRIA!","multiplayer.defeat":"DERROTA!","multiplayer.ai1Won":"IA 1 VENCEU!","multiplayer.ai2Won":"IA 2 VENCEU!","multiplayer.isSuperior":" superior!","multiplayer.youBeatAI":"Voc venceu a IA!","multiplayer.aiBeatYou":"IA venceu!","multiplayer.player1Won":"Player 1 venceu!","multiplayer.player2Won":"Player 2 venceu!","multiplayer.playAgain":" Jogar Novamente","multiplayer.backToMenu":" Menu","multiplayer.gamepadBack":" B = voltar","tutorial.step1Title":" Bem-vindo ao Cat Tetris!","tutorial.step1Desc":"Um Tetris com gatinhos e sistema de progresso viciante!","tutorial.step1Tip1":" Use as setas para mover as peas","tutorial.step1Tip2":" Seta para cima para rotacionar","tutorial.step1Tip3":" Seta para baixo para drop rpido","tutorial.step1Tip4":"C para segurar pea (Hold)","tutorial.step2Title":" Sistema de Moedas","tutorial.step2Desc":"Ganhe Peixes () completando misses e conquistas!","tutorial.step2Tip1":" 3 misses dirias (resetam  meia-noite)","tutorial.step2Tip2":" 22 conquistas desbloqueveis","tutorial.step2Tip3":" Use  para comprar temas na loja","tutorial.step2Tip4":" Quanto mais voc joga, mais voc ganha!","tutorial.step3Title":" Misses Dirias","tutorial.step3Desc":"Complete desafios dirios para ganhar recompensas!","tutorial.step3Tip1":" Misso Fcil: 100","tutorial.step3Tip2":" Misso Mdia: 200","tutorial.step3Tip3":" Misso Difcil: 400","tutorial.step3Tip4":" Complete todas para celebrao especial!","tutorial.step4Title":" Loja e Personalizao","tutorial.step4Desc":"Customize suas peas com temas exclusivos!","tutorial.step4Tip1":" 10 temas diferentes disponveis","tutorial.step4Tip2":" Cristais e Espao so os mais caros","tutorial.step4Tip3":" Cada tema muda os emojis das peas","tutorial.step4Tip4":" Desbloqueie todos com suas moedas!","tutorial.step5Title":" Ranking Global","tutorial.step5Desc":"Compete com jogadores do mundo todo!","tutorial.step5Tip1":" Veja sua posio no ranking global","tutorial.step5Tip2":" 4 tipos de ranking: Global, Semanal, Pas, Ao Redor","tutorial.step5Tip3":" Compartilhe seus recordes","tutorial.step5Tip4":" Chegue ao Top 3 para medalha!","tutorial.step6Title":" Pronto para Jogar!","tutorial.step6Desc":"Agora voc sabe tudo. Divirta-se!","tutorial.step6Tip1":" Dica: Use a sombra da pea para planejar","tutorial.step6Tip2":" Faa combos para mais pontos","tutorial.step6Tip3":" T-Spins valem MUITO mais","tutorial.step6Tip4":" Modo Zen  perfeito para relaxar","tutorial.skip":"Pular Tutorial","tutorial.startPlaying":" Comear a Jogar!","tutorial.next":"Prximo ","tutorial.stepIndicator":"Passo {n} de {total} |   Pular","leaderboard.loading":"Carregando ranking...","leaderboard.title":" Ranking Global","leaderboard.subtitle":"Competio mundial de Cat Tetris","leaderboard.yourPosition":"Sua Posio","leaderboard.topPercent":"Top {n}% dos jogadores","leaderboard.refresh":" Atualizar","leaderboard.tabGlobal":" Global","leaderboard.tabGlobalDesc":"Top 100","leaderboard.tabWeekly":" Semanal","leaderboard.tabWeeklyDesc":"Esta semana","leaderboard.tabCountry":" Brasil","leaderboard.tabCountryDesc":"Seu pas","leaderboard.tabAround":" Ao Redor","leaderboard.tabAroundDesc":"Perto de voc","leaderboard.colRank":"Rank","leaderboard.colPlayer":"Jogador","leaderboard.colScore":"Pontuao","leaderboard.colLevel":"Nvel","leaderboard.colLines":"Linhas","leaderboard.you":"(Voc)","leaderboard.noPlayers":"Nenhum jogador nesta categoria ainda","leaderboard.footer":" Jogue mais para subir no ranking! |   Voltar","creator.title":" Modo Criador","creator.subtitle":"Crie, edite e organize seus setups de treino! |   Voltar","creator.createNew":"Criar Novo","creator.createNewDesc":"Monte do zero","creator.import":" Importar","creator.export":" Exportar","creator.resetDefaults":" Resetar Padro","creator.allSetups":"Todos os Setups","creator.noSetups":'Nenhum setup. Clique em "Criar Novo" ou "Resetar Padro".',"creator.defaultBadge":"padro","creator.pieces":"Peas:","creator.randomQueue":"aleatria","creator.delete":" Excluir","creator.replay":" Replay","creator.playControls":" mover   girar  C hold  Espao drop  R replay","creator.tryAgain":" Tentar Novamente","creator.editSetup":" Editar Setup","creator.createMySetup":" Criar Meu Setup","creator.boardLabel":"TABULEIRO (clique para editar)","creator.color":"Cor:","creator.clearAll":"Limpar Tudo","creator.queueLabel":"FILA DE PEAS","creator.queueEmpty":`Clique nas peas acima
(vazio = fila aleatria)`,"creator.clearQueue":"Limpar fila","creator.detailsLabel":"DETALHES","creator.namePlaceholder":"Nome do setup","creator.descPlaceholder":"Descrio (opcional)","creator.saveChanges":" Salvar Alteraes","creator.saveSetup":" Salvar Setup","creator.testWithoutSaving":" Testar (sem salvar)","creator.customSetupName":"Setup Personalizado","creator.mySetup":"Meu Setup","creator.importNoValid":"Nenhum setup vlido no arquivo.","creator.importSuccess":"{n} setup(s) importado(s)!","creator.importError":"Erro ao ler o arquivo JSON.","lesson.loading":"Carregando...","lesson.objective":"Objetivo","lesson.howItWorks":"Como funciona","lesson.watchAIFirst":"Ver IA Jogar Primeiro","lesson.skipToPractice":"Ir direto para prtica ","lesson.preparingDemo":"Preparando demonstrao...","lesson.aiPlaying":"IA jogando  observe como ela faz!","lesson.yourTurn":" Agora  sua vez!","lesson.skipDemo":"Pular demonstrao ","lesson.practiceControls":" Mover   Rotao   Soft Drop  Espao: Hard Drop  C: Hold","lesson.practiceGameOver":"Game Over  tente de novo!","lesson.restart":" Recomear","lesson.congratulations":"Parabns!","lesson.cpuPlaying":"CPU jogando...","lesson.continue":" Continuar","lesson.pause":" Pausar","lesson.goToPractice":" Ir para Prtica","creator.playTitle":"Jogar","creator.editTitle":"Editar","creator.exportTitle":"Exportar","creator.moveUp":"Mover pra cima","creator.moveDown":"Mover pra baixo","creator.removeTitle":"Remover","creator.clearLine":"Limpar linha","creator.fillLine":"Preencher linha","creator.addPiece":"Adicionar {piece}","creator.gray":"Cinza","settings.gamepadButtons":" Botes do Controle","settings.gamepadMenu":"Menu","settings.gamepadGame":"Jogo","settings.gamepadPress":"Pressione...","settings.dpadNote":"D-Pad no pode ser remapeado (navegao)","settings.gamepadReset":" Restaurar Padro","settings.keyboardTitle":" Controles do Teclado","settings.keyPress":"Pressione uma tecla...","settings.keyReset":" Restaurar Padro","settings.keyAction.moveLeft":"Mover Esquerda","settings.keyAction.moveRight":"Mover Direita","settings.keyAction.moveDown":"Soft Drop","settings.keyAction.rotate":"Girar ","settings.keyAction.rotateLeft":"Girar ","settings.keyAction.hardDrop":"Hard Drop","settings.keyAction.hold":"Segurar","settings.keyAction.pause":"Pausar"},aS={"menu.title":" Cat Tetris","menu.subtitle":"Apila bloques con tus amigos felinos","menu.continue":" Continuar","menu.continueInfo":"Nivel {level}  {points} pts","menu.newGame":"Nuevo Juego","menu.play":" Jugar","menu.vsAI":"VS IA","menu.vsAISub":"Desafa al bot","menu.tutorial":"Tutorial","menu.tutorialSub":"Aprende a jugar","menu.creator":"Creador","menu.creatorSub":"Entrena T-Spins","menu.aiExpert":"IA Expert","menu.aiExpertSub":"Mira la IA jugar","menu.shop":"Tienda","menu.missions":"Misiones","menu.achievements":"Logros","menu.settings":"Ajustes","menu.install":" Instalar","menu.language":" Idioma","game.held":"Reserva","game.heldEmpty":"Vaco","game.next":"Siguientes","game.nextLabel":"Siguiente:","game.backToMenu":"Volver al Men","game.level":"Nv.{level}","game.lines":"{n} lneas","game.accelerate":" Acelerar","game.hold":" Reservar","game.loading":"Cargando...","game.scoreTitle":" Puntuacin","game.points":"Puntos:","game.record":"Rcord:","game.levelLabel":"Nivel:","game.linesLabel":"Lneas:","game.comboLabel":"Combo:","gameOver.title":"Game Over!","gameOver.points":"{score} puntos","gameOver.msgLow":"No te rindas! Cada intento te hace mejor! ","gameOver.msgMed":"Buen trabajo! Sigue practicando! ","gameOver.msgHigh":"Excelente! Ests mejorando mucho! ","gameOver.msgTop":"Increble! Eres un maestro de Cat Tetris! ","gameOver.playAgain":" Jugar de Nuevo","gameOver.backToMenu":" Volver al Men","gameOver.tip1":" Consejo: Usa la sombra para planificar!","gameOver.tip2":" Intenta combos para ms puntos!","settings.title":" Ajustes","settings.audio":"Audio","settings.volume":"Volumen General","settings.soundEnabled":"Sonido Habilitado","settings.handling":"Handling (DAS/ARR)","settings.dasLabel":"DAS (Delayed Auto-Shift)","settings.dasHelp":"Retardo antes de que la pieza se mueva al mantener la tecla. Pro: 83-100ms","settings.arrLabel":"ARR (Auto-Repeat Rate)","settings.arrHelp":"Velocidad de repeticin al mantener. 0 = teletransporte. Pro: 0-2ms","settings.controls":"Controles","settings.ctrlMove":"Mover","settings.ctrlRotateR":"Girar ","settings.ctrlRotateL":"Girar ","settings.ctrlSoftDrop":"Soft drop","settings.ctrlHardDrop":"Hard drop","settings.ctrlHold":"Hold","settings.ctrlPause":"Pausa","settings.visual":"Visual","settings.particles":"Efectos de Partculas","settings.save":"Guardar","settings.cancel":"Cancelar","shop.title":" Tienda de Temas","shop.subtitle":"Personaliza tus piezas de Tetris","shop.loading":"Cargando tienda...","shop.errorLoading":" Error al cargar temas","shop.yourFish":"Tus Peces","shop.themesUnlocked":"Temas Desbloqueados","shop.collection":"Coleccin","shop.totalSpent":"Gasto Total","shop.equipped":" Equipado","shop.premium":" Premium","shop.free":"Gratuito","shop.equip":"Equipar","shop.inUse":"En Uso","shop.close":"Cerrar","shop.purchaseSuccess":" {name} comprado!","shop.equipSuccess":" {name} equipado!","achievements.title":" Logros","achievements.subtitle":"Desbloquea logros para ganar  Peces","achievements.loading":"Cargando logros...","achievements.unlocked":"Desbloqueados","achievements.complete":"Completo","achievements.earned":"Ganados","achievements.total":"Total","achievements.filterAll":"Todos","achievements.progress":"Progreso","achievements.unlockedAt":"Desbloqueado el {date}","achievements.noneInCategory":"No hay logros en esta categora","achievements.unlockBanner":" LOGRO DESBLOQUEADO!","achievements.legendary":" Logro Legendario! ","missions.title":" Misiones Diarias","missions.subtitle":"Completa misiones para ganar  Peces","missions.loading":"Cargando misiones...","missions.dailyProgress":"Progreso Diario:","missions.completedOf":"{completed}/{total} completas","missions.rewardsAvailable":"Recompensas Disponibles:","missions.claimed":"(Reclamado)","missions.easy":" Fcil","missions.medium":" Medio","missions.hard":" Difcil","missions.progress":"Progreso","missions.claimReward":" Reclamar Recompensa","missions.resetNote":"Las misiones se reinician cada da a las 00:00","missions.allCompleted":" Todas las misiones completas! ","missions.claimSuccess":" Recompensa reclamada: +{reward} ","multiplayer.title":" Multijugador","multiplayer.subtitle":"Desafa amigos o enfrenta la IA","multiplayer.errorLoading":" Error al cargar multijugador","multiplayer.matchesVsAI":"Partidas vs IA","multiplayer.wins":"Victorias","multiplayer.winRate":"Tasa de Victoria","multiplayer.player":"jugador","multiplayer.players":"jugadores","multiplayer.comingSoon":" PRXIMAMENTE","multiplayer.back":" Volver","multiplayer.yourName":"Tu Nombre:","multiplayer.aiDifficulty":"Dificultad de IA:","multiplayer.ai1Left":" IA 1 (Izquierda):","multiplayer.ai2Right":" IA 2 (Derecha):","multiplayer.startMatch":" Iniciar Partida","multiplayer.player1":"Jugador 1","multiplayer.player2":"Jugador 2","gameModes.title":" Modos de Juego","gameModes.subtitle":"Elige tu desafo","gameModes.loading":"Cargando modos...","gameModes.errorLoading":" Error al cargar modos","gameModes.selected":" Seleccionado","gameModes.goalLines":" Meta: {n} lneas","gameModes.timeLimit":" Tiempo: {time}","gameModes.gameOverYes":" Game Over","gameModes.gameOverNo":" Sin Game Over","gameModes.speedUp":" Velocidad aumenta","gameModes.speedFixed":" Velocidad fija","gameModes.startLevel":" Inicio: Nivel {n}","gameModes.relaxed":" Modo relajado","gameModes.yourRecords":"Tus rcords:","gameModes.bestScore":"Mejor Puntuacin","gameModes.bestTime":"Mejor Tiempo","gameModes.mostLines":"Ms Lneas","gameModes.gamesPlayed":"{n} partidas jugadas","gameModes.noRecords":" Sin rcords an","gameModes.play":" Jugar","tutorial.title":" Tutorial","tutorial.subtitle":"Aprende de cero a PRO","tutorial.close":" Volver","tutorial.overallProgress":"Progreso general","tutorial.fundamentals":"Fundamentos","tutorial.fundamentalsDesc":"Lo bsico del Tetris","tutorial.intermediate":"Intermedio","tutorial.intermediateDesc":"T-spins y combos","tutorial.advanced":"Avanzado","tutorial.advancedDesc":"Setups y estrategias","tutorial.pro":"Profesional","tutorial.proDesc":"Tcnicas PRO","tutorial.noLessons":"No hay lecciones en este mdulo","tutorial.badgesEarned":"Badges obtenidas","controls.hint":"  mover |  girar |  soft | Espacio = hard drop | C = hold","controls.continue":" Continuar","controls.pause":" Pausa","controls.touchFriendly":" Controles tctiles","controls.useShadow":" Usa la sombra para planificar!","gamepad.connected":"{n} Mando Conectado","gamepad.connectedPlural":"{n} Mandos Conectados","gamepad.ready":"Listo para jugar!","gamepad.showControls":"Mostrar controles","gamepad.controlsTitle":" Controles:","gamepad.move":"Mover","gamepad.accelerate":"Acelerar","gamepad.hardDrop":"Hard Drop","gamepad.rotateRight":"Girar ","gamepad.rotateLeft":"Girar ","gamepad.hold":"Reservar","gamepad.pause":"Pausa","gamepad.analogNote":" El stick izquierdo tambin funciona!","gamepad.triggerNote":" L2/R2 tambin giran","gamepad.backNote":" Back/Select = Volver al men","gamepad.controllerLabel":"Mando {n}:","gamepad.buttons":"{n} botones","gamepad.axes":"{n} ejes","gamepad.vibration":" Vibracin","reward.lessonComplete":"Leccin Completa!","reward.fish":"Peces","reward.xp":"XP","reward.badge":"Badge","pwa.notAvailableTitle":"PWA no disponible","pwa.notAvailableText":"Este dispositivo no soporta la instalacin de PWA o la app ya est instalada.","pwa.understood":" Entendido","pwa.installTitle":"Instalar Cat Tetris","pwa.installText":"Instala Cat Tetris en tu pantalla de inicio para jugar offline! Funciona como una app nativa.","pwa.quickAccess":" Acceso Rpido","pwa.quickAccessDesc":"cono en pantalla","pwa.offline":" Offline","pwa.offlineDesc":"Juega sin internet","pwa.performance":" Rendimiento","pwa.performanceDesc":"Carga instantnea","pwa.experience":" Experiencia","pwa.experienceDesc":"Como app nativa","pwa.notNow":"Ahora no","pwa.install":" Instalar","share.prompt":"Comparte tu puntuacin:","share.text":` Cat Tetris!
 {score} puntos
 Nivel {level}
 {lines} lneas

Puedes superarme? `,"share.title":"Mi puntuacin en Cat Tetris","share.share":" Compartir","share.copied":" Copiado!","share.copy":" Copiar","share.twitter":" Twitter","share.whatsapp":" WhatsApp","share.close":"Cerrar","statistics.title":" Estadsticas","statistics.playTime":"Tiempo Jugado:","statistics.piecesPlaced":"Piezas Colocadas:","statistics.linesCleared":"Lneas Limpiadas:","statistics.tSpins":"T-Spins:","statistics.backToBack":"Back-to-Back:","statistics.maxCombo":"Combo Mximo:","statistics.tetrisCount":"Tetris (4 lneas):","statistics.lps":"LPS (Lneas/seg):","error.title":" Ups! Algo sali mal","error.message":"El juego encontr un problema inesperado.","error.restart":" Reiniciar Juego ","error.details":"Detalles del error","common.close":"Cerrar","common.back":" Volver","common.points":"puntos","common.level":"Nivel","common.lines":"lneas","common.loading":"Cargando...","common.yes":"S","common.no":"No","common.exit":"Salir","multiplayer.loading":"Cargando multijugador...","multiplayer.aiVsAiTitle":" IA vs IA (Debug)","multiplayer.vsAiTitle":" vs IA","multiplayer.localTitle":" 1v1 Local","multiplayer.you":" T","multiplayer.p1":" J1","multiplayer.p2":" J2","multiplayer.controlsP1":` mover
 rotar
C guardar
Espacio soltar`,"multiplayer.controlsP2":`Flechas mover
 rotar
Ctrl guardar
Enter soltar`,"multiplayer.victory":"VICTORIA!","multiplayer.defeat":"DERROTA!","multiplayer.ai1Won":"IA 1 GAN!","multiplayer.ai2Won":"IA 2 GAN!","multiplayer.isSuperior":"es superior!","multiplayer.youBeatAI":"Venciste a la IA!","multiplayer.aiBeatYou":"La IA gan!","multiplayer.player1Won":"Jugador 1 gan!","multiplayer.player2Won":"Jugador 2 gan!","multiplayer.playAgain":" Jugar de Nuevo","multiplayer.backToMenu":" Men","multiplayer.gamepadBack":" B = volver","tutorial.step1Title":" Bienvenido a Cat Tetris!","tutorial.step1Desc":"Un Tetris con gatitos y un sistema de progresin adictivo!","tutorial.step1Tip1":" Usa las flechas para mover las piezas","tutorial.step1Tip2":" Flecha arriba para rotar","tutorial.step1Tip3":" Flecha abajo para cada rpida","tutorial.step1Tip4":"C para guardar pieza (Hold)","tutorial.step2Title":" Sistema de Monedas","tutorial.step2Desc":"Gana Peces () completando misiones y logros!","tutorial.step2Tip1":" 3 misiones diarias (se reinician a medianoche)","tutorial.step2Tip2":" 22 logros desbloqueables","tutorial.step2Tip3":" Usa  para comprar temas en la tienda","tutorial.step2Tip4":" Cuanto ms juegas, ms ganas!","tutorial.step3Title":" Misiones Diarias","tutorial.step3Desc":"Completa desafos diarios para ganar recompensas!","tutorial.step3Tip1":" Misin Fcil: 100","tutorial.step3Tip2":" Misin Media: 200","tutorial.step3Tip3":" Misin Difcil: 400","tutorial.step3Tip4":" Completa todas para una celebracin especial!","tutorial.step4Title":" Tienda y Personalizacin","tutorial.step4Desc":"Personaliza tus piezas con temas exclusivos!","tutorial.step4Tip1":" 10 temas diferentes disponibles","tutorial.step4Tip2":" Cristales y Espacio son los ms caros","tutorial.step4Tip3":" Cada tema cambia los emojis de las piezas","tutorial.step4Tip4":" Desbloqualos todos con tus monedas!","tutorial.step5Title":" Ranking Global","tutorial.step5Desc":"Compite con jugadores de todo el mundo!","tutorial.step5Tip1":" Ve tu posicin en el ranking global","tutorial.step5Tip2":" 4 tipos de ranking: Global, Semanal, Pas, Cercano","tutorial.step5Tip3":" Comparte tus rcords","tutorial.step5Tip4":" Llega al Top 3 para una medalla!","tutorial.step6Title":" Listo para Jugar!","tutorial.step6Desc":"Ahora lo sabes todo. Divirtete!","tutorial.step6Tip1":" Consejo: Usa la sombra de la pieza para planificar","tutorial.step6Tip2":" Haz combos para ms puntos","tutorial.step6Tip3":" Los T-Spins valen MUCHO ms","tutorial.step6Tip4":" El Modo Zen es perfecto para relajarse","tutorial.skip":"Saltar Tutorial","tutorial.startPlaying":" Empezar a Jugar!","tutorial.next":"Siguiente ","tutorial.stepIndicator":"Paso {n} de {total} |   Saltar","leaderboard.loading":"Cargando ranking...","leaderboard.title":" Ranking Global","leaderboard.subtitle":"Competicin mundial de Cat Tetris","leaderboard.yourPosition":"Tu Posicin","leaderboard.topPercent":"Top {n}% de jugadores","leaderboard.refresh":" Actualizar","leaderboard.tabGlobal":" Global","leaderboard.tabGlobalDesc":"Top 100","leaderboard.tabWeekly":" Semanal","leaderboard.tabWeeklyDesc":"Esta semana","leaderboard.tabCountry":" Pas","leaderboard.tabCountryDesc":"Tu pas","leaderboard.tabAround":" Cercano","leaderboard.tabAroundDesc":"Cerca de ti","leaderboard.colRank":"Rank","leaderboard.colPlayer":"Jugador","leaderboard.colScore":"Puntuacin","leaderboard.colLevel":"Nivel","leaderboard.colLines":"Lneas","leaderboard.you":"(T)","leaderboard.noPlayers":"Ningn jugador en esta categora an","leaderboard.footer":" Juega ms para subir en el ranking! |   Volver","creator.title":" Modo Creador","creator.subtitle":"Crea, edita y organiza tus setups de entrenamiento! |   Volver","creator.createNew":"Crear Nuevo","creator.createNewDesc":"Construir desde cero","creator.import":" Importar","creator.export":" Exportar","creator.resetDefaults":" Resetear Predeterminados","creator.allSetups":"Todos los Setups","creator.noSetups":'Sin setups. Haz clic en "Crear Nuevo" o "Resetear".',"creator.defaultBadge":"predeterminado","creator.pieces":"Piezas:","creator.randomQueue":"aleatorio","creator.delete":" Eliminar","creator.replay":" Repetir","creator.playControls":" mover   rotar  C hold  Espacio drop  R repetir","creator.tryAgain":" Intentar de Nuevo","creator.editSetup":" Editar Setup","creator.createMySetup":" Crear Mi Setup","creator.boardLabel":"TABLERO (clic para editar)","creator.color":"Color:","creator.clearAll":"Limpiar Todo","creator.queueLabel":"COLA DE PIEZAS","creator.queueEmpty":`Haz clic en las piezas arriba
(vaco = cola aleatoria)`,"creator.clearQueue":"Limpiar cola","creator.detailsLabel":"DETALLES","creator.namePlaceholder":"Nombre del setup","creator.descPlaceholder":"Descripcin (opcional)","creator.saveChanges":" Guardar Cambios","creator.saveSetup":" Guardar Setup","creator.testWithoutSaving":" Probar (sin guardar)","creator.customSetupName":"Setup Personalizado","creator.mySetup":"Mi Setup","creator.importNoValid":"Ningn setup vlido en el archivo.","creator.importSuccess":"{n} setup(s) importado(s)!","creator.importError":"Error al leer el archivo JSON.","lesson.loading":"Cargando...","lesson.objective":"Objetivo","lesson.howItWorks":"Cmo funciona","lesson.watchAIFirst":"Ver IA jugar primero","lesson.skipToPractice":"Ir a la prctica ","lesson.preparingDemo":"Preparando demostracin...","lesson.aiPlaying":"IA jugando  observa cmo lo hace!","lesson.yourTurn":" Ahora es tu turno!","lesson.skipDemo":"Saltar demo ","lesson.practiceControls":" Mover   Rotar   Soft Drop  Espacio: Hard Drop  C: Hold","lesson.practiceGameOver":"Game Over  intntalo de nuevo!","lesson.restart":" Reiniciar","lesson.congratulations":"Felicidades!","lesson.cpuPlaying":"CPU jugando...","lesson.continue":" Continuar","lesson.pause":" Pausar","lesson.goToPractice":" Ir a Prctica","creator.playTitle":"Jugar","creator.editTitle":"Editar","creator.exportTitle":"Exportar","creator.moveUp":"Mover arriba","creator.moveDown":"Mover abajo","creator.removeTitle":"Eliminar","creator.clearLine":"Limpiar lnea","creator.fillLine":"Llenar lnea","creator.addPiece":"Aadir {piece}","creator.gray":"Gris","settings.gamepadButtons":" Botones del Control","settings.gamepadMenu":"Men","settings.gamepadGame":"Juego","settings.gamepadPress":"Pulsa...","settings.dpadNote":"D-Pad no se puede reasignar (navegacin)","settings.gamepadReset":" Restaurar Predeterminados","settings.keyboardTitle":" Controles del Teclado","settings.keyPress":"Pulsa una tecla...","settings.keyReset":" Restaurar Predeterminados","settings.keyAction.moveLeft":"Mover Izquierda","settings.keyAction.moveRight":"Mover Derecha","settings.keyAction.moveDown":"Soft Drop","settings.keyAction.rotate":"Girar ","settings.keyAction.rotateLeft":"Girar ","settings.keyAction.hardDrop":"Hard Drop","settings.keyAction.hold":"Mantener","settings.keyAction.pause":"Pausar"},lS={"menu.title":" Cat Tetris","menu.subtitle":"","menu.continue":" ","menu.continueInfo":" {level}  {points} pts","menu.newGame":"","menu.play":" ","menu.vsAI":"VS AI","menu.vsAISub":"AI","menu.tutorial":"","menu.tutorialSub":"","menu.creator":"","menu.creatorSub":"T-Spin","menu.aiExpert":"AI","menu.aiExpertSub":"AI","menu.shop":"","menu.missions":"","menu.achievements":"","menu.settings":"","menu.install":" ","menu.language":" ","game.held":"","game.heldEmpty":"","game.next":"","game.nextLabel":":","game.backToMenu":"","game.level":"Lv.{level}","game.lines":"{n} ","game.accelerate":" ","game.hold":" ","game.loading":"...","game.scoreTitle":" ","game.points":":","game.record":":","game.levelLabel":":","game.linesLabel":":","game.comboLabel":":","gameOver.title":"!","gameOver.points":"{score} ","gameOver.msgLow":" ","gameOver.msgMed":" ","gameOver.msgHigh":" ","gameOver.msgTop":"Cat Tetris ","gameOver.playAgain":" ","gameOver.backToMenu":" ","gameOver.tip1":" : ","gameOver.tip2":" ","settings.title":" ","settings.audio":"","settings.volume":"","settings.soundEnabled":"","settings.handling":" (DAS/ARR)","settings.dasLabel":"DAS ()","settings.dasHelp":": 83-100ms","settings.arrLabel":"ARR ()","settings.arrHelp":"0 = : 0-2ms","settings.controls":"","settings.ctrlMove":"","settings.ctrlRotateR":"","settings.ctrlRotateL":"","settings.ctrlSoftDrop":"","settings.ctrlHardDrop":"","settings.ctrlHold":"","settings.ctrlPause":"","settings.visual":"","settings.particles":"","settings.save":"","settings.cancel":"","shop.title":" ","shop.subtitle":"","shop.loading":"...","shop.errorLoading":" ","shop.yourFish":"","shop.themesUnlocked":"","shop.collection":"","shop.totalSpent":"","shop.equipped":" ","shop.premium":" ","shop.free":"","shop.equip":"","shop.inUse":"","shop.close":"","shop.purchaseSuccess":" {name} ","shop.equipSuccess":" {name} ","achievements.title":" ","achievements.subtitle":"  ","achievements.loading":"...","achievements.unlocked":"","achievements.complete":"","achievements.earned":"","achievements.total":"","achievements.filterAll":"","achievements.progress":"","achievements.unlockedAt":"{date} ","achievements.noneInCategory":"","achievements.unlockBanner":" ","achievements.legendary":"  ","missions.title":" ","missions.subtitle":"  ","missions.loading":"...","missions.dailyProgress":":","missions.completedOf":"{completed}/{total} ","missions.rewardsAvailable":":","missions.claimed":"()","missions.easy":" ","missions.medium":" ","missions.hard":" ","missions.progress":"","missions.claimReward":" ","missions.resetNote":"00:00","missions.allCompleted":"  ","missions.claimSuccess":" : +{reward} ","multiplayer.title":" ","multiplayer.subtitle":"AI","multiplayer.errorLoading":" ","multiplayer.matchesVsAI":"AI","multiplayer.wins":"","multiplayer.winRate":"","multiplayer.player":"","multiplayer.players":"","multiplayer.comingSoon":" ","multiplayer.back":" ","multiplayer.yourName":":","multiplayer.aiDifficulty":"AI:","multiplayer.ai1Left":" AI 1 ():","multiplayer.ai2Right":" AI 2 ():","multiplayer.startMatch":" ","multiplayer.player1":" 1","multiplayer.player2":" 2","gameModes.title":" ","gameModes.subtitle":"","gameModes.loading":"...","gameModes.errorLoading":" ","gameModes.selected":" ","gameModes.goalLines":" : {n} ","gameModes.timeLimit":" : {time}","gameModes.gameOverYes":" ","gameModes.gameOverNo":" ","gameModes.speedUp":" ","gameModes.speedFixed":" ","gameModes.startLevel":" :  {n}","gameModes.relaxed":" ","gameModes.yourRecords":":","gameModes.bestScore":"","gameModes.bestTime":"","gameModes.mostLines":"","gameModes.gamesPlayed":"{n} ","gameModes.noRecords":" ","gameModes.play":" ","tutorial.title":" ","tutorial.subtitle":"PRO","tutorial.close":" ","tutorial.overallProgress":"","tutorial.fundamentals":"","tutorial.fundamentalsDesc":"","tutorial.intermediate":"","tutorial.intermediateDesc":"T-spin","tutorial.advanced":"","tutorial.advancedDesc":"","tutorial.pro":"","tutorial.proDesc":"PRO ","tutorial.noLessons":"","tutorial.badgesEarned":"","controls.hint":"   |   |   |  =  | C = ","controls.continue":" ","controls.pause":" ","controls.touchFriendly":" ","controls.useShadow":" ","gamepad.connected":"{n} ","gamepad.connectedPlural":"{n} ","gamepad.ready":"","gamepad.showControls":"","gamepad.controlsTitle":" :","gamepad.move":"","gamepad.accelerate":"","gamepad.hardDrop":"","gamepad.rotateRight":"","gamepad.rotateLeft":"","gamepad.hold":"","gamepad.pause":"","gamepad.analogNote":" ","gamepad.triggerNote":" L2/R2","gamepad.backNote":" Back/Select = ","gamepad.controllerLabel":" {n}:","gamepad.buttons":"{n} ","gamepad.axes":"{n} ","gamepad.vibration":" ","reward.lessonComplete":"","reward.fish":"","reward.xp":"XP","reward.badge":"","pwa.notAvailableTitle":"PWA","pwa.notAvailableText":"PWA","pwa.understood":" ","pwa.installTitle":"Cat Tetris","pwa.installText":"","pwa.quickAccess":" ","pwa.quickAccessDesc":"","pwa.offline":" ","pwa.offlineDesc":"","pwa.performance":" ","pwa.performanceDesc":"","pwa.experience":" ","pwa.experienceDesc":"","pwa.notNow":"","pwa.install":" ","share.prompt":":","share.text":` Cat Tetris!
 {score} 
  {level}
 {lines} 

 `,"share.title":"Cat Tetris","share.share":" ","share.copied":" ","share.copy":" ","share.twitter":" Twitter","share.whatsapp":" WhatsApp","share.close":"","statistics.title":" ","statistics.playTime":":","statistics.piecesPlaced":":","statistics.linesCleared":":","statistics.tSpins":"T-Spins:","statistics.backToBack":"Back-to-Back:","statistics.maxCombo":":","statistics.tetrisCount":"(4):","statistics.lps":"LPS (/):","error.title":" ","error.message":"","error.restart":"  ","error.details":"","common.close":"","common.back":" ","common.points":"","common.level":"","common.lines":"","common.loading":"...","common.yes":"","common.no":"","common.exit":"","multiplayer.loading":"...","multiplayer.aiVsAiTitle":" AI vs AI ()","multiplayer.vsAiTitle":" vs AI","multiplayer.localTitle":" 1v1 ","multiplayer.you":" ","multiplayer.p1":" P1","multiplayer.p2":" P2","multiplayer.controlsP1":` 
 
C 
 `,"multiplayer.controlsP2":` 
 
Ctrl 
Enter `,"multiplayer.victory":"","multiplayer.defeat":"","multiplayer.ai1Won":"AI 1","multiplayer.ai2Won":"AI 2","multiplayer.isSuperior":"","multiplayer.youBeatAI":"AI","multiplayer.aiBeatYou":"AI","multiplayer.player1Won":"1","multiplayer.player2Won":"2","multiplayer.playAgain":" ","multiplayer.backToMenu":" ","multiplayer.gamepadBack":" B = ","tutorial.step1Title":" Cat Tetris","tutorial.step1Desc":"","tutorial.step1Tip1":" ","tutorial.step1Tip2":" ","tutorial.step1Tip3":" ","tutorial.step1Tip4":"C","tutorial.step2Title":" ","tutorial.step2Desc":"()","tutorial.step2Tip1":" 3","tutorial.step2Tip2":" 22","tutorial.step2Tip3":" ","tutorial.step2Tip4":" ","tutorial.step3Title":" ","tutorial.step3Desc":"","tutorial.step3Tip1":" : 100","tutorial.step3Tip2":" : 200","tutorial.step3Tip3":" : 400","tutorial.step3Tip4":" ","tutorial.step4Title":" ","tutorial.step4Desc":"","tutorial.step4Tip1":" 10","tutorial.step4Tip2":" ","tutorial.step4Tip3":" ","tutorial.step4Tip4":" ","tutorial.step5Title":" ","tutorial.step5Desc":"","tutorial.step5Tip1":" ","tutorial.step5Tip2":" 4","tutorial.step5Tip3":" ","tutorial.step5Tip4":" 3","tutorial.step6Title":" ","tutorial.step6Desc":"","tutorial.step6Tip1":" ","tutorial.step6Tip2":" ","tutorial.step6Tip3":" T-Spin","tutorial.step6Tip4":" Zen","tutorial.skip":"","tutorial.startPlaying":" ","tutorial.next":" ","tutorial.stepIndicator":" {n} / {total} |   ","leaderboard.loading":"...","leaderboard.title":" ","leaderboard.subtitle":"Cat Tetris","leaderboard.yourPosition":"","leaderboard.topPercent":"{n}%","leaderboard.refresh":" ","leaderboard.tabGlobal":" ","leaderboard.tabGlobalDesc":"100","leaderboard.tabWeekly":" ","leaderboard.tabWeeklyDesc":"","leaderboard.tabCountry":" ","leaderboard.tabCountryDesc":"","leaderboard.tabAround":" ","leaderboard.tabAroundDesc":"","leaderboard.colRank":"","leaderboard.colPlayer":"","leaderboard.colScore":"","leaderboard.colLevel":"","leaderboard.colLines":"","leaderboard.you":"()","leaderboard.noPlayers":"","leaderboard.footer":"  |   ","creator.title":" ","creator.subtitle":" |   ","creator.createNew":"","creator.createNewDesc":"","creator.import":" ","creator.export":" ","creator.resetDefaults":" ","creator.allSetups":"","creator.noSetups":"","creator.defaultBadge":"","creator.pieces":":","creator.randomQueue":"","creator.delete":" ","creator.replay":" ","creator.playControls":"      C      R ","creator.tryAgain":" ","creator.editSetup":" ","creator.createMySetup":" ","creator.boardLabel":"","creator.color":":","creator.clearAll":"","creator.queueLabel":"","creator.queueEmpty":`
( = )`,"creator.clearQueue":"","creator.detailsLabel":"","creator.namePlaceholder":"","creator.descPlaceholder":"","creator.saveChanges":" ","creator.saveSetup":" ","creator.testWithoutSaving":" ","creator.customSetupName":"","creator.mySetup":"","creator.importNoValid":"","creator.importSuccess":"{n}","creator.importError":"JSON","lesson.loading":"...","lesson.objective":"","lesson.howItWorks":"","lesson.watchAIFirst":"AI","lesson.skipToPractice":" ","lesson.preparingDemo":"...","lesson.aiPlaying":"AI  ","lesson.yourTurn":" ","lesson.skipDemo":" ","lesson.practiceControls":"         :   C: ","lesson.practiceGameOver":"  ","lesson.restart":" ","lesson.congratulations":"","lesson.cpuPlaying":"CPU...","lesson.continue":" ","lesson.pause":" ","lesson.goToPractice":" ","creator.playTitle":"","creator.editTitle":"","creator.exportTitle":"","creator.moveUp":"","creator.moveDown":"","creator.removeTitle":"","creator.clearLine":"","creator.fillLine":"","creator.addPiece":"{piece}","creator.gray":"","settings.gamepadButtons":" ","settings.gamepadMenu":"","settings.gamepadGame":"","settings.gamepadPress":"...","settings.dpadNote":"D-Pad","settings.gamepadReset":" ","settings.keyboardTitle":" ","settings.keyPress":"...","settings.keyReset":" ","settings.keyAction.moveLeft":"","settings.keyAction.moveRight":"","settings.keyAction.moveDown":"","settings.keyAction.rotate":"","settings.keyAction.rotateLeft":"","settings.keyAction.hardDrop":"","settings.keyAction.hold":"","settings.keyAction.pause":""},cS={"menu.title":" Cat Tetris","menu.subtitle":"Empilez les blocs avec vos amis flins","menu.continue":" Continuer","menu.continueInfo":"Niveau {level}  {points} pts","menu.newGame":"Nouvelle Partie","menu.play":" Jouer","menu.vsAI":"VS IA","menu.vsAISub":"Dfiez le bot","menu.tutorial":"Tutoriel","menu.tutorialSub":"Apprenez  jouer","menu.creator":"Crateur","menu.creatorSub":"Entranez T-Spins","menu.aiExpert":"IA Expert","menu.aiExpertSub":"Regardez l'IA jouer","menu.shop":"Boutique","menu.missions":"Missions","menu.achievements":"Succs","menu.settings":"Options","menu.install":" Installer","menu.language":" Langue","game.held":"Rserve","game.heldEmpty":"Vide","game.next":"Suivantes","game.nextLabel":"Suivante:","game.backToMenu":"Retour au Menu","game.level":"Nv.{level}","game.lines":"{n} lignes","game.accelerate":" Acclrer","game.hold":" Rserve","game.loading":"Chargement...","game.scoreTitle":" Score","game.points":"Points:","game.record":"Record:","game.levelLabel":"Niveau:","game.linesLabel":"Lignes:","game.comboLabel":"Combo:","gameOver.title":"Game Over!","gameOver.points":"{score} points","gameOver.msgLow":"N'abandonnez pas ! Chaque essai vous rend meilleur ! ","gameOver.msgMed":"Bien jou ! Continuez  pratiquer ! ","gameOver.msgHigh":"Excellent ! Vous progressez vraiment ! ","gameOver.msgTop":"Incroyable ! Vous tes un matre du Cat Tetris ! ","gameOver.playAgain":" Rejouer","gameOver.backToMenu":" Retour au Menu","gameOver.tip1":" Astuce: Utilisez l'ombre pour planifier !","gameOver.tip2":" Tentez des combos pour plus de points !","settings.title":" Options","settings.audio":"Audio","settings.volume":"Volume Gnral","settings.soundEnabled":"Son Activ","settings.handling":"Maniement (DAS/ARR)","settings.dasLabel":"DAS (Dlai Auto-Shift)","settings.dasHelp":"Dlai avant le dplacement auto en maintenant. Pro: 83-100ms","settings.arrLabel":"ARR (Vitesse Auto-Repeat)","settings.arrHelp":"Vitesse de rptition en maintenant. 0 = tlportation. Pro: 0-2ms","settings.controls":"Contrles","settings.ctrlMove":"Dplacer","settings.ctrlRotateR":"Tourner ","settings.ctrlRotateL":"Tourner ","settings.ctrlSoftDrop":"Soft drop","settings.ctrlHardDrop":"Hard drop","settings.ctrlHold":"Rserve","settings.ctrlPause":"Pause","settings.visual":"Visuel","settings.particles":"Effets de Particules","settings.save":"Sauvegarder","settings.cancel":"Annuler","shop.title":" Boutique de Thmes","shop.subtitle":"Personnalisez vos pices de Tetris","shop.loading":"Chargement boutique...","shop.errorLoading":" Erreur de chargement","shop.yourFish":"Vos Poissons","shop.themesUnlocked":"Thmes Dbloqus","shop.collection":"Collection","shop.totalSpent":"Total Dpens","shop.equipped":" quip","shop.premium":" Premium","shop.free":"Gratuit","shop.equip":"quiper","shop.inUse":"Utilis","shop.close":"Fermer","shop.purchaseSuccess":" {name} achet !","shop.equipSuccess":" {name} quip !","achievements.title":" Succs","achievements.subtitle":"Dbloquez des succs pour gagner des ","achievements.loading":"Chargement succs...","achievements.unlocked":"Dbloqus","achievements.complete":"Complet","achievements.earned":"Gagns","achievements.total":"Total","achievements.filterAll":"Tous","achievements.progress":"Progrs","achievements.unlockedAt":"Dbloqu le {date}","achievements.noneInCategory":"Aucun succs dans cette catgorie","achievements.unlockBanner":" SUCCS DBLOQU !","achievements.legendary":" Succs Lgendaire ! ","missions.title":" Missions Quotidiennes","missions.subtitle":"Compltez des missions pour gagner des ","missions.loading":"Chargement missions...","missions.dailyProgress":"Progrs Quotidien:","missions.completedOf":"{completed}/{total} compltes","missions.rewardsAvailable":"Rcompenses Disponibles:","missions.claimed":"(Rclam)","missions.easy":" Facile","missions.medium":" Moyen","missions.hard":" Difficile","missions.progress":"Progrs","missions.claimReward":" Rclamer","missions.resetNote":"Les missions se rinitialisent chaque jour  00:00","missions.allCompleted":" Toutes les missions termines ! ","missions.claimSuccess":" Rcompense rclame: +{reward} ","multiplayer.title":" Multijoueur","multiplayer.subtitle":"Dfiez vos amis ou affrontez l'IA","multiplayer.errorLoading":" Erreur de chargement","multiplayer.matchesVsAI":"Matchs vs IA","multiplayer.wins":"Victoires","multiplayer.winRate":"Taux de Victoire","multiplayer.player":"joueur","multiplayer.players":"joueurs","multiplayer.comingSoon":" BIENTT","multiplayer.back":" Retour","multiplayer.yourName":"Votre Nom:","multiplayer.aiDifficulty":"Difficult de l'IA:","multiplayer.ai1Left":" IA 1 (Gauche):","multiplayer.ai2Right":" IA 2 (Droite):","multiplayer.startMatch":" Lancer le Match","multiplayer.player1":"Joueur 1","multiplayer.player2":"Joueur 2","gameModes.title":" Modes de Jeu","gameModes.subtitle":"Choisissez votre dfi","gameModes.loading":"Chargement modes...","gameModes.errorLoading":" Erreur","gameModes.selected":" Slectionn","gameModes.goalLines":" Objectif: {n} lignes","gameModes.timeLimit":" Temps: {time}","gameModes.gameOverYes":" Game Over","gameModes.gameOverNo":" Sans Game Over","gameModes.speedUp":" La vitesse augmente","gameModes.speedFixed":" Vitesse fixe","gameModes.startLevel":" Dbut: Niveau {n}","gameModes.relaxed":" Mode dtente","gameModes.yourRecords":"Vos records:","gameModes.bestScore":"Meilleur Score","gameModes.bestTime":"Meilleur Temps","gameModes.mostLines":"Plus de Lignes","gameModes.gamesPlayed":"{n} parties joues","gameModes.noRecords":" Pas encore de record","gameModes.play":" Jouer","tutorial.title":" Tutoriel","tutorial.subtitle":"Apprenez de zro  PRO","tutorial.close":" Retour","tutorial.overallProgress":"Progrs global","tutorial.fundamentals":"Fondamentaux","tutorial.fundamentalsDesc":"Les bases du Tetris","tutorial.intermediate":"Intermdiaire","tutorial.intermediateDesc":"T-spins et combos","tutorial.advanced":"Avanc","tutorial.advancedDesc":"Setups et stratgies","tutorial.pro":"Professionnel","tutorial.proDesc":"Techniques PRO","tutorial.noLessons":"Aucune leon dans ce module","tutorial.badgesEarned":"Badges obtenus","controls.hint":"  dplacer |  tourner |  soft | Espace = hard drop | C = rserve","controls.continue":" Continuer","controls.pause":" Pause","controls.touchFriendly":" Contrles tactiles","controls.useShadow":" Utilisez l'ombre pour planifier !","gamepad.connected":"{n} Manette Connecte","gamepad.connectedPlural":"{n} Manettes Connectes","gamepad.ready":"Prt  jouer !","gamepad.showControls":"Afficher contrles","gamepad.controlsTitle":" Contrles:","gamepad.move":"Dplacer","gamepad.accelerate":"Acclrer","gamepad.hardDrop":"Hard Drop","gamepad.rotateRight":"Tourner ","gamepad.rotateLeft":"Tourner ","gamepad.hold":"Rserve","gamepad.pause":"Pause","gamepad.analogNote":" Le stick gauche fonctionne aussi !","gamepad.triggerNote":" L2/R2 tournent aussi","gamepad.backNote":" Back/Select = Retour au menu","gamepad.controllerLabel":"Manette {n}:","gamepad.buttons":"{n} boutons","gamepad.axes":"{n} axes","gamepad.vibration":" Vibration","reward.lessonComplete":"Leon Termine !","reward.fish":"Poissons","reward.xp":"XP","reward.badge":"Badge","pwa.notAvailableTitle":"PWA non disponible","pwa.notAvailableText":"Cet appareil ne supporte pas l'installation PWA ou l'app est dj installe.","pwa.understood":" Compris","pwa.installTitle":"Installer Cat Tetris","pwa.installText":"Installez Cat Tetris sur votre cran d'accueil pour jouer hors-ligne ! Fonctionne comme une app native.","pwa.quickAccess":" Accs Rapide","pwa.quickAccessDesc":"Icne sur l'cran","pwa.offline":" Hors-ligne","pwa.offlineDesc":"Jouez sans internet","pwa.performance":" Performance","pwa.performanceDesc":"Chargement instantan","pwa.experience":" Exprience","pwa.experienceDesc":"Comme une app native","pwa.notNow":"Pas maintenant","pwa.install":" Installer","share.prompt":"Partagez votre score:","share.text":` Cat Tetris!
 {score} points
 Niveau {level}
 {lines} lignes

Pouvez-vous me battre ? `,"share.title":"Mon score Cat Tetris","share.share":" Partager","share.copied":" Copi !","share.copy":" Copier","share.twitter":" Twitter","share.whatsapp":" WhatsApp","share.close":"Fermer","statistics.title":" Statistiques","statistics.playTime":"Temps de Jeu:","statistics.piecesPlaced":"Pices Places:","statistics.linesCleared":"Lignes Effaces:","statistics.tSpins":"T-Spins:","statistics.backToBack":"Back-to-Back:","statistics.maxCombo":"Combo Max:","statistics.tetrisCount":"Tetris (4 lignes):","statistics.lps":"LPS (Lignes/sec):","error.title":" Oups ! Quelque chose a mal tourn","error.message":"Le jeu a rencontr un problme inattendu.","error.restart":" Redmarrer le Jeu ","error.details":"Dtails de l'erreur","common.close":"Fermer","common.back":" Retour","common.points":"points","common.level":"Niveau","common.lines":"lignes","common.loading":"Chargement...","common.yes":"Oui","common.no":"Non","common.exit":"Quitter","multiplayer.loading":"Chargement multijoueur...","multiplayer.aiVsAiTitle":" IA vs IA (Debug)","multiplayer.vsAiTitle":" vs IA","multiplayer.localTitle":" 1v1 Local","multiplayer.you":" VOUS","multiplayer.p1":" J1","multiplayer.p2":" J2","multiplayer.controlsP1":` dplacer
 tourner
C garder
Espace lcher`,"multiplayer.controlsP2":`Flches dplacer
 tourner
Ctrl garder
Entre lcher`,"multiplayer.victory":"VICTOIRE !","multiplayer.defeat":"DFAITE !","multiplayer.ai1Won":"L'IA 1 A GAGN !","multiplayer.ai2Won":"L'IA 2 A GAGN !","multiplayer.isSuperior":"est suprieure !","multiplayer.youBeatAI":"Vous avez battu l'IA !","multiplayer.aiBeatYou":"L'IA a gagn !","multiplayer.player1Won":"Joueur 1 a gagn !","multiplayer.player2Won":"Joueur 2 a gagn !","multiplayer.playAgain":" Rejouer","multiplayer.backToMenu":" Menu","multiplayer.gamepadBack":" B = retour","tutorial.step1Title":" Bienvenue dans Cat Tetris !","tutorial.step1Desc":"Un Tetris avec des chats et un systme de progression addictif !","tutorial.step1Tip1":" Utilisez les flches pour dplacer les pices","tutorial.step1Tip2":" Flche haut pour tourner","tutorial.step1Tip3":" Flche bas pour descente rapide","tutorial.step1Tip4":"C pour garder une pice (Hold)","tutorial.step2Title":" Systme de Monnaie","tutorial.step2Desc":"Gagnez des Poissons () en compltant missions et succs !","tutorial.step2Tip1":" 3 missions quotidiennes (reset  minuit)","tutorial.step2Tip2":" 22 succs  dbloquer","tutorial.step2Tip3":" Utilisez  pour acheter des thmes","tutorial.step2Tip4":" Plus vous jouez, plus vous gagnez !","tutorial.step3Title":" Missions Quotidiennes","tutorial.step3Desc":"Compltez les dfis quotidiens pour des rcompenses !","tutorial.step3Tip1":" Mission Facile : 100","tutorial.step3Tip2":" Mission Moyenne : 200","tutorial.step3Tip3":" Mission Difficile : 400","tutorial.step3Tip4":" Compltez toutes pour une clbration spciale !","tutorial.step4Title":" Boutique & Personnalisation","tutorial.step4Desc":"Personnalisez vos pices avec des thmes exclusifs !","tutorial.step4Tip1":" 10 thmes diffrents disponibles","tutorial.step4Tip2":" Cristaux et Espace sont les plus chers","tutorial.step4Tip3":" Chaque thme change les emojis des pices","tutorial.step4Tip4":" Dbloquez-les tous avec vos pices !","tutorial.step5Title":" Classement Global","tutorial.step5Desc":"Affrontez des joueurs du monde entier !","tutorial.step5Tip1":" Voyez votre position dans le classement","tutorial.step5Tip2":" 4 types : Global, Hebdo, Pays, Proximit","tutorial.step5Tip3":" Partagez vos records","tutorial.step5Tip4":" Atteignez le Top 3 pour une mdaille !","tutorial.step6Title":" Prt  Jouer !","tutorial.step6Desc":"Vous savez tout. Amusez-vous !","tutorial.step6Tip1":" Conseil : Utilisez l'ombre pour planifier","tutorial.step6Tip2":" Faites des combos pour plus de points","tutorial.step6Tip3":" Les T-Spins valent BEAUCOUP plus","tutorial.step6Tip4":" Le Mode Zen est parfait pour se dtendre","tutorial.skip":"Passer le Tutoriel","tutorial.startPlaying":" Commencer  Jouer !","tutorial.next":"Suivant ","tutorial.stepIndicator":"tape {n} sur {total} |   Passer","leaderboard.loading":"Chargement du classement...","leaderboard.title":" Classement Global","leaderboard.subtitle":"Comptition mondiale de Cat Tetris","leaderboard.yourPosition":"Votre Position","leaderboard.topPercent":"Top {n}% des joueurs","leaderboard.refresh":" Actualiser","leaderboard.tabGlobal":" Global","leaderboard.tabGlobalDesc":"Top 100","leaderboard.tabWeekly":" Hebdo","leaderboard.tabWeeklyDesc":"Cette semaine","leaderboard.tabCountry":" Pays","leaderboard.tabCountryDesc":"Votre pays","leaderboard.tabAround":" Proximit","leaderboard.tabAroundDesc":"Prs de vous","leaderboard.colRank":"Rang","leaderboard.colPlayer":"Joueur","leaderboard.colScore":"Score","leaderboard.colLevel":"Niveau","leaderboard.colLines":"Lignes","leaderboard.you":"(Vous)","leaderboard.noPlayers":"Aucun joueur dans cette catgorie","leaderboard.footer":" Jouez plus pour monter au classement ! |   Retour","creator.title":" Mode Crateur","creator.subtitle":"Crez, ditez et organisez vos setups d'entranement ! |   Retour","creator.createNew":"Crer Nouveau","creator.createNewDesc":"Construire de zro","creator.import":" Importer","creator.export":" Exporter","creator.resetDefaults":" Rinitialiser","creator.allSetups":"Tous les Setups","creator.noSetups":'Aucun setup. Cliquez sur "Crer" ou "Rinitialiser".',"creator.defaultBadge":"par dfaut","creator.pieces":"Pices :","creator.randomQueue":"alatoire","creator.delete":" Supprimer","creator.replay":" Rejouer","creator.playControls":" dplacer   tourner  C hold  Espace drop  R rejouer","creator.tryAgain":" Ressayer","creator.editSetup":" Modifier Setup","creator.createMySetup":" Crer Mon Setup","creator.boardLabel":"PLATEAU (cliquer pour diter)","creator.color":"Couleur :","creator.clearAll":"Tout Effacer","creator.queueLabel":"FILE DE PICES","creator.queueEmpty":`Cliquez sur les pices ci-dessus
(vide = file alatoire)`,"creator.clearQueue":"Vider la file","creator.detailsLabel":"DTAILS","creator.namePlaceholder":"Nom du setup","creator.descPlaceholder":"Description (optionnel)","creator.saveChanges":" Enregistrer","creator.saveSetup":" Enregistrer Setup","creator.testWithoutSaving":" Tester (sans sauver)","creator.customSetupName":"Setup Personnalis","creator.mySetup":"Mon Setup","creator.importNoValid":"Aucun setup valide dans le fichier.","creator.importSuccess":"{n} setup(s) import(s) !","creator.importError":"Erreur de lecture du fichier JSON.","lesson.loading":"Chargement...","lesson.objective":"Objectif","lesson.howItWorks":"Comment a marche","lesson.watchAIFirst":"Regarder l'IA jouer d'abord","lesson.skipToPractice":"Aller  la pratique ","lesson.preparingDemo":"Prparation de la dmo...","lesson.aiPlaying":"IA en jeu  observez comment elle fait !","lesson.yourTurn":" C'est votre tour !","lesson.skipDemo":"Passer la dmo ","lesson.practiceControls":" Dplacer   Tourner   Soft Drop  Espace: Hard Drop  C: Hold","lesson.practiceGameOver":"Game Over  ressayez !","lesson.restart":" Recommencer","lesson.congratulations":"Flicitations !","lesson.cpuPlaying":"CPU en jeu...","lesson.continue":" Continuer","lesson.pause":" Pause","lesson.goToPractice":" Aller  la Pratique","creator.playTitle":"Jouer","creator.editTitle":"Modifier","creator.exportTitle":"Exporter","creator.moveUp":"Monter","creator.moveDown":"Descendre","creator.removeTitle":"Supprimer","creator.clearLine":"Effacer la ligne","creator.fillLine":"Remplir la ligne","creator.addPiece":"Ajouter {piece}","creator.gray":"Gris","settings.gamepadButtons":" Boutons de la Manette","settings.gamepadMenu":"Menu","settings.gamepadGame":"Jeu","settings.gamepadPress":"Appuyez...","settings.dpadNote":"D-Pad non rassignable (navigation)","settings.gamepadReset":" Restaurer les Dfauts","settings.keyboardTitle":" Contrles Clavier","settings.keyPress":"Appuyez sur une touche...","settings.keyReset":" Restaurer les Dfauts","settings.keyAction.moveLeft":"Gauche","settings.keyAction.moveRight":"Droite","settings.keyAction.moveDown":"Soft Drop","settings.keyAction.rotate":"Rotation ","settings.keyAction.rotateLeft":"Rotation ","settings.keyAction.hardDrop":"Hard Drop","settings.keyAction.hold":"Rserve","settings.keyAction.pause":"Pause"},fa={en:iS,pt:oS,es:aS,ja:lS,fr:cS};function uS(){try{return localStorage.getItem(tg)||"en"}catch{return"en"}}function dS({children:e}){const[r,n]=w.useState(uS),s=w.useCallback(o=>{n(o);try{localStorage.setItem(tg,o)}catch{}},[]),i=w.useCallback((o,a={})=>{let c=(fa[r]||fa.en)[o]??fa.en[o]??o;return Object.entries(a).forEach(([u,d])=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),d)}),c},[r]);return h.jsx(eg.Provider,{value:{language:r,setLanguage:s,t:i,languages:kl},children:e})}function $e(){const e=w.useContext(eg);if(!e)throw new Error("useI18n must be used within I18nProvider");return e}const pS=({score:e,level:r,lines:n,combo:s})=>{const{t:i}=$e(),[o,a]=w.useState(0);return w.useEffect(()=>{a(up.getHighScore())},[]),w.useEffect(()=>{up.saveHighScore(e)&&a(e)},[e]),h.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl border-2 border-white/20 shadow-2xl w-28",children:[h.jsx("h2",{className:"text-xs font-bold text-white mb-1 text-center",children:i("game.scoreTitle")}),h.jsxs("div",{className:"space-y-0.5 text-xs",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-white/70",children:i("game.points")}),h.jsx("span",{className:"text-yellow-400 font-bold",children:e.toLocaleString()})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-white/70",children:i("game.record")}),h.jsx("span",{className:"text-green-400 font-bold",children:o.toLocaleString()})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-white/70",children:i("game.levelLabel")}),h.jsx("span",{className:"text-blue-400 font-bold",children:r})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-white/70",children:i("game.linesLabel")}),h.jsx("span",{className:"text-purple-400 font-bold",children:n})]}),s>0&&h.jsxs("div",{className:"flex justify-between items-center bg-orange-500/20 px-1.5 py-0.5 rounded border border-orange-400/30 mt-0.5",children:[h.jsx("span",{className:"text-white/90",children:i("game.comboLabel")}),h.jsxs("span",{className:"text-orange-400 font-bold",children:[s,"x"]})]})]})]})},hS=de.memo(pS),mS=({onMove:e,onRotate:r,onHardDrop:n,onPause:s,onHold:i,isPaused:o,gameOver:a,canHold:l})=>{const{t:c}=$e(),u=d=>{if(!a)switch(d){case"left":e("left");break;case"right":e("right");break;case"down":e("down");break;case"rotate":r();break;case"hardDrop":n();break;case"hold":i();break;case"pause":s();break}};return h.jsxs("div",{className:"flex flex-col items-center gap-1",children:[h.jsx("div",{className:"hidden lg:block",children:h.jsx("div",{className:"text-center text-white/50 text-[11px]",children:h.jsx("p",{children:c("controls.hint")})})}),h.jsxs("div",{className:"lg:hidden",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3 max-w-xs",children:[h.jsx("div",{}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("rotate"),disabled:a,"aria-label":"Rotate",className:"bg-blue-500 text-white p-4 rounded-full shadow-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),h.jsx("div",{}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("left"),disabled:a,"aria-label":"Move left",className:"bg-gray-600 text-white p-4 rounded-full shadow-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("down"),disabled:a,"aria-label":"Move down",className:"bg-gray-600 text-white p-4 rounded-full shadow-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("right"),disabled:a,"aria-label":"Move right",className:"bg-gray-600 text-white p-4 rounded-full shadow-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("hardDrop"),disabled:a,"aria-label":"Hard drop",className:"bg-red-500 text-white p-4 rounded-full shadow-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u("hold"),disabled:a||!l,"aria-label":"Hold piece",className:`p-4 rounded-full shadow-lg disabled:opacity-50 disabled:cursor-not-allowed ${l?"bg-green-500 text-white hover:bg-green-600":"bg-gray-500 text-white"}`,children:""})]}),h.jsx("div",{className:"mt-4 flex justify-center",children:h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("pause"),disabled:a,className:"bg-yellow-500 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:c(o?"controls.continue":"controls.pause")})}),h.jsxs("div",{className:"mt-4 text-center text-white/60 text-xs",children:[h.jsx("p",{children:c("controls.touchFriendly")}),h.jsx("p",{children:c("controls.useShadow")})]})]})]})};function fS({scoreData:e,onClose:r}){const{t:n}=$e(),[s,i]=w.useState(!1),o=n("share.text",{score:e.score,level:e.level,lines:e.lines}),a=async()=>{try{await navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),2e3)}catch{}},l=async()=>{if(navigator.share)try{await navigator.share({title:n("share.title"),text:o})}catch(d){d.name}},c=()=>{const d=`https://twitter.com/intent/tweet?text=${encodeURIComponent(o)}`;window.open(d,"_blank","width=600,height=400")},u=()=>{const d=`https://wa.me/?text=${encodeURIComponent(o)}`;window.open(d,"_blank")};return h.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-black/40 rounded-lg p-4 mt-4",children:[h.jsx("div",{className:"text-white/80 text-sm mb-3 text-center",children:n("share.prompt")}),h.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[navigator.share&&h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors",children:n("share.share")}),h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:`${s?"bg-green-600":"bg-gray-600 hover:bg-gray-500"} text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors`,children:n(s?"share.copied":"share.copy")}),h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"bg-[#1DA1F2] hover:bg-[#1a8cd8] text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors",children:n("share.twitter")}),h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"bg-[#25D366] hover:bg-[#20bd5a] text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors",children:n("share.whatsapp")})]}),r&&h.jsx("div",{className:"text-center mt-3",children:h.jsx("button",{onClick:r,className:"text-white/60 hover:text-white text-sm transition-colors",children:n("share.close")})})]})}const $c="catTetris_gamepadConfig",HT={0:"A",1:"B",2:"X",3:"Y",4:"LB",5:"RB",6:"LT",7:"RT",8:"Back",9:"Start",10:"L3",11:"R3",12:"D-Pad ",13:"D-Pad ",14:"D-Pad ",15:"D-Pad "},Pl={menuConfirm:0,menuBack:1,menuAltConfirm:9,rotateCW:0,rotateCCW:1,hardDrop:12,hold:4,pause:9,backToMenu:8},UT={menuConfirm:"Confirmar (Menu)",menuBack:"Voltar (Menu)",menuAltConfirm:"Confirmar Alt (Menu)",rotateCW:"Rotao Horria",rotateCCW:"Rotao Anti-horria",hardDrop:"Hard Drop",hold:"Segurar Pea",pause:"Pausar",backToMenu:"Voltar ao Menu"},GT=["menuConfirm","menuBack","menuAltConfirm"],$T=["rotateCW","rotateCCW","hardDrop","hold","pause","backToMenu"];function El(){try{const e=localStorage.getItem($c);if(e){const r=JSON.parse(e);return{...Pl,...r}}}catch{}return{...Pl}}function WT(e){try{localStorage.setItem($c,JSON.stringify(e))}catch{}}function qT(){try{localStorage.removeItem($c)}catch{}return{...Pl}}function Vs({itemCount:e=0,onConfirm:r,onBack:n,active:s=!0,vertical:i=!0,columns:o=1,wrap:a=!0,navMap:l=null}={}){const[c,u]=w.useState(0),d=w.useRef(0),p=w.useRef({}),m=w.useRef({}),v=250,y=400,T=w.useRef({}),k=.5;w.useEffect(()=>{d.current=c},[c]);const x=w.useRef(r),f=w.useRef(n),g=w.useRef(l);w.useEffect(()=>{x.current=r},[r]),w.useEffect(()=>{f.current=n},[n]),w.useEffect(()=>{g.current=l},[l]),w.useEffect(()=>{u(b=>b>=e?Math.max(0,e-1):b)},[e]),w.useEffect(()=>{var b,P,E;if(s){u(0);try{const M=navigator.getGamepads(),_=Array.from(M).find(B=>B&&B.connected);if(_){const B=El();m.current={confirm:((b=_.buttons[B.menuConfirm])==null?void 0:b.pressed)||!1,back:((P=_.buttons[B.menuBack])==null?void 0:P.pressed)||!1,altConfirm:((E=_.buttons[B.menuAltConfirm])==null?void 0:E.pressed)||!1}}}catch{}}},[s]);const S=w.useCallback(b=>{if(!b||b.length<2)return null;const P=b[0],E=b[1];return Math.abs(P)<k&&Math.abs(E)<k?null:Math.abs(P)>Math.abs(E)?P>0?"right":"left":E>0?"down":"up"},[]),C=w.useCallback(()=>{var oe,Q,Oe,Dt,ce,Ve,Se,Kt,qr,Y;if(!s||e===0)return;const b=navigator.getGamepads(),P=Array.from(b).find(J=>J&&J.connected);if(!P)return;const E=Date.now(),M=S(P.axes),_=(J,ke)=>{const te=`nav_${J}`,it=T.current[te+"_pressed"]||!1,Fs=T.current[te+"_start"]||0,Rn=p.current[te]||0;if(ke&&!it){T.current[te+"_pressed"]=!0,T.current[te+"_start"]=E,p.current[te]=E,B(J);return}if(ke&&it){E-Fs>=y&&E-Rn>=v&&(p.current[te]=E,B(J));return}!ke&&it&&(T.current[te+"_pressed"]=!1)},B=J=>{u(ke=>{let te=ke;if(g.current){const it=g.current[ke];return it&&it[J]!==void 0?it[J]:ke}if(o===1)J==="up"||J==="left"?(te=ke-1,te<0&&(te=a?e-1:0)):(J==="down"||J==="right")&&(te=ke+1,te>=e&&(te=a?0:e-1));else{const it=Math.floor(ke/o),Fs=ke%o,Rn=Math.ceil(e/o);J==="up"?te=(it-1<0?a?Rn-1:0:it-1)*o+Fs:J==="down"?te=(it+1>=Rn?a?0:Rn-1:it+1)*o+Fs:J==="left"?(te=ke-1,te<0&&(te=a?e-1:0)):J==="right"&&(te=ke+1,te>=e&&(te=a?0:e-1)),te>=e&&(te=e-1)}return te});try{P.vibrationActuator&&P.vibrationActuator.playEffect("dual-rumble",{duration:30,strongMagnitude:.05,weakMagnitude:.03})}catch{}},L=((oe=P.buttons[12])==null?void 0:oe.pressed)||M==="up",U=((Q=P.buttons[13])==null?void 0:Q.pressed)||M==="down",I=((Oe=P.buttons[14])==null?void 0:Oe.pressed)||M==="left",we=((Dt=P.buttons[15])==null?void 0:Dt.pressed)||M==="right";i?(_("up",L),_("down",U),_("left",I),_("right",we)):(_("left",I),_("right",we));const j=El(),q=j.menuConfirm,D=j.menuBack,H=j.menuAltConfirm,O=(ce=P.buttons[q])==null?void 0:ce.pressed,z=m.current.confirm;if(O&&!z){(Ve=x.current)==null||Ve.call(x,d.current);try{P.vibrationActuator&&P.vibrationActuator.playEffect("dual-rumble",{duration:50,strongMagnitude:.15,weakMagnitude:.1})}catch{}}const W=(Se=P.buttons[D])==null?void 0:Se.pressed,be=m.current.back;W&&!be&&((Kt=f.current)==null||Kt.call(f));let ee=!1;if(H!==q){ee=(qr=P.buttons[H])==null?void 0:qr.pressed;const J=m.current.altConfirm;ee&&!J&&((Y=x.current)==null||Y.call(x,d.current))}m.current={confirm:O,back:W,altConfirm:ee}},[s,e,o,a,i,S]);return w.useEffect(()=>{if(!s)return;const b=setInterval(C,16);return()=>clearInterval(b)},[s,C]),{selectedIndex:c,setSelectedIndex:u}}const gS=({score:e,onRestart:r,onBackToMenu:n})=>{const{t:s}=$e(),i=typeof e=="number"?e:e.points,o=typeof e=="object"?e.level:1,a=typeof e=="object"?e.lines:0,l=[r,n],c=w.useCallback(m=>{var v;(v=l[m])==null||v.call(l)},[r,n]),{selectedIndex:u}=Vs({itemCount:2,onConfirm:c,active:!0,wrap:!0}),d=m=>m<1e3?s("gameOver.msgLow"):m<5e3?s("gameOver.msgMed"):m<1e4?s("gameOver.msgHigh"):s("gameOver.msgTop"),p=m=>m<1e3?"":m<5e3?"":m<1e4?"":"";return h.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx(N.div,{initial:{scale:.8,y:20},animate:{scale:1,y:0},transition:{type:"spring",damping:15},className:"bg-gray-900/90 p-8 rounded-2xl border-2 border-white/20 shadow-2xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"text-center",children:[h.jsx(N.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-6xl mb-4",children:p(i)}),h.jsx(N.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-cat font-bold text-white mb-2",children:s("gameOver.title")}),h.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-900 font-bold text-xl p-3 rounded-lg mb-4",children:s("gameOver.points",{score:i.toLocaleString()})}),h.jsx(N.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-white/80 mb-6 text-lg",children:d(i)}),h.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},children:h.jsx(fS,{scoreData:{score:i,level:o,lines:a}})}),h.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3 mt-4",children:[h.jsx(N.button,{onClick:m=>{m.stopPropagation(),r()},whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-6 rounded-lg hover:from-green-400 hover:to-emerald-500 transition-all duration-300 shadow-lg ${u===0?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-gray-900 scale-105":""}`,children:s("gameOver.playAgain")}),h.jsx(N.button,{onClick:m=>{m.stopPropagation(),n()},whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white font-bold py-3 px-6 rounded-lg hover:from-blue-400 hover:to-cyan-500 transition-all duration-300 shadow-lg ${u===1?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-gray-900 scale-105":""}`,children:s("gameOver.backToMenu")})]}),h.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center text-white/60 text-sm",children:[h.jsx("p",{children:s("gameOver.tip1")}),h.jsx("p",{children:s("gameOver.tip2")})]})]})})})},yS=({pieces:e})=>{const{t:r}=$e(),n=(s,i)=>{if(!s)return null;const o=Math.max(...s.shape.map(l=>l.length)),a=s.shape.length;return h.jsx("div",{className:"bg-gray-800/50 p-1.5 rounded-lg border border-white/20",children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${o}, 1fr)`,gridTemplateRows:`repeat(${a}, 1fr)`},children:s.shape.map((l,c)=>l.map((u,d)=>h.jsx("div",{className:`w-5 h-5 rounded-sm flex items-center justify-center ${u?"border border-white/40 shadow-sm":""}`,style:{backgroundColor:u?vn(s.color):"transparent"},children:u&&u!==0?h.jsx("span",{className:"text-xs leading-none",children:s.emoji}):null},`${d}-${c}`)))})})},i)};return h.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl border-2 border-white/20 shadow-2xl w-24",children:[h.jsxs("h2",{className:"text-xs font-bold text-white mb-1 text-center flex items-center justify-center gap-1",children:[h.jsx("span",{children:""}),h.jsx("span",{className:"hidden lg:inline",children:r("game.next")})]}),h.jsx("div",{className:"space-y-1.5",children:e.map((s,i)=>n(s,i))})]})},vS=de.memo(yS),xS=({heldPiece:e,canHold:r})=>{const{t:n}=$e(),s=()=>{if(!e)return h.jsx("div",{className:"bg-gray-800/50 p-2 lg:p-4 rounded-lg border-2 border-dashed border-white/20 flex items-center justify-center",children:h.jsx("span",{className:"text-white/40 text-xs lg:text-sm",children:n("game.heldEmpty")})});const i=Math.max(...e.shape.map(a=>a.length)),o=e.shape.length;return h.jsx("div",{className:"bg-gray-800/50 p-1.5 rounded-lg border border-white/20",children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${i}, 1fr)`,gridTemplateRows:`repeat(${o}, 1fr)`},children:e.shape.map((a,l)=>a.map((c,u)=>h.jsx("div",{className:`w-5 h-5 rounded-sm flex items-center justify-center ${c?"border border-white/40 shadow-sm":""}`,style:{backgroundColor:c?vn(e.color):"transparent"},children:c&&c!==0?h.jsx("span",{className:"text-xs leading-none",children:e.emoji}):null},`${u}-${l}`)))})})})};return h.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl border-2 border-white/20 shadow-2xl w-24",children:[h.jsxs("h2",{className:"text-xs font-bold text-white mb-1 text-center flex items-center justify-center gap-1",children:[h.jsx("span",{children:""}),h.jsx("span",{className:"hidden lg:inline",children:n("game.held")})]}),h.jsx("div",{children:s()})]})},wS=de.memo(xS),dp=500,ga="cat_tetris_error_log";class SS{constructor(){this.logs=this._loadLogs(),this.sessionId=`session_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,this._gameStateProvider=null,this._setupGlobalHandlers()}_loadLogs(){try{const r=localStorage.getItem(ga);return r?JSON.parse(r):[]}catch{return[]}}_saveLogs(){try{this.logs.length>dp&&(this.logs=this.logs.slice(-dp)),localStorage.setItem(ga,JSON.stringify(this.logs))}catch{this.logs=this.logs.slice(-50);try{localStorage.setItem(ga,JSON.stringify(this.logs))}catch{}}}_setupGlobalHandlers(){typeof window>"u"||(window.addEventListener("error",r=>{var n;this.logError("window","uncaughtError",r.message,{filename:r.filename,lineno:r.lineno,colno:r.colno,stack:(n=r.error)==null?void 0:n.stack})}),window.addEventListener("unhandledrejection",r=>{var n;this.logError("window","unhandledRejection",String(r.reason),{stack:(n=r.reason)==null?void 0:n.stack,type:typeof r.reason})}))}setGameStateProvider(r){this._gameStateProvider=r}_getGameStateSnapshot(){var r,n,s,i,o,a;if(!this._gameStateProvider)return null;try{const l=this._gameStateProvider();return l?{isPlaying:l.isPlaying,isPaused:l.isPaused,gameOver:l.gameOver,score:(r=l.score)==null?void 0:r.points,level:(n=l.score)==null?void 0:n.level,lines:(s=l.score)==null?void 0:s.lines,currentPiece:(i=l.currentPiece)==null?void 0:i.type,gameMode:((o=l.gameMode)==null?void 0:o.id)||((a=l.gameMode)==null?void 0:a.name)||null}:null}catch(l){return{snapshotError:l.message}}}logError(r,n,s,i=null){const o={id:`${Date.now()}_${Math.random().toString(36).substr(2,4)}`,timestamp:new Date().toISOString(),sessionId:this.sessionId,level:"error",source:r,action:n,message:s,details:i,gameState:this._getGameStateSnapshot()};return this.logs.push(o),this._saveLogs(),o}logWarn(r,n,s,i=null){const o={id:`${Date.now()}_${Math.random().toString(36).substr(2,4)}`,timestamp:new Date().toISOString(),sessionId:this.sessionId,level:"warn",source:r,action:n,message:s,details:i,gameState:this._getGameStateSnapshot()};return this.logs.push(o),this._saveLogs(),o}getErrors(){return this.logs.filter(r=>r.level==="error")}clearLogs(){this.logs=[],this._saveLogs()}}const _t=new SS;function TS({error:e}){const{t:r}=$e();return h.jsx("div",{className:"min-h-screen cat-bg flex items-center justify-center p-4",children:h.jsxs("div",{className:"game-container rounded-2xl p-6 shadow-2xl text-center",children:[h.jsx("h1",{className:"text-3xl font-cat font-bold text-white mb-4",children:r("error.title")}),h.jsx("p",{className:"text-white/80 mb-4",children:r("error.message")}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-cat-green to-cat-blue text-white font-bold py-3 px-6 rounded-xl hover:from-cat-blue hover:to-cat-green transition-all duration-200 border-2 border-white/30",children:r("error.restart")}),!1]})})}class CS extends de.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){_t.logError("ErrorBoundary","componentDidCatch",r.message,{stack:r.stack,componentStack:n==null?void 0:n.componentStack})}render(){return this.state.hasError?h.jsx(TS,{error:this.state.error}):this.props.children}}let Rt=null,pp=!1;function bS(){Rt&&Rt.state==="suspended"&&Rt.resume().catch(()=>{})}function kS(){pp||(pp=!0,["click","touchstart","keydown"].forEach(e=>{document.addEventListener(e,bS,{once:!1,passive:!0})}))}function An(){if(Rt)return Rt.state==="suspended"&&Rt.resume().catch(()=>{}),Rt;try{return Rt=new(window.AudioContext||window.webkitAudioContext),kS(),Rt}catch{return null}}function PS(){const e=w.useCallback((l,c,u="sine")=>{const d=An();if(d)try{const p=d.createOscillator(),m=d.createGain();p.connect(m),m.connect(d.destination),p.frequency.setValueAtTime(l,d.currentTime),p.type=u,m.gain.setValueAtTime(.1,d.currentTime),m.gain.exponentialRampToValueAtTime(.001,d.currentTime+c),p.start(d.currentTime),p.stop(d.currentTime+c)}catch{}},[]),r=w.useCallback(()=>{e(523,.1)},[e]),n=w.useCallback(()=>{e(659,.2),setTimeout(()=>e(784,.15),50)},[e]),s=w.useCallback(()=>{e(440,.15),setTimeout(()=>e(330,.1),80)},[e]),i=w.useCallback(()=>{e(392,.1),setTimeout(()=>e(494,.1),100),setTimeout(()=>e(588,.15),200)},[e]),o=w.useCallback(()=>{const l=An();if(l)try{((d,p,m=.3)=>{d.forEach(v=>{const y=l.createOscillator(),T=l.createGain();y.connect(T),T.connect(l.destination),y.frequency.setValueAtTime(v,l.currentTime),y.type="triangle",T.gain.setValueAtTime(.05,l.currentTime+p),T.gain.exponentialRampToValueAtTime(.001,l.currentTime+p+m),y.start(l.currentTime+p),y.stop(l.currentTime+p+m)})})([523,659,784,1047],0,.5)}catch{}},[]),a=w.useCallback(()=>{e(698,.15),setTimeout(()=>e(880,.15),100),setTimeout(()=>e(1047,.2),200)},[e]);return{playMenuHover:r,playMenuSelect:n,playMenuBack:s,playMenuOpen:i,playGameStart:o,playPWAInstall:a}}class ES{constructor(){this.services=new Map,this.singletons=new Map}register(r,n,s={}){this.services.set(r,{factory:n,singleton:s.singleton||!1,dependencies:s.dependencies||[]})}resolve(r){const n=this.services.get(r);if(!n)throw new Error(`Service '${r}' not found in container`);if(n.singleton&&this.singletons.has(r))return this.singletons.get(r);const s=n.dependencies.map(o=>this.resolve(o)),i=n.factory(...s);return n.singleton&&this.singletons.set(r,i),i}registerSingleton(r,n,s=[]){this.register(r,n,{singleton:!0,dependencies:s})}registerTransient(r,n,s=[]){this.register(r,n,{singleton:!1,dependencies:s})}has(r){return this.services.has(r)}clear(){this.services.clear(),this.singletons.clear()}}class AS{initializeGame(){throw new Error("Must be implemented")}movePiece(r){throw new Error("Must be implemented")}rotatePiece(){throw new Error("Must be implemented")}rotatePieceLeft(){throw new Error("Must be implemented")}placePiece(){throw new Error("Must be implemented")}holdPiece(){throw new Error("Must be implemented")}hardDrop(){throw new Error("Must be implemented")}updateGame(r){throw new Error("Must be implemented")}pause(){throw new Error("Must be implemented")}resume(){throw new Error("Must be implemented")}restart(){throw new Error("Must be implemented")}getDropPreview(){throw new Error("Must be implemented")}}class no{constructor(r=10,n=20){this.width=r,this.height=n,this.bufferHeight=4,this.grid=this.createEmptyGrid(),this._buffer=this.createEmptyBuffer()}createEmptyGrid(){return Array(this.height).fill(null).map(()=>Array(this.width).fill(null))}createEmptyBuffer(){return Array(this.bufferHeight).fill(null).map(()=>Array(this.width).fill(null))}clone(){const r=new no(this.width,this.height);return r.grid=this.grid.map(n=>[...n]),r._buffer=this._buffer.map(n=>[...n]),r}isWithinBounds(r,n){return r>=0&&r<this.width&&n>=-this.bufferHeight&&n<this.height}getCell(r,n){if(!(r<0||r>=this.width)&&!(n<-this.bufferHeight||n>=this.height))return n<0?this._buffer[this.bufferHeight+n][r]:this.grid[n][r]}setCell(r,n,s){return r<0||r>=this.width||n<-this.bufferHeight||n>=this.height?!1:n<0?(this._buffer[this.bufferHeight+n][r]=s,!0):(this.grid[n][r]=s,!0)}clearCell(r,n){return this.setCell(r,n,null)}placePiece(r){r.getCells().forEach(s=>{this.setCell(s.x,s.y,{type:s.type,color:s.color,emoji:s.emoji})})}canPlacePiece(r){return r.getCells().every(s=>s.x<0||s.x>=this.width||s.y>=this.height||s.y<-this.bufferHeight?!1:this.getCell(s.x,s.y)===null)}clearLines(){const r=[...this._buffer,...this.grid],n=[];let s=0;for(let i=r.length-1;i>=0;i--)r[i].every(a=>a!==null)?s++:n.unshift(r[i]);for(;n.length<r.length;)n.unshift(Array(this.width).fill(null));return this._buffer=n.slice(0,this.bufferHeight),this.grid=n.slice(this.bufferHeight),s}getFilledRows(){const r=[];for(let n=0;n<this.height;n++)this.grid[n].every(s=>s!==null)&&r.push(n);return r}isGameOver(){return this._buffer.some(r=>r.some(n=>n!==null))}getBoardState(){return this.grid.map(r=>[...r])}setBoardState(r){this.grid=r.map(n=>[...n]),this._buffer=this.createEmptyBuffer()}clear(){this.grid=this.createEmptyGrid(),this._buffer=this.createEmptyBuffer()}addGarbageLines(r,n=-1){if(r<=0)return!1;const s=n>=0?n:Math.floor(Math.random()*this.width),i=[];for(let d=0;d<r;d++){const p=Array(this.width).fill(null).map((m,v)=>v===s?null:{type:"garbage",color:"#808080",emoji:""});i.push(p)}const o=[...this._buffer,...this.grid,...i],a=this.bufferHeight+this.height,c=(o.length>a?o.slice(0,o.length-a):[]).some(d=>d.some(p=>p!==null)),u=o.slice(-a);return this._buffer=u.slice(0,this.bufferHeight),this.grid=u.slice(this.bufferHeight),c}}class so{constructor(){this.points=0,this.level=1,this.lines=0,this.combo=0,this.tSpins=0,this.backToBack=0,this.tetrisCount=0,this._fixedLevel=null}addPoints(r){this.points+=r}addLines(r){this.lines+=r,this.updateLevel()}incrementCombo(){this.combo++}resetCombo(){this.combo=0}addTSpin(){this.tSpins++}addBackToBack(){this.backToBack++}addTetris(){this.tetrisCount++}updateLevel(){this._fixedLevel||(this.level=Math.min(15,Math.floor(this.lines/10)+1))}getLevel(){return this.level}getDropTime(){const r=this._fixedLevel||this.level;return[1e3,793,618,473,355,262,190,135,94,64,43,28,18,11,7][Math.min(r,15)-1]||7}reset(){this.points=0,this.level=1,this.lines=0,this.combo=0,this.tSpins=0,this.backToBack=0,this.tetrisCount=0,this._fixedLevel=null}clone(){const r=new so;return r.points=this.points,r.level=this.level,r.lines=this.lines,r.combo=this.combo,r.tSpins=this.tSpins,r.backToBack=this.backToBack,r.tetrisCount=this.tetrisCount,r._fixedLevel=this._fixedLevel,r}toJSON(){return{points:this.points,level:this.level,lines:this.lines,combo:this.combo,tSpins:this.tSpins,backToBack:this.backToBack,tetrisCount:this.tetrisCount,_fixedLevel:this._fixedLevel}}}class Vt{constructor(r,n,s,i,o,a=!1,l=0){this.type=r,this.shape=n,this.color=s,this.emoji=i,this.position=o,this.isTSpin=a,this.rotationState=l}move(r,n){return new Vt(this.type,this.shape,this.color,this.emoji,{x:this.position.x+r,y:this.position.y+n},this.isTSpin,this.rotationState)}rotate(){const r=this.shape[0].map((n,s)=>this.shape.map(i=>i[s]).reverse());return new Vt(this.type,r,this.color,this.emoji,this.position,this.isTSpin,(this.rotationState+1)%4)}setTSpin(r){return new Vt(this.type,this.shape,this.color,this.emoji,this.position,r,this.rotationState)}clone(){return new Vt(this.type,this.shape.map(r=>[...r]),this.color,this.emoji,{...this.position},this.isTSpin,this.rotationState)}reset(r,n,s,i,o,a=!1){return this.type=r,this.shape=n,this.color=s,this.emoji=i,this.position=o,this.isTSpin=a,this.rotationState=0,this}getWidth(){var r;return((r=this.shape[0])==null?void 0:r.length)||0}getHeight(){return this.shape.length||0}getCells(){const r=[];return this.shape.forEach((n,s)=>{n.forEach((i,o)=>{i&&r.push({x:this.position.x+o,y:this.position.y+s,type:this.type,color:this.color,emoji:this.emoji})})}),r}}class MS{calculateScore(r,n,s,i,o){throw new Error("Must be implemented")}calculateSoftDropPoints(){throw new Error("Must be implemented")}calculateTSpinBonus(r){throw new Error("Must be implemented")}calculateBackToBackBonus(r){throw new Error("Must be implemented")}calculateComboBonus(r){throw new Error("Must be implemented")}}class rg extends MS{calculateScore(r,n,s,i,o){let a=this.getBasePoints(r);return i&&(a=this.calculateTSpinBonus(r)),o&&(a=this.calculateBackToBackBonus(a)),a*=n,a+=this.calculateComboBonus(s),a}calculateSoftDropPoints(){return 1}calculateTSpinBonus(r){return[0,800,1200,1600,2e3][r]||0}calculateBackToBackBonus(r){return Math.floor(r*1.5)}calculateComboBonus(r){return r*50}getBasePoints(r){return[0,100,300,500,800][r]||0}}const Ne={BOARD_WIDTH:10,BOARD_HEIGHT:20,BUFFER_ROWS:4,INITIAL_DROP_TIME:1e3,LOCK_DELAY:500,SOFT_DROP_MULTIPLIER:20,NEXT_PIECES_COUNT:3,BAG_SIZE:7,KICK_OFFSETS:[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:-1,y:-1},{x:1,y:-1}],SRS_KICKS_CW:{"0>1":[{x:-1,y:0},{x:-1,y:-1},{x:0,y:2},{x:-1,y:2}],"1>2":[{x:1,y:0},{x:1,y:1},{x:0,y:-2},{x:1,y:-2}],"2>3":[{x:1,y:0},{x:1,y:-1},{x:0,y:2},{x:1,y:2}],"3>0":[{x:-1,y:0},{x:-1,y:1},{x:0,y:-2},{x:-1,y:-2}]},SRS_KICKS_CCW:{"1>0":[{x:1,y:0},{x:1,y:1},{x:0,y:-2},{x:1,y:-2}],"2>1":[{x:-1,y:0},{x:-1,y:-1},{x:0,y:2},{x:-1,y:2}],"3>2":[{x:-1,y:0},{x:-1,y:1},{x:0,y:-2},{x:-1,y:-2}],"0>3":[{x:1,y:0},{x:1,y:-1},{x:0,y:2},{x:1,y:2}]},DROP_TIMES:[1e3,850,700,600,500,400,350,300,250,200,150,100,80,60,50],LEVEL_LINES_REQUIREMENT:10,MAX_LEVEL:15};class DS extends AS{constructor(r,n,s,i=new rg){super(),this.pieceFactory=r,this.movementStrategyFactory=n,this.gameRepository=s,this.scoringService=i,this.board=new no(Ne.BOARD_WIDTH,Ne.BOARD_HEIGHT),this.score=new so,this.currentPiece=null,this.nextPieces=[],this.heldPiece=null,this.canHold=!0,this.isPlaying=!1,this.isPaused=!1,this.gameOver=!1,this.lastDropTime=0,this.backToBack=!1,this._lockDelayActive=!1,this._lockDelayElapsed=0,this._lockDelayResets=0,this._lockDelayMax=Ne.LOCK_DELAY,this._lockDelayMaxResets=15,this.gameMode=null,this.modeTimeElapsed=0,this.modeStartTime=0,this.pendingGarbage=0,this._lastAttack=0,this._dirty=!0,this._cachedState=null}_markDirty(){this._dirty=!0,this._cachedState=null}get isDirty(){return this._dirty}clearDirty(){this._dirty=!1}initializeGame(){this.pieceFactory.resetBag(),this.board=new no(Ne.BOARD_WIDTH,Ne.BOARD_HEIGHT),this.score=new so,this.currentPiece=this.pieceFactory.createRandomPiece(),this.nextPieces=this.pieceFactory.createNextPieces(Ne.NEXT_PIECES_COUNT),this.heldPiece=null,this.canHold=!0,this.isPlaying=!1,this.isPaused=!1,this.gameOver=!1,this.lastDropTime=0,this.backToBack=!1,this._lockDelayActive=!1,this._lockDelayElapsed=0,this._lockDelayResets=0,this.modeTimeElapsed=0,this.modeStartTime=Date.now(),this.pendingGarbage=0,this._lastAttack=0,this.applyGameMode(),R.emit(F.GAME_INITIALIZED),this._markDirty()}setGameMode(r){this.gameMode=r}applyGameMode(){if(!this.gameMode||!this.gameMode.rules)return;const r=this.gameMode.rules;r.startLevel&&(this.score.level=r.startLevel),r.fixedLevel?this.score._fixedLevel=r.fixedLevel:this.score._fixedLevel=null,this._modeRules=r}movePiece(r){var n,s;if(!(!this.currentPiece||this.gameOver||this.isPaused))try{const i=this.movementStrategyFactory.createStrategy(r),o=i.execute(this.currentPiece,this.board.grid);if(o!==this.currentPiece){if(this.currentPiece=o,this._markDirty(),r==="down"){if(this._lockDelayActive=!1,this._lockDelayElapsed=0,this.lastDropTime=0,i.getSoftDropPoints){const a=this.scoringService.calculateSoftDropPoints();this.score.addPoints(a)}}else(r==="left"||r==="right")&&(this._resetLockDelay(),this._checkUngrounded());R.emit(F.PIECE_MOVED,{direction:r,piece:o})}else r==="down"&&(this._markDirty(),this._lockDelayActive||(this._lockDelayActive=!0,this._lockDelayElapsed=0,this._lockDelayResets=0))}catch(i){_t.logError("GameService","movePiece",i.message,{direction:r,pieceType:(n=this.currentPiece)==null?void 0:n.type,piecePos:(s=this.currentPiece)==null?void 0:s.position,stack:i.stack})}}rotatePiece(){var r,n;if(!(!this.currentPiece||this.gameOver||this.isPaused))try{const i=this.movementStrategyFactory.createStrategy("rotate").execute(this.currentPiece,this.board.grid);i!==this.currentPiece&&(this.currentPiece=i,this._markDirty(),this._resetLockDelay(),this._checkUngrounded(),R.emit(F.PIECE_ROTATED,{piece:i}))}catch(s){_t.logError("GameService","rotatePiece",s.message,{pieceType:(r=this.currentPiece)==null?void 0:r.type,piecePos:(n=this.currentPiece)==null?void 0:n.position,stack:s.stack})}}rotatePieceLeft(){var r,n;if(!(!this.currentPiece||this.gameOver||this.isPaused))try{const i=this.movementStrategyFactory.createStrategy("rotateLeft").execute(this.currentPiece,this.board.grid);i!==this.currentPiece&&(this.currentPiece=i,this._markDirty(),this._resetLockDelay(),this._checkUngrounded(),R.emit(F.PIECE_ROTATED,{piece:i}))}catch(s){_t.logError("GameService","rotatePieceLeft",s.message,{pieceType:(r=this.currentPiece)==null?void 0:r.type,piecePos:(n=this.currentPiece)==null?void 0:n.position,stack:s.stack})}}placePiece(){var n,s;if(!this.currentPiece)return;this._markDirty(),this._lockDelayActive=!1,this._lockDelayElapsed=0,this._lockDelayResets=0,this._lastAttack=0,this.board.placePiece(this.currentPiece);const r=this.board.clearLines();if(r>0){this.score.addLines(r),this.score.incrementCombo();const i=this.currentPiece.isTSpin,o=this.backToBack,a=this.scoringService.calculateScore(r,this.score.getLevel(),this.score.combo,i,this.backToBack);if(this.score.addPoints(a),i||r===4?(this.backToBack&&R.emit(F.BACK_TO_BACK),this.backToBack=!0,i&&(this.score.addTSpin(),R.emit(F.T_SPIN,{linesCleared:r}))):this.backToBack=!1,R.emit(F.LINE_CLEARED,{linesCleared:r}),R.emit(F.SCORE_UPDATED,{score:this.score.points,level:this.score.level,combo:this.score.combo,points:a,isTSpin:i}),this._lastAttack=this._calculateAttack(r,i,this.score.combo,o),this._lastAttack>0&&this.pendingGarbage>0){const l=Math.min(this._lastAttack,this.pendingGarbage);this._lastAttack-=l,this.pendingGarbage-=l}}else this.score.resetCombo();if(R.emit(F.PIECE_PLACED,{piece:this.currentPiece,linesCleared:r}),this.pendingGarbage>0){const i=this.board.addGarbageLines(this.pendingGarbage);if(this.pendingGarbage=0,i&&this.board.isGameOver()){this.gameOver=!0,R.emit(F.GAME_OVER);return}}if(this.getNextPiece(),this.canHold=!0,(n=this._modeRules)!=null&&n.lineGoal&&this.score.lines>=this._modeRules.lineGoal){this.gameOver=!0,R.emit(F.GAME_OVER);return}if(((s=this._modeRules)==null?void 0:s.gameOver)===!1){if(this.board.isGameOver()){this.board._buffer=this.board.createEmptyBuffer();for(let i=0;i<4;i++)for(let o=0;o<this.board.width;o++)this.board.clearCell(o,i)}}else this.board.isGameOver()&&(this.gameOver=!0,R.emit(F.GAME_OVER))}_calculateAttack(r,n,s,i){if(r===0)return 0;let o=0;if(n?o=[0,2,4,6][r]||0:o=[0,0,1,2,4][r]||0,i&&(n||r===4)&&(o+=1),s>=1){const l=[0,0,1,1,2,2,3,3,4,4];o+=l[Math.min(s,l.length-1)]||4}return this.board.grid.every(l=>l.every(c=>c===null))&&(o=10),o}receiveGarbage(r){r>0&&(this.pendingGarbage+=r,this._markDirty())}consumeAttack(){const r=this._lastAttack;return this._lastAttack=0,r}holdPiece(){var r,n;if(!(!this.canHold||!this.currentPiece)){this._lockDelayActive=!1,this._lockDelayElapsed=0,this._lockDelayResets=0;try{const s=this.heldPiece,i=this.currentPiece.type,o=Nr[i];if(this.heldPiece=new Vt(i,o.shape,o.color,o.emoji,{x:3,y:0},!1,0),s){const a=s.type==="I"?{x:3,y:-2}:{x:3,y:0},l=Nr[s.type];this.currentPiece=new Vt(s.type,l.shape,l.color,l.emoji,a,!1,0)}else this.getNextPiece();this.canHold=!1,this._markDirty(),R.emit(F.PIECE_HELD,{heldPiece:this.heldPiece})}catch(s){_t.logError("GameService","holdPiece",s.message,{currentPieceType:(r=this.currentPiece)==null?void 0:r.type,heldPieceType:(n=this.heldPiece)==null?void 0:n.type,stack:s.stack})}}}hardDrop(){var r,n;if(!(!this.currentPiece||this.gameOver||this.isPaused))try{this._lockDelayActive=!1,this._lockDelayElapsed=0;const i=this.movementStrategyFactory.createStrategy("hardDrop").execute(this.currentPiece,this.board.grid);this.currentPiece=i.piece,this.score.addPoints(i.dropDistance),this._markDirty();const o=this.currentPiece;R.emit(F.HARD_DROP,{dropDistance:i.dropDistance}),R.emit(F.PIECE_MOVED,{direction:"hardDrop",piece:o}),this.placePiece()}catch(s){_t.logError("GameService","hardDrop",s.message,{pieceType:(r=this.currentPiece)==null?void 0:r.type,piecePos:(n=this.currentPiece)==null?void 0:n.position,stack:s.stack})}}updateGame(r){var n;if(!(!this.isPlaying||this.gameOver||this.isPaused)){if((n=this._modeRules)!=null&&n.timeLimit&&(this.modeTimeElapsed=(Date.now()-this.modeStartTime)/1e3,this.modeTimeElapsed>=this._modeRules.timeLimit)){this.gameOver=!0,this._markDirty(),R.emit(F.GAME_OVER);return}if(this._lockDelayActive){if(this._lockDelayElapsed+=r,this._lockDelayElapsed>=this._lockDelayMax){this._lockDelayActive=!1,this._lockDelayElapsed=0,this.placePiece(),this.lastDropTime=0;return}return}this.lastDropTime+=r,this.lastDropTime>=this.score.getDropTime()&&(this.movePiece("down"),this.lastDropTime=0)}}_resetLockDelay(){this._lockDelayActive&&this._lockDelayResets<this._lockDelayMaxResets&&(this._lockDelayElapsed=0,this._lockDelayResets++)}_checkUngrounded(){if(!this._lockDelayActive||!this.currentPiece)return;this.board.canPlacePiece(this.currentPiece.move(0,1))&&(this._lockDelayActive=!1,this._lockDelayElapsed=0,this._lockDelayResets=0)}pause(){this.isPaused=!0,this._markDirty(),R.emit(F.GAME_PAUSED)}resume(){this.isPaused=!1,this.isPlaying=!0,this._markDirty(),R.emit(F.GAME_RESUMED)}restart(){this.initializeGame(),this.isPlaying=!0,this.isPaused=!1,this._markDirty()}getDropPreview(){if(!this.currentPiece)return null;let r=this.currentPiece,n=0;const s=20;for(;n<s&&this.board.canPlacePiece(r.move(0,1));)r=r.move(0,1),n++;return r}getNextPiece(){const r=this.nextPieces.shift();this.nextPieces.push(this.pieceFactory.createRandomPiece()),this.currentPiece=r,this.currentPiece&&!this.board.canPlacePiece(this.currentPiece)&&(this.gameOver=!0,this._markDirty(),R.emit(F.GAME_OVER))}getGameState(){var r;return this._cachedState&&!this._dirty?this._cachedState:(this._cachedState={board:this.board.grid.map(n=>[...n]),currentPiece:this.currentPiece,nextPieces:[...this.nextPieces],heldPiece:this.heldPiece,canHold:this.canHold,score:this.score.toJSON(),isPlaying:this.isPlaying,isPaused:this.isPaused,gameOver:this.gameOver,backToBack:this.backToBack,gameMode:this.gameMode,modeTimeElapsed:(r=this._modeRules)!=null&&r.timeLimit?Math.max(0,this._modeRules.timeLimit-(Date.now()-this.modeStartTime)/1e3):null},this._cachedState)}setGameState(r){this.board.setBoardState(r.board),this.currentPiece=r.currentPiece,this.nextPieces=r.nextPieces,this.heldPiece=r.heldPiece,this.canHold=r.canHold,this.isPlaying=r.isPlaying,this.isPaused=r.isPaused,this.gameOver=r.gameOver,this.backToBack=r.backToBack;const n=this.score._fixedLevel;Object.assign(this.score,r.score),n!=null&&r.score._fixedLevel==null&&(this.score._fixedLevel=n)}}class LS{saveHighScore(r){throw new Error("Must be implemented")}getHighScore(){throw new Error("Must be implemented")}saveSettings(r){throw new Error("Must be implemented")}getSettings(){throw new Error("Must be implemented")}saveGameState(r){throw new Error("Must be implemented")}getGameState(){throw new Error("Must be implemented")}clearGameState(){throw new Error("Must be implemented")}}class jS extends LS{constructor(){super(),this.highScoreKey="cat-tetris-high-score",this.settingsKey="cat-tetris-settings",this.gameStateKey="cat-tetris-game-state"}saveHighScore(r){try{localStorage.setItem(this.highScoreKey,r.toString())}catch{}}getHighScore(){try{return parseInt(localStorage.getItem(this.highScoreKey)||"0")}catch{return 0}}saveSettings(r){try{localStorage.setItem(this.settingsKey,JSON.stringify(r))}catch{}}getSettings(){try{const r=localStorage.getItem(this.settingsKey);return r?JSON.parse(r):{volume:80,gameSpeed:"normal",soundEnabled:!0,particlesEnabled:!0}}catch{return{volume:80,gameSpeed:"normal",soundEnabled:!0,particlesEnabled:!0}}}saveGameState(r){try{localStorage.setItem(this.gameStateKey,JSON.stringify(r))}catch{}}getGameState(){try{const r=localStorage.getItem(this.gameStateKey);return r?JSON.parse(r):null}catch{return null}}clearGameState(){try{localStorage.removeItem(this.gameStateKey)}catch{}}load(r){try{const n=localStorage.getItem(`cat-tetris-${r}`);return n?JSON.parse(n):null}catch{return null}}save(r,n){try{localStorage.setItem(`cat-tetris-${r}`,JSON.stringify(n))}catch{}}remove(r){try{localStorage.removeItem(`cat-tetris-${r}`)}catch{}}}class RS{createPiece(r,n){throw new Error("Must be implemented")}createRandomPiece(){throw new Error("Must be implemented")}createNextPieces(r){throw new Error("Must be implemented")}}class _S{execute(r,n){throw new Error("Must be implemented")}}class jn extends _S{execute(r,n){throw new Error("execute method must be implemented")}movePiece(r,n,s,i){if(!r||!n||!Array.isArray(n))return r;const o={x:r.position.x+s,y:r.position.y+i};return this.isValidMove(r,n,o)?r.move(s,i):r}isValidMove(r,n,s){return!r||!r.shape||!n||!Array.isArray(n)?!1:r.shape.every((i,o)=>Array.isArray(i)?i.every((a,l)=>{if(!a)return!0;const c=s.x+l,u=s.y+o;return c<0||c>=Ne.BOARD_WIDTH||u>=Ne.BOARD_HEIGHT?!1:u<0?!0:n[u]&&Array.isArray(n[u])&&!n[u][c]}):!0)}}class NS extends jn{execute(r,n){return this.movePiece(r,n,-1,0)}}class IS extends jn{execute(r,n){return this.movePiece(r,n,1,0)}}class OS extends jn{execute(r,n){if(!r||!n)return r;const s={x:r.position.x,y:r.position.y+1};return this.isValidMove(r,n,s)?r.move(0,1):r}getSoftDropPoints(){return 1}}class VS extends jn{execute(r,n){var u;if(!r||!r.shape||!n)return r;const s=this.rotatePiece(r);let i=!1;if(this.isValidMove(s,n,s.position))return i=this.detectTSpin(s,n),s.setTSpin(i);const o=r.rotationState??0,a=(o+1)%4,l=`${o}>${a}`,c=((u=Ne.SRS_KICKS_CW)==null?void 0:u[l])||Ne.KICK_OFFSETS;for(const d of c){const p={x:s.position.x+d.x,y:s.position.y+d.y};if(this.isValidMove(s,n,p)){const m=s.move(d.x,d.y);return i=this.detectTSpin(m,n),m.setTSpin(i)}}return r}detectTSpin(r,n){return r.type!=="T"?!1:this.getCornerPositions(r).filter(a=>a.x<0||a.x>=Ne.BOARD_WIDTH||a.y<0||a.y>=Ne.BOARD_HEIGHT||n[a.y]&&n[a.y][a.x]).length>=3}getCornerPositions(r){const n=[],s=r.position.x,i=r.position.y;return n.push({x:s,y:i}),n.push({x:s+2,y:i}),n.push({x:s,y:i+2}),n.push({x:s+2,y:i+2}),n}rotatePiece(r){return!r||!r.shape||!Array.isArray(r.shape)||r.shape.length===0?r:r.rotate()}}class FS extends jn{execute(r,n){var u;if(!r||!r.shape||!n)return r;const s=this.rotatePieceLeft(r);let i=!1;if(this.isValidMove(s,n,s.position))return i=this.detectTSpin(s,n),s.setTSpin(i);const o=r.rotationState??0,a=(o+3)%4,l=`${o}>${a}`,c=((u=Ne.SRS_KICKS_CCW)==null?void 0:u[l])||Ne.KICK_OFFSETS;for(const d of c){const p={x:s.position.x+d.x,y:s.position.y+d.y};if(this.isValidMove(s,n,p)){const m=s.move(d.x,d.y);return i=this.detectTSpin(m,n),m.setTSpin(i)}}return r}detectTSpin(r,n){return r.type!=="T"?!1:this.getCornerPositions(r).filter(a=>a.x<0||a.x>=Ne.BOARD_WIDTH||a.y<0||a.y>=Ne.BOARD_HEIGHT||n[a.y]&&n[a.y][a.x]).length>=3}getCornerPositions(r){const n=[],s=r.position.x,i=r.position.y;return n.push({x:s,y:i}),n.push({x:s+2,y:i}),n.push({x:s,y:i+2}),n.push({x:s+2,y:i+2}),n}rotatePieceLeft(r){if(!r||!r.shape||!Array.isArray(r.shape)||r.shape.length===0)return r;const n=r.shape[0].map((s,i)=>r.shape.map(o=>o[o.length-1-i]));return new Vt(r.type,n,r.color,r.emoji,r.position,r.isTSpin,(r.rotationState+3)%4)}}class BS extends jn{execute(r,n){if(!r||!n)return{piece:r,dropDistance:0};let s=r,i=0;for(;;){const o={x:s.position.x,y:s.position.y+1};if(this.isValidMove(s,n,o))s=s.move(0,1),i++;else break}return{piece:s,dropDistance:i}}}class hp{constructor(){this.reset()}reset(){return this.piece={type:null,shape:[],color:"#000000",emoji:"",position:{x:3,y:0},isTSpin:!1},this}setType(r){return this.piece.type=r,this}setShape(r){return this.piece.shape=r,this}setColor(r){return this.piece.color=r,this}setEmoji(r){return this.piece.emoji=r,this}setPosition(r,n){return this.piece.position={x:r,y:n},this}setTSpin(r){return this.piece.isTSpin=r,this}build(){const r=new Vt(this.piece.type,this.piece.shape,this.piece.color,this.piece.emoji,this.piece.position,this.piece.isTSpin);return this.reset(),r}}class zS extends RS{constructor(){super(),this.pieceConfigs=Nr,this._bag=[],this._bagIndex=0}_refillBag(){this._bag=Object.keys(this.pieceConfigs);for(let r=this._bag.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[this._bag[r],this._bag[n]]=[this._bag[n],this._bag[r]]}this._bagIndex=0}resetBag(){this._bag=[],this._bagIndex=0}_getNextType(){return this._bagIndex>=this._bag.length&&this._refillBag(),this._bag[this._bagIndex++]}createPiece(r,n={x:3,y:0}){const s=this.pieceConfigs[r];if(!s)throw new Error(`Tipo de pea invlido: ${r}`);return new hp().setType(r).setShape(s.shape).setColor(s.color).setEmoji(s.emoji).setPosition(n.x,n.y).build()}createRandomPiece(){const r=this._getNextType(),n=this.pieceConfigs[r];let s={x:3,y:0};return r==="I"&&(s={x:3,y:-2}),new hp().setType(r).setShape(n.shape).setColor(n.color).setEmoji(n.emoji).setPosition(s.x,s.y).build()}createNextPieces(r=3){const n=[];for(let s=0;s<r;s++)n.push(this.createRandomPiece());return n}registerPieceType(r,n){this.pieceConfigs[r]=n}getPieceTypes(){return Object.keys(this.pieceConfigs)}}class HS{constructor(){this.strategies=new Map,this.registerDefaultStrategies()}registerDefaultStrategies(){this.strategies.set("left",()=>new NS),this.strategies.set("right",()=>new IS),this.strategies.set("down",()=>new OS),this.strategies.set("rotate",()=>new VS),this.strategies.set("rotateLeft",()=>new FS),this.strategies.set("hardDrop",()=>new BS)}createStrategy(r){const n=this.strategies.get(r);if(!n)throw new Error(`Strategy type '${r}' not found`);return n()}registerStrategy(r,n){if(typeof n!="function")throw new Error("Strategy factory must be a function");this.strategies.set(r,n)}unregisterStrategy(r){this.strategies.delete(r)}getAvailableStrategies(){return Array.from(this.strategies.keys())}hasStrategy(r){return this.strategies.has(r)}}class US{getSettings(){throw new Error("Method getSettings must be implemented")}saveSettings(r){throw new Error("Method saveSettings must be implemented")}updateSetting(r,n){throw new Error("Method updateSetting must be implemented")}resetSettings(){throw new Error("Method resetSettings must be implemented")}}class GS extends US{constructor(){super(),this.storageKey="cat-tetris-settings",this.defaultSettings={volume:80,gameSpeed:"normal",soundEnabled:!0,particlesEnabled:!0}}getSettings(){try{const r=localStorage.getItem(this.storageKey);return r?{...this.defaultSettings,...JSON.parse(r)}:this.defaultSettings}catch{return this.defaultSettings}}saveSettings(r){try{const n={...this.defaultSettings,...r};return localStorage.setItem(this.storageKey,JSON.stringify(n)),n}catch{throw new Error("Failed to save settings")}}resetSettings(){try{return localStorage.removeItem(this.storageKey),this.defaultSettings}catch{throw new Error("Failed to reset settings")}}updateSetting(r,n){const i={...this.getSettings(),[r]:n};return this.saveSettings(i)}}class $S{getStats(){throw new Error("Method getStats must be implemented")}incrementPlayTime(){throw new Error("Method incrementPlayTime must be implemented")}incrementPiecesPlaced(){throw new Error("Method incrementPiecesPlaced must be implemented")}addLinesCleared(r){throw new Error("Method addLinesCleared must be implemented")}incrementTSpins(){throw new Error("Method incrementTSpins must be implemented")}updateMaxCombo(r){throw new Error("Method updateMaxCombo must be implemented")}reset(){throw new Error("Method reset must be implemented")}}class WS extends $S{constructor(){super(),this.stats={playTime:0,piecesPlaced:0,linesCleared:0,tSpins:0,backToBack:0,maxCombo:0,tetrisCount:0,linesPerSecond:0},this.sessionStartTime=Date.now()}getStats(){return{...this.stats}}incrementPlayTime(){this.stats.playTime+=1,this.calculateLinesPerSecond()}incrementPiecesPlaced(){this.stats.piecesPlaced+=1}addLinesCleared(r){this.stats.linesCleared+=r,r===4&&(this.stats.tetrisCount+=1),this.calculateLinesPerSecond()}incrementTSpins(){this.stats.tSpins+=1}incrementBackToBack(){this.stats.backToBack+=1}updateMaxCombo(r){r>this.stats.maxCombo&&(this.stats.maxCombo=r)}calculateLinesPerSecond(){this.stats.playTime>0?this.stats.linesPerSecond=this.stats.linesCleared/this.stats.playTime:this.stats.linesPerSecond=0}reset(){this.stats={playTime:0,piecesPlaced:0,linesCleared:0,tSpins:0,backToBack:0,maxCombo:0,tetrisCount:0,linesPerSecond:0},this.sessionStartTime=Date.now()}getSessionDuration(){return Date.now()-this.sessionStartTime}}class qS{registerHandler(r,n){throw new Error("Method registerHandler must be implemented")}unregisterHandler(r,n){throw new Error("Method unregisterHandler must be implemented")}startListening(){throw new Error("Method startListening must be implemented")}stopListening(){throw new Error("Method stopListening must be implemented")}setKeyMapping(r,n){throw new Error("Method setKeyMapping must be implemented")}getKeyMappings(){throw new Error("Method getKeyMappings must be implemented")}}const Wc="catTetris_keyboardConfig",Al={moveLeft:"ArrowLeft",moveRight:"ArrowRight",moveDown:"ArrowDown",rotate:"ArrowUp",rotateLeft:"z",hardDrop:" ",hold:"c",pause:"Escape"};function KT(e){return{" ":"Space",ArrowLeft:"",ArrowRight:"",ArrowUp:"",ArrowDown:"",Escape:"Esc",Shift:"Shift",Control:"Ctrl",Alt:"Alt",Tab:"Tab",Enter:"Enter",Backspace:"Backspace",Delete:"Delete",CapsLock:"CapsLock"}[e]||e.toUpperCase()}const JT=["moveLeft","moveRight","moveDown","rotate","rotateLeft","hardDrop","hold","pause"];function mp(){try{const e=localStorage.getItem(Wc);if(e){const r=JSON.parse(e);return{...Al,...r}}}catch{}return{...Al}}function QT(e){try{localStorage.setItem(Wc,JSON.stringify(e))}catch{}}function YT(){try{localStorage.removeItem(Wc)}catch{}return{...Al}}function fp(e){const r={};for(const[n,s]of Object.entries(e))r[s]=n,s.length===1&&s!==s.toUpperCase()&&(r[s.toUpperCase()]=n);return!r.x&&!r.X&&(r.x="rotate",r.X="rotate"),r.Shift||(r.Shift="hold"),!r.p&&!r.P&&(r.p="pause",r.P="pause"),r}class KS extends qS{constructor(){super();Bs(this,"_handleKeyDown",n=>{if(this.preventDefaultKeys.includes(n.key)&&n.preventDefault(),n.repeat)return;const s=this.keyMappings[n.key];s&&(this._fireAction(s),this._dasActions.has(s)&&this._pressedKeys.set(n.key,{action:s,dasTimer:0,arrTimer:0,dasTriggered:!1}))});Bs(this,"_handleKeyUp",n=>{this._pressedKeys.delete(n.key)});Bs(this,"_handleBlur",()=>{this._pressedKeys.clear()});this.keyMappings=fp(mp()),this.preventDefaultKeys=["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"," "],this.handlers=new Map,this.isListening=!1,this.das=167,this.arr=33,this.sdf=5,this._dasActions=new Set(["moveLeft","moveRight","moveDown"]),this._pressedKeys=new Map,this._rafId=null,this._lastTime=0}setDAS(n){this.das=Math.max(0,n)}setARR(n){this.arr=Math.max(0,n)}getDAS(){return this.das}getARR(){return this.arr}registerHandler(n,s){this.handlers.has(n)||this.handlers.set(n,[]),this.handlers.get(n).push(s)}unregisterHandler(n,s){if(this.handlers.has(n)){const i=this.handlers.get(n),o=i.indexOf(s);o>-1&&i.splice(o,1)}}_fireAction(n){this.handlers.has(n)&&this.handlers.get(n).forEach(s=>{try{s()}catch{}})}startListening(){this.isListening||(window.addEventListener("keydown",this._handleKeyDown),window.addEventListener("keyup",this._handleKeyUp),window.addEventListener("blur",this._handleBlur),this.isListening=!0,this._startLoop())}stopListening(){this.isListening&&(window.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener("keyup",this._handleKeyUp),window.removeEventListener("blur",this._handleBlur),this.isListening=!1,this._stopLoop(),this._pressedKeys.clear())}_startLoop(){this._lastTime=performance.now();const n=s=>{const i=s-this._lastTime;this._lastTime=s,this._updateDAS(i),this._rafId=requestAnimationFrame(n)};this._rafId=requestAnimationFrame(n)}_stopLoop(){this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=null)}_updateDAS(n){for(const[s,i]of this._pressedKeys)if(i.dasTriggered)if(i.arrTimer+=n,this.arr===0){for(let o=0;o<20;o++)this._fireAction(i.action);i.arrTimer=0}else for(;i.arrTimer>=this.arr;)i.arrTimer-=this.arr,this._fireAction(i.action);else if(i.dasTimer+=n,i.dasTimer>=this.das)if(i.dasTriggered=!0,i.arrTimer=0,this.arr===0)for(let o=0;o<20;o++)this._fireAction(i.action);else this._fireAction(i.action)}setKeyMapping(n,s){this.keyMappings[n]=s}removeKeyMapping(n){delete this.keyMappings[n]}getKeyMappings(){return{...this.keyMappings}}reloadMappings(){this.keyMappings=fp(mp());const n=new Set;for(const[s,i]of Object.entries(this.keyMappings))["moveLeft","moveRight","moveDown","rotate","hardDrop"].includes(i)&&n.add(s);this.preventDefaultKeys=[...n]}clear(){this.handlers.clear(),this.stopListening()}}class JS{constructor(r){this.gameRepository=r,this.currency=this.loadCurrency()}loadCurrency(){return this.gameRepository.load("playerCurrency")||{fish:0,totalEarned:0,totalSpent:0}}save(){this.gameRepository.save("playerCurrency",this.currency)}getFish(){return this.currency.fish}getCurrency(){return{...this.currency}}addFish(r,n="unknown"){return r<=0?!1:(this.currency.fish+=r,this.currency.totalEarned+=r,this.save(),!0)}spendFish(r,n="unknown"){return r<=0||this.currency.fish<r?!1:(this.currency.fish-=r,this.currency.totalSpent+=r,this.save(),!0)}canAfford(r){return this.currency.fish>=r}reset(){this.currency={fish:0,totalEarned:0,totalSpent:0},this.save()}getStats(){return{currentFish:this.currency.fish,totalEarned:this.currency.totalEarned,totalSpent:this.currency.totalSpent,netWorth:this.currency.totalEarned-this.currency.totalSpent}}}const ae={CLEAR_LINES:"clear_lines",T_SPINS:"t_spins",COMBOS:"combos",SURVIVE_TIME:"survive_time",REACH_LEVEL:"reach_level",SCORE_POINTS:"score_points",PLACE_PIECES:"place_pieces",BACK_TO_BACK:"back_to_back",TETRIS_CLEAR:"tetris_clear"},ya=[{type:ae.CLEAR_LINES,target:20,reward:100,difficulty:"easy",title:"Limpeza Bsica",description:"Limpe 20 linhas"},{type:ae.PLACE_PIECES,target:30,reward:100,difficulty:"easy",title:"Gato Trabalhador",description:"Coloque 30 peas"},{type:ae.SURVIVE_TIME,target:180,reward:120,difficulty:"easy",title:"Sobrevivente",description:"Sobreviva por 3 minutos"},{type:ae.SCORE_POINTS,target:5e3,reward:150,difficulty:"easy",title:"Fazendo Pontos",description:"Alcance 5.000 pontos"},{type:ae.CLEAR_LINES,target:40,reward:200,difficulty:"medium",title:"Limpeza Profunda",description:"Limpe 40 linhas em uma partida"},{type:ae.T_SPINS,target:3,reward:250,difficulty:"medium",title:"Mestre do T-Spin",description:"Faa 3 T-Spins"},{type:ae.COMBOS,target:7,reward:200,difficulty:"medium",title:"Combo Felino",description:"Alcance um combo de 7x"},{type:ae.REACH_LEVEL,target:8,reward:180,difficulty:"medium",title:"Subindo de Nvel",description:"Alcance o nvel 8"},{type:ae.TETRIS_CLEAR,target:2,reward:220,difficulty:"medium",title:"Tetris Duplo",description:"Faa 2 Tetris (4 linhas)"},{type:ae.T_SPINS,target:5,reward:350,difficulty:"hard",title:"Ninja T-Spin",description:"Faa 5 T-Spins em uma partida"},{type:ae.COMBOS,target:10,reward:300,difficulty:"hard",title:"Combo Insano",description:"Alcance um combo de 10x"},{type:ae.SURVIVE_TIME,target:600,reward:400,difficulty:"hard",title:"Resistncia Felina",description:"Sobreviva por 10 minutos"},{type:ae.REACH_LEVEL,target:12,reward:350,difficulty:"hard",title:"Mestre dos Gatos",description:"Alcance o nvel 12"},{type:ae.SCORE_POINTS,target:5e4,reward:400,difficulty:"hard",title:"Pontuao Lendria",description:"Alcance 50.000 pontos"},{type:ae.BACK_TO_BACK,target:3,reward:380,difficulty:"hard",title:"Back-to-Back Master",description:"Faa 3 back-to-backs"}];class QS{constructor(r,n){this.gameRepository=r,this.currencyService=n,this.missions=this.loadMissions(),this.checkAndResetDaily()}loadMissions(){return this.gameRepository.load("dailyMissions")||this.generateNewMissions()}save(){this.gameRepository.save("dailyMissions",this.missions)}checkAndResetDaily(){const n=new Date().toDateString();this.missions.lastResetDate!==n&&(this.missions=this.generateNewMissions(),this.save())}generateNewMissions(){const r=ya.filter(a=>a.difficulty==="easy"),n=ya.filter(a=>a.difficulty==="medium"),s=ya.filter(a=>a.difficulty==="hard"),i=[this.selectRandomMission(r),this.selectRandomMission(n),this.selectRandomMission(s)],o=new Date;return{lastResetDate:o.toDateString(),missions:i.map((a,l)=>({id:`mission_${o.getTime()}_${l}`,...a,progress:0,completed:!1,claimed:!1}))}}selectRandomMission(r){return r[Math.floor(Math.random()*r.length)]}getMissions(){return this.checkAndResetDaily(),this.missions.missions}updateProgress(r,n){let s=!1;return this.missions.missions.forEach(i=>{i.type===r&&!i.completed&&(i.progress=Math.max(i.progress,n),i.progress>=i.target&&(i.completed=!0,s=!0))}),s&&this.save(),s}incrementProgress(r,n=1){let s=!1;return this.missions.missions.forEach(i=>{i.type===r&&!i.completed&&(i.progress+=n,i.progress>=i.target&&(i.completed=!0,s=!0))}),s&&this.save(),s}claimReward(r){const n=this.missions.missions.find(s=>s.id===r);return n?n.completed?n.claimed?{success:!1,error:"Already claimed"}:(n.claimed=!0,this.currencyService.addFish(n.reward,`Mission: ${n.title}`),this.save(),{success:!0,reward:n.reward,title:n.title}):{success:!1,error:"Mission not completed"}:{success:!1,error:"Mission not found"}}getStats(){const r=this.missions.missions.length,n=this.missions.missions.filter(a=>a.completed).length,s=this.missions.missions.filter(a=>a.claimed).length,i=this.missions.missions.reduce((a,l)=>a+l.reward,0),o=this.missions.missions.filter(a=>a.claimed).reduce((a,l)=>a+l.reward,0);return{total:r,completed:n,claimed:s,totalRewards:i,claimedRewards:o,allCompleted:n===r,allClaimed:s===r}}reset(){this.missions=this.generateNewMissions(),this.save()}}const va=[{id:"first_line",title:" Primeira Linha",description:"Limpe sua primeira linha",requirement:{type:"lines_total",value:1},reward:50,tier:"bronze"},{id:"first_game",title:" Primeira Partida",description:"Complete sua primeira partida",requirement:{type:"games_played",value:1},reward:50,tier:"bronze"},{id:"scorer",title:" Pontuador",description:"Alcance 10.000 pontos em uma partida",requirement:{type:"score_single",value:1e4},reward:100,tier:"bronze"},{id:"combo_starter",title:" Combo Starter",description:"Alcance um combo de 5x",requirement:{type:"max_combo",value:5},reward:150,tier:"silver"},{id:"tspin_novice",title:" Aprendiz T-Spin",description:"Faa seu primeiro T-Spin",requirement:{type:"tspins_total",value:1},reward:150,tier:"silver"},{id:"survivor",title:" Sobrevivente",description:"Sobreviva por 5 minutos",requirement:{type:"survive_time",value:300},reward:150,tier:"silver"},{id:"level_5",title:" Nvel 5",description:"Alcance o nvel 5",requirement:{type:"max_level",value:5},reward:100,tier:"silver"},{id:"line_clearer",title:" Limpador",description:"Limpe 100 linhas no total",requirement:{type:"lines_total",value:100},reward:200,tier:"silver"},{id:"combo_master",title:" Combo Master",description:"Alcance um combo de 10x",requirement:{type:"max_combo",value:10},reward:300,tier:"gold"},{id:"tspin_master",title:" Mestre T-Spin",description:"Faa 50 T-Spins no total",requirement:{type:"tspins_total",value:50},reward:400,tier:"gold"},{id:"speed_demon",title:" Speed Demon",description:"Alcance o nvel 15",requirement:{type:"max_level",value:15},reward:350,tier:"gold"},{id:"high_scorer",title:" Alto Pontuador",description:"Alcance 100.000 pontos em uma partida",requirement:{type:"score_single",value:1e5},reward:400,tier:"gold"},{id:"dedicated",title:" Dedicado",description:"Jogue 50 partidas",requirement:{type:"games_played",value:50},reward:300,tier:"gold"},{id:"marathon",title:" Maratonista",description:"Limpe 500 linhas no total",requirement:{type:"lines_total",value:500},reward:350,tier:"gold"},{id:"cat_king",title:" Rei dos Gatos",description:"Alcance 1.000.000 de pontos em uma partida",requirement:{type:"score_single",value:1e6},reward:1e3,tier:"platinum"},{id:"immortal",title:" Imortal",description:"Alcance o nvel 20",requirement:{type:"max_level",value:20},reward:800,tier:"platinum"},{id:"combo_legend",title:" Lenda do Combo",description:"Alcance um combo de 15x",requirement:{type:"max_combo",value:15},reward:700,tier:"platinum"},{id:"tspin_legend",title:" Lenda T-Spin",description:"Faa 200 T-Spins no total",requirement:{type:"tspins_total",value:200},reward:800,tier:"platinum"},{id:"veteran",title:" Veterano",description:"Jogue 200 partidas",requirement:{type:"games_played",value:200},reward:600,tier:"platinum"},{id:"ultimate_cleaner",title:" Limpador Supremo",description:"Limpe 2.000 linhas no total",requirement:{type:"lines_total",value:2e3},reward:700,tier:"platinum"}];class YS{constructor(r,n,s){this.gameRepository=r,this.currencyService=n,this.statisticsService=s,this.achievements=this.loadAchievements()}loadAchievements(){const r=this.gameRepository.load("achievements");if(!r)return va.map(s=>({...s,unlocked:!1,unlockedAt:null,progress:0}));const n=new Map(r.map(s=>[s.id,s]));return va.map(s=>{const i=n.get(s.id);return i?{...s,unlocked:i.unlocked||!1,unlockedAt:i.unlockedAt||null,progress:i.progress||0}:{...s,unlocked:!1,unlockedAt:null,progress:0}})}save(){this.gameRepository.save("achievements",this.achievements)}getAchievements(){return[...this.achievements]}getUnlocked(){return this.achievements.filter(r=>r.unlocked)}getLocked(){return this.achievements.filter(r=>!r.unlocked)}getByTier(r){return this.achievements.filter(n=>n.tier===r)}checkAchievements(r){const n=[];return this.achievements.forEach(s=>{if(s.unlocked)return;const{type:i,value:o}=s.requirement;let a=0;switch(i){case"lines_total":a=r.linesCleared||0;break;case"games_played":a=r.gamesPlayed||0;break;case"score_single":a=r.highScore||0;break;case"max_combo":a=r.maxCombo||0;break;case"tspins_total":a=r.tSpins||0;break;case"survive_time":a=r.longestGame||0;break;case"max_level":a=r.maxLevel||0;break}s.progress=Math.min(a,o),a>=o&&(s.unlocked=!0,s.unlockedAt=new Date().toISOString(),this.currencyService.addFish(s.reward,`Achievement: ${s.title}`),n.push(s))}),n.length>0&&this.save(),n}getStats(){const r=this.achievements.length,n=this.achievements.filter(a=>a.unlocked).length,s=this.achievements.reduce((a,l)=>a+l.reward,0),i=this.achievements.filter(a=>a.unlocked).reduce((a,l)=>a+l.reward,0),o={bronze:this.getByTier("bronze").filter(a=>a.unlocked).length,silver:this.getByTier("silver").filter(a=>a.unlocked).length,gold:this.getByTier("gold").filter(a=>a.unlocked).length,platinum:this.getByTier("platinum").filter(a=>a.unlocked).length};return{total:r,unlocked:n,percentage:Math.floor(n/r*100),totalRewards:s,earnedRewards:i,byTier:o}}reset(){this.achievements=va.map(r=>({...r,unlocked:!1,unlockedAt:null,progress:0})),this.save()}}class XS{constructor(r){this.gameRepository=r,this.stats=this.loadStats()}loadStats(){return this.gameRepository.load("playerStats")||{gamesPlayed:0,linesCleared:0,piecesPlaced:0,tSpins:0,backToBack:0,totalPlayTime:0,highScore:0,maxLevel:0,maxCombo:0,longestGame:0,mostLinesInGame:0,lastUpdated:new Date().toISOString(),lastPlayedDate:null,currentStreak:0,longestStreak:0}}save(){this.stats.lastUpdated=new Date().toISOString(),this.gameRepository.save("playerStats",this.stats)}getStats(){return{...this.stats}}updateAfterGame(r){this.stats.gamesPlayed+=1,this.stats.linesCleared+=r.linesCleared||0,this.stats.piecesPlaced+=r.piecesPlaced||0,this.stats.tSpins+=r.tSpins||0,this.stats.backToBack+=r.backToBack||0,this.stats.totalPlayTime+=r.playTime||0,r.score>this.stats.highScore&&(this.stats.highScore=r.score),r.level>this.stats.maxLevel&&(this.stats.maxLevel=r.level),r.maxCombo>this.stats.maxCombo&&(this.stats.maxCombo=r.maxCombo),r.playTime>this.stats.longestGame&&(this.stats.longestGame=r.playTime),r.linesCleared>this.stats.mostLinesInGame&&(this.stats.mostLinesInGame=r.linesCleared),this.updateStreak(),this.save()}updateStreak(){const r=new Date().toDateString(),n=this.stats.lastPlayedDate;if(n!==r){if(!n)this.stats.currentStreak=1,this.stats.longestStreak=1;else{const s=new Date(n),i=new Date(r);Math.floor((i-s)/(1e3*60*60*24))===1?(this.stats.currentStreak+=1,this.stats.currentStreak>this.stats.longestStreak&&(this.stats.longestStreak=this.stats.currentStreak)):this.stats.currentStreak=1}this.stats.lastPlayedDate=r}}incrementStat(r,n=1){this.stats.hasOwnProperty(r)&&(this.stats[r]+=n,this.save())}updateRecord(r,n){return this.stats.hasOwnProperty(r)&&n>this.stats[r]?(this.stats[r]=n,this.save(),!0):!1}reset(){this.stats={gamesPlayed:0,linesCleared:0,piecesPlaced:0,tSpins:0,backToBack:0,totalPlayTime:0,highScore:0,maxLevel:0,maxCombo:0,longestGame:0,mostLinesInGame:0,lastUpdated:new Date().toISOString(),lastPlayedDate:null,currentStreak:0,longestStreak:0},this.save()}}const Xt={classic:{id:"classic",name:" Tetris Clssico",description:"Cores oficiais do Tetris",price:0,default:!0,pieces:{I:{emoji:"",color:"#00F0F0"},O:{emoji:"",color:"#F0F000"},T:{emoji:"",color:"#A000F0"},S:{emoji:"",color:"#00F000"},Z:{emoji:"",color:"#F00000"},J:{emoji:"",color:"#0000F0"},L:{emoji:"",color:"#F0A000"}}},cats:{id:"cats",name:" Gatos Clssicos",description:"Os gatinhos originais do Cat Tetris",price:0,default:!0,pieces:{I:{emoji:"",color:"#00f0f0"},O:{emoji:"",color:"#f0f000"},T:{emoji:"",color:"#a000f0"},S:{emoji:"",color:"#00f000"},Z:{emoji:"",color:"#f00000"},J:{emoji:"",color:"#f0a000"},L:{emoji:"",color:"#ffc0cb"}}},dogs:{id:"dogs",name:" Cachorros Felizes",description:"Amigos caninos adorveis",price:500,pieces:{I:{emoji:"",color:"#8B4513"},O:{emoji:"",color:"#D2691E"},T:{emoji:"",color:"#CD853F"},S:{emoji:"",color:"#DEB887"},Z:{emoji:"",color:"#F4A460"},J:{emoji:"",color:"#FFDEAD"},L:{emoji:"",color:"#FFE4B5"}}},pandas:{id:"pandas",name:" Pandas Fofos",description:"Ursinhos preto e branco",price:600,pieces:{I:{emoji:"",color:"#000000"},O:{emoji:"",color:"#808080"},T:{emoji:"",color:"#A0A0A0"},S:{emoji:"",color:"#FFFFFF"},Z:{emoji:"",color:"#D3D3D3"},J:{emoji:"",color:"#90EE90"},L:{emoji:"",color:"#98FB98"}}},foxes:{id:"foxes",name:" Raposas Astutas",description:"Raposinhas espertas e geis",price:700,pieces:{I:{emoji:"",color:"#FF4500"},O:{emoji:"",color:"#FF6347"},T:{emoji:"",color:"#FF7F50"},S:{emoji:"",color:"#CD5C5C"},Z:{emoji:"",color:"#D2691E"},J:{emoji:"",color:"#8B4513"},L:{emoji:"",color:"#DAA520"}}},unicorns:{id:"unicorns",name:" Unicrnios Mgicos",description:"Criaturas msticas e coloridas",price:900,pieces:{I:{emoji:"",color:"#FF00FF"},O:{emoji:"",color:"#FFD700"},T:{emoji:"",color:"#87CEEB"},S:{emoji:"",color:"#FF69B4"},Z:{emoji:"",color:"#9370DB"},J:{emoji:"",color:"#DA70D6"},L:{emoji:"",color:"#FFC0CB"}}},robots:{id:"robots",name:" Robs Futuristas",description:"Tecnologia do futuro",price:800,pieces:{I:{emoji:"",color:"#708090"},O:{emoji:"",color:"#778899"},T:{emoji:"",color:"#4682B4"},S:{emoji:"",color:"#5F9EA0"},Z:{emoji:"",color:"#00CED1"},J:{emoji:"",color:"#1E90FF"},L:{emoji:"",color:"#4169E1"}}},foods:{id:"foods",name:" Comidas Deliciosas",description:"Para quem joga com fome",price:750,pieces:{I:{emoji:"",color:"#FF6347"},O:{emoji:"",color:"#FFD700"},T:{emoji:"",color:"#FFA500"},S:{emoji:"",color:"#FF4500"},Z:{emoji:"",color:"#FFB6C1"},J:{emoji:"",color:"#DDA0DD"},L:{emoji:"",color:"#D2691E"}}},crystals:{id:"crystals",name:" Cristais Brilhantes",description:"Gemas preciosas reluzentes",price:1e3,premium:!0,pieces:{I:{emoji:"",color:"#00FFFF"},O:{emoji:"",color:"#FFD700"},T:{emoji:"",color:"#9370DB"},S:{emoji:"",color:"#00FF00"},Z:{emoji:"",color:"#FF0000"},J:{emoji:"",color:"#FFA500"},L:{emoji:"",color:"#FF1493"}}},ocean:{id:"ocean",name:" Mundo Marinho",description:"Criaturas do oceano",price:850,pieces:{I:{emoji:"",color:"#1E90FF"},O:{emoji:"",color:"#00CED1"},T:{emoji:"",color:"#4682B4"},S:{emoji:"",color:"#87CEEB"},Z:{emoji:"",color:"#5F9EA0"},J:{emoji:"",color:"#6495ED"},L:{emoji:"",color:"#FF6347"}}},space:{id:"space",name:" Espao Sideral",description:"Explorao espacial",price:950,pieces:{I:{emoji:"",color:"#4169E1"},O:{emoji:"",color:"#00FFFF"},T:{emoji:"",color:"#32CD32"},S:{emoji:"",color:"#FFD700"},Z:{emoji:"",color:"#FFFF00"},J:{emoji:"",color:"#FF8C00"},L:{emoji:"",color:"#FF4500"}}}};class ng{constructor(r,n){this.gameRepository=r,this.currencyService=n,this.inventory=this.loadInventory()}loadInventory(){const r=this.gameRepository.load("shopInventory");if(r){const n=Object.values(Xt).filter(i=>i.price===0).map(i=>i.id);let s=!1;for(const i of n)r.ownedThemes.includes(i)||(r.ownedThemes.push(i),s=!0);return s&&this.gameRepository.save("shopInventory",r),r}return{ownedThemes:["cats","classic"],equippedTheme:"cats",purchaseHistory:[]}}save(){this.gameRepository.save("shopInventory",this.inventory)}getAllThemes(){return Object.values(Xt).map(r=>({...r,owned:this.inventory.ownedThemes.includes(r.id),equipped:this.inventory.equippedTheme===r.id}))}getOwnedThemes(){return this.inventory.ownedThemes.map(r=>Xt[r])}getEquippedTheme(){return Xt[this.inventory.equippedTheme]}ownsTheme(r){return this.inventory.ownedThemes.includes(r)}purchaseTheme(r){const n=Xt[r];return n?this.ownsTheme(r)?{success:!1,error:"Already owned"}:this.currencyService.canAfford(n.price)?this.currencyService.spendFish(n.price,`Theme: ${n.name}`)?(this.inventory.ownedThemes.push(r),this.inventory.purchaseHistory.push({themeId:r,purchasedAt:new Date().toISOString(),price:n.price}),this.save(),{success:!0,theme:n}):{success:!1,error:"Purchase failed"}:{success:!1,error:"Insufficient funds"}:{success:!1,error:"Theme not found"}}equipTheme(r){if(!this.ownsTheme(r))return{success:!1,error:"Theme not owned"};this.inventory.equippedTheme=r,this.save();const n=Xt[r];return window.dispatchEvent(new CustomEvent("themeEquipped",{detail:{themeId:r,theme:n}})),{success:!0,theme:n}}getStats(){return{totalThemes:Object.keys(Xt).length,ownedThemes:this.inventory.ownedThemes.length,totalSpent:this.inventory.purchaseHistory.reduce((r,n)=>r+n.price,0),equippedTheme:this.inventory.equippedTheme}}reset(){this.inventory={ownedThemes:["cats"],equippedTheme:"cats",purchaseHistory:[]},this.save()}}const ZS=Object.freeze(Object.defineProperty({__proto__:null,PIECE_THEMES:Xt,ShopService:ng},Symbol.toStringTag,{value:"Module"})),ft={CLASSIC:{id:"classic",name:" Clssico",description:"O Tetris tradicional",icon:"",rules:{gameOver:!0,timeLimit:!1,lineGoal:!1,speedIncrease:!0}},SPRINT:{id:"sprint",name:" Sprint 40",description:"Limpe 40 linhas o mais rpido possvel",icon:"",rules:{gameOver:!1,timeLimit:!1,lineGoal:40,speedIncrease:!1,fixedLevel:1}},ULTRA:{id:"ultra",name:" Ultra 3min",description:"Mximo de pontos em 3 minutos",icon:"",rules:{gameOver:!1,timeLimit:180,lineGoal:!1,speedIncrease:!0}},ZEN:{id:"zen",name:" Zen",description:"Jogue sem presso, sem game over",icon:"",rules:{gameOver:!1,timeLimit:!1,lineGoal:!1,speedIncrease:!1,fixedLevel:1,relaxed:!0}},SURVIVAL:{id:"survival",name:" Sobrevivncia",description:"Comece no nvel 10, quanto tempo aguenta?",icon:"",rules:{gameOver:!0,timeLimit:!1,lineGoal:!1,speedIncrease:!0,startLevel:10}}};class eT{constructor(r){this.gameRepository=r,this.currentMode=ft.CLASSIC,this.modeStats=this.loadModeStats()}loadModeStats(){return this.gameRepository.load("gameModesStats")||this.initializeStats()}initializeStats(){const r={};return Object.keys(ft).forEach(n=>{const s=ft[n];r[s.id]={gamesPlayed:0,bestScore:0,bestTime:s.rules.timeLimit?s.rules.timeLimit:0,bestLines:0,totalGames:0}}),r}save(){this.gameRepository.save("gameModesStats",this.modeStats)}getAllModes(){return Object.values(ft)}getCurrentMode(){return this.currentMode}setMode(r){const n=Object.values(ft).find(s=>s.id===r);return n?(this.currentMode=n,!0):!1}getModeStats(r){return this.modeStats[r]||null}getAllStats(){return{...this.modeStats}}updateStats(r,n){if(!this.modeStats[r])return;const s=this.modeStats[r];s.gamesPlayed+=1,s.totalGames+=1,n.score>s.bestScore&&(s.bestScore=n.score),n.time&&(s.bestTime===0||n.time<s.bestTime)&&(s.bestTime=n.time),n.lines>s.bestLines&&(s.bestLines=n.lines),this.save()}checkGoal(r,n){return r.rules?r.rules.lineGoal?n.score.lines>=r.rules.lineGoal:(r.rules.timeLimit,!1):!1}getRecommendedOrder(){return[ft.CLASSIC,ft.ZEN,ft.SPRINT,ft.ULTRA,ft.SURVIVAL]}reset(){this.modeStats=this.initializeStats(),this.currentMode=ft.CLASSIC,this.save()}}const gp=[{id:"bot1",name:"MeowMaster",score:25e4,level:18,lines:120,country:"BR"},{id:"bot2",name:"NyanCat",score:18e4,level:15,lines:95,country:"US"},{id:"bot3",name:"FelixPro",score:15e4,level:14,lines:85,country:"JP"},{id:"bot4",name:"WhiskerKing",score:12e4,level:12,lines:75,country:"KR"},{id:"bot5",name:"PawsGaming",score:1e5,level:11,lines:68,country:"FR"},{id:"bot6",name:"CatNinja",score:85e3,level:10,lines:60,country:"DE"},{id:"bot7",name:"TigerClaw",score:7e4,level:9,lines:55,country:"BR"},{id:"bot8",name:"LionHeart",score:65e3,level:8,lines:50,country:"UK"},{id:"bot9",name:"CheetahSpeed",score:55e3,level:8,lines:45,country:"ES"},{id:"bot10",name:"PantherShadow",score:5e4,level:7,lines:42,country:"IT"},{id:"bot11",name:"JaguarForce",score:45e3,level:7,lines:40,country:"MX"},{id:"bot12",name:"LynxSwift",score:4e4,level:6,lines:38,country:"CA"},{id:"bot13",name:"OcelotPro",score:35e3,level:6,lines:35,country:"AR"},{id:"bot14",name:"BobcatGamer",score:3e4,level:5,lines:32,country:"AU"},{id:"bot15",name:"CougarRush",score:28e3,level:5,lines:30,country:"NZ"}];class tT{constructor(r,n){this.gameRepository=r,this.playerStatsService=n,this.playerName=this.loadPlayerName(),this.playerId=this.loadPlayerId()}loadPlayerName(){const r=this.gameRepository.load("playerProfile");return(r==null?void 0:r.name)||"Jogador"}loadPlayerId(){let r=this.gameRepository.load("playerProfile");return(!r||!r.id)&&(r={...r,id:`player_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},this.gameRepository.save("playerProfile",r)),r.id}setPlayerName(r){const n=this.gameRepository.load("playerProfile")||{};n.name=r,n.id=this.playerId,this.gameRepository.save("playerProfile",n),this.playerName=r}getPlayerName(){return this.playerName}getGlobalLeaderboard(r=100){const n=this.playerStatsService.getStats(),s={id:this.playerId,name:this.playerName,score:n.highScore,level:n.maxLevel,lines:n.linesCleared,country:"BR",isPlayer:!0},i=[...gp,s];return i.sort((o,a)=>a.score-o.score),i.slice(0,r)}getWeeklyLeaderboard(r=50){return this.getGlobalLeaderboard(r)}getCountryLeaderboard(r="BR",n=50){return this.getGlobalLeaderboard(200).filter(i=>i.country===r).slice(0,n)}getPlayerRank(){const r=this.getGlobalLeaderboard(1e3),n=r.findIndex(s=>s.id===this.playerId);return n===-1?{rank:r.length+1,total:r.length,percentile:0}:{rank:n+1,total:r.length,percentile:Math.floor((r.length-n)/r.length*100)}}getAroundPlayer(r=5){const n=this.getGlobalLeaderboard(1e3),s=n.findIndex(a=>a.id===this.playerId);if(s===-1)return[];const i=Math.max(0,s-r),o=Math.min(n.length,s+r+1);return n.slice(i,o)}submitScore(r){return Promise.resolve({success:!0})}getModeLeaderboard(r,n=50){return this.getGlobalLeaderboard(n)}getFriendsLeaderboard(){return gp.slice(0,5)}getLeaderboardStats(){const r=this.getPlayerRank(),n=this.playerStatsService.getStats();return{playerName:this.playerName,rank:r.rank,total:r.total,percentile:r.percentile,score:n.highScore,level:n.maxLevel,lines:n.linesCleared}}}class rT{constructor(r){this.playerStatsService=r}generateShareText(r){const{score:n,level:s,lines:i,mode:o}=r;return` Cat Tetris${o?` no modo ${o}`:""}!
 Pontuao: ${n.toLocaleString()}
 Nvel: ${s}
 Linhas: ${i}

Consegue me superar? `}generateShareURL(r){const n=window.location.origin+window.location.pathname,s=new URLSearchParams({score:r.score,level:r.level,lines:r.lines});return`${n}?${s.toString()}`}async copyToClipboard(r){try{return await navigator.clipboard.writeText(r),{success:!0}}catch(n){return{success:!1,error:n.message}}}async shareNative(r){if(!navigator.share)return{success:!1,error:"Web Share API not supported"};try{const n=this.generateShareText(r),s=this.generateShareURL(r);return await navigator.share({title:"Minha pontuao no Cat Tetris",text:n,url:s}),{success:!0}}catch(n){return n.name==="AbortError"?{success:!1,error:"Share cancelled"}:{success:!1,error:n.message}}}shareToTwitter(r){const n=this.generateShareText(r),s=this.generateShareURL(r),i=`https://twitter.com/intent/tweet?text=${encodeURIComponent(n)}&url=${encodeURIComponent(s)}`;return window.open(i,"_blank","width=600,height=400"),{success:!0}}shareToFacebook(r){const n=this.generateShareURL(r),s=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(n)}`;return window.open(s,"_blank","width=600,height=400"),{success:!0}}shareToWhatsApp(r){const n=this.generateShareText(r),s=this.generateShareURL(r),i=`${n}

${s}`,o=`https://wa.me/?text=${encodeURIComponent(i)}`;return window.open(o,"_blank"),{success:!0}}async takeScreenshot(r){return{success:!1,error:"Not implemented"}}getAvailableMethods(){return{native:!!navigator.share,clipboard:!!navigator.clipboard,twitter:!0,facebook:!0,whatsapp:!0}}}class nT{constructor(){this.difficulty="medium",this.thinkingTime=100,this.lastDecision=Date.now(),this._actionQueue=[],this._isExpert=!1,this._visualMode=!1,this._visualActionDelay=40}setDifficulty(r){switch(this.difficulty=r,this._isExpert=r.startsWith("expert"),r){case"easy":this.thinkingTime=250;break;case"medium":this.thinkingTime=120;break;case"hard":this.thinkingTime=60;break;case"expert":this.thinkingTime=80;break;default:this.thinkingTime=120}}setVisualMode(r){this._visualMode=r}decideNextMove(r){const n=Date.now(),s=this._visualMode?this._visualActionDelay:this.thinkingTime;if(this._actionQueue.length>0)return n-this.lastDecision<s?null:(this.lastDecision=n,this._actionQueue.shift());if(!this._isExpert&&n-this.lastDecision<s||this._visualMode&&n-this.lastDecision<s)return null;this.lastDecision=n;const{currentPiece:i,board:o,heldPiece:a,canHold:l,nextPieces:c}=r;if(!i)return null;try{const u=(c==null?void 0:c[0])||null;let d=this._findBestMoveWithLookahead(i,o,u),p=!1;if(l){const m=a||u;if(m&&m.type!==i.type){const v=a?u:(c==null?void 0:c[1])||null,y=this._findBestMoveWithLookahead(m,o,v);y&&(!d||y.score>d.score)&&(d=y,p=!0)}}if(!d)this._actionQueue=[{action:"drop"}];else{const m=[];p&&m.push({action:"hold"});const v=p?a||(c==null?void 0:c[0]):i;m.push(...this._buildActionSequence(v,d.rotations,d.targetX,p)),this._actionQueue=m}}catch{this._actionQueue=[{action:"drop"}]}return this._actionQueue.length>0?this._actionQueue.shift():{action:"down"}}_findBestMoveWithLookahead(r,n,s){var u;let i=-1/0,o=null;const a=n.length,l=((u=n[0])==null?void 0:u.length)||10,c=this._isExpert&&s;for(let d=0;d<4;d++){const p=this._rotateShape(r.shape,d),m=p[0].length;for(let v=-2;v<=l-m+2;v++){const y=this._findLandingRow(p,n,v,a,l);if(y===null||y<0)continue;const T=this._placeOnBoard(p,n,v,y);if(!T)continue;const{board:k}=this._simulateClear(T);let x=this._evaluate(T,r);if(c){let f=-1/0;for(let g=0;g<4;g++){const S=this._rotateShape(s.shape,g),C=S[0].length;for(let b=-2;b<=l-C+2;b++){const P=this._findLandingRow(S,k,b,a,l);if(P===null||P<0)continue;const E=this._placeOnBoard(S,k,b,P);if(!E)continue;const M=this._evaluate(E,s);M>f&&(f=M)}}f>-1/0&&(x=x*(1-.3)+f*.3)}this.difficulty==="easy"?x+=(Math.random()-.5)*1200:this.difficulty==="medium"&&Math.random()<.2?x+=(Math.random()-.5)*500:this.difficulty==="expert"&&Math.random()<.12&&(x+=(Math.random()-.5)*600),x>i&&(i=x,o={rotations:d,targetX:v,score:i})}}return o}_evaluate(r,n){switch(this.difficulty){case"expert":return this._evalSurvival(r,n);default:return this._evalDefault(r,n)}}_simulateClear(r){const n=r[0].length,s=[];let i=0;for(const o of r)o.every(a=>a!=null)?i++:s.push([...o]);for(;s.length<r.length;)s.unshift(new Array(n).fill(null));return{board:s,cleared:i}}_evalDefault(r,n){const{board:s,cleared:i}=this._simulateClear(r);let o=0;return o+=i*800,o-=this._getHeight(s)*45,o-=this._countHoles(s)*400,o-=this._getBumpiness(s)*35,o-=this._getRowTransitions(s)*15,o-=this._getColTransitions(s)*10,this.difficulty==="hard"&&(o+=i>=2?i*400:0,o-=this._countHoles(s)*200,o-=this._getCoveredHoles(s)*100,o-=this._getHeight(s)*30,this._countHoles(s)===0&&(o+=300),this._getHeight(s)<=6&&(o+=200)),o}_evalSurvival(r){const{board:n,cleared:s}=this._simulateClear(r),i=this._getHeight(n),o=this._countHoles(n),a=this._getBumpiness(n),l=this._getCoveredHoles(n),c=this._getColumnHeights(n),u=Math.max(...c),d=Math.min(...c),p=this._getRowTransitions(n),m=this._getColTransitions(n),v=this._getWellDepths(n);let y=0;y+=s*5e3,s>=2&&(y+=s*s*1500),s===3&&(y+=8e3),s===4&&(y+=25e3),i>10&&(y+=s*8e3,s>=2&&(y+=s*5e3)),i>14&&(y+=s*2e4),y-=i*i*25,y-=i*300,y-=u*u*15,y-=o*4e3,y-=o*o*500,y-=l*1200,y-=a*250;const T=c.reduce((g,S)=>g+S,0)/c.length,k=c.reduce((g,S)=>g+(S-T)**2,0)/c.length;y-=k*80;const x=u-d;x>4&&(y-=(x-4)*800),x>6&&(y-=(x-6)*1500),y-=p*60,y-=m*50,y-=v*200,i===0?y+=15e3:i<=2?y+=6e3:i<=4?y+=3e3:i<=6&&(y+=1500),o===0&&(y+=5e3),o===0&&i<=4&&(y+=3e3),a<=1?y+=2e3:a<=3&&(y+=800),i>10&&(y-=(i-10)*2e3),i>12&&(y-=(i-12)*(i-12)*800),i>14&&(y-=(i-14)*(i-14)*1500),i>16&&(y-=6e4),i>18&&(y-=2e5);const f=this._countNearCompleteLines(n);return i>8&&(y+=f*1500),y}_evalCombo(r,n){const{board:s,cleared:i}=this._simulateClear(r),o=s[0].length,a=this._getHeight(s),l=this._countHoles(s),c=this._getBumpiness(s),u=this._getCoveredHoles(s);let d=0;i===1?d+=6e3:i===2?d+=3500:i===3?d+=2500:i===4&&(d+=2e3);let p=0,m=0,v=0;const y={};for(let k=s.length-1;k>=0;k--){let x=0,f=-1;for(let g=0;g<o;g++)s[k][g]!=null?x++:f=g;x===o-1?(p++,m++,v=Math.max(v,m),f>=0&&(y[f]=(y[f]||0)+1)):x>=o-2?(p+=.5,m++,v=Math.max(v,m)):m=0}d+=p*2500,d+=v*v*600;let T=0;for(const k in y)y[k]>T&&(T=y[k]);return T>=2&&(d+=T*T*500),d-=l*2500,d-=u*700,d-=a*100,d-=c*120,d-=this._getRowTransitions(s)*35,d-=this._getColTransitions(s)*25,l===0&&(d+=1500),a<=6&&(d+=600),a>12&&(d-=(a-12)*800),a>15&&(d-=(a-15)*2e3),a>18&&(d-=25e3),d}_evalTetris(r,n){const{board:s,cleared:i}=this._simulateClear(r),o=s[0].length,a=s.length,l=this._getColumnHeights(s);this._getHeight(s);const c=this._countHoles(s),u=this._getCoveredHoles(s);let d=0;const p=o-1;i===4?d+=2e5:i>0&&(d-=i*15e3);let m=0;for(let S=0;S<a;S++)s[S][p]!=null&&m++;d-=m*6e3;const v=[];for(let S=0;S<o;S++)S!==p&&v.push(l[S]);const y=v.reduce((S,C)=>S+C,0)/v.length,T=y-l[p];d+=Math.max(0,T)*600,T>=4?d+=25e3:T>=3?d+=12e3:T>=2?d+=5e3:T>=1&&(d+=1e3);let k=0;for(let S=0;S<v.length-1;S++)k+=Math.abs(v[S]-v[S+1]);d-=k*500;const x=v.reduce((S,C)=>S+(C-y)**2,0)/v.length;d-=x*150,k===0?d+=6e3:k<=1?d+=2500:k<=2&&(d+=800);const f=this._countNearFullLinesExcluding(s,p);d+=f*5e3,f>=4?d+=2e4:f>=3?d+=8e3:f>=2&&(d+=3e3);for(let S=0;S<o;S++){if(S===p)continue;const C=l[S],b=S>0?l[S-1]:a,P=S<o-1?l[S+1]:a,E=Math.min(b,P)-C;E>1&&(d-=E*2e3)}n.type==="I"&&(i===4?d+=5e4:T<4&&(d-=2e4)),d-=c*5e3,d-=u*2e3,d-=this._getRowTransitions(s)*40,d-=this._getColTransitions(s)*30;const g=Math.max(...v);return g>14&&(d-=(g-14)*3e3),g>16&&(d-=(g-16)*6e3),g>18&&(d-=4e4),c===0&&(d+=4e3),y<=6&&(d+=1500),d}_countLines(r){let n=0;for(const s of r)s.every(i=>i!=null)&&n++;return n}_getHeight(r){for(let n=0;n<r.length;n++)if(r[n].some(s=>s!=null))return r.length-n;return 0}_countHoles(r){let n=0;const s=r[0].length;for(let i=0;i<s;i++){let o=!1;for(let a=0;a<r.length;a++)r[a][i]!=null?o=!0:o&&n++}return n}_getBumpiness(r){const n=this._getColumnHeights(r);let s=0;for(let i=0;i<n.length-1;i++)s+=Math.abs(n[i]-n[i+1]);return s}_getBumpinessExcluding(r,n){const s=this._getColumnHeights(r);let i=0;for(let o=0;o<s.length-1;o++)o===n||o+1===n||(i+=Math.abs(s[o]-s[o+1]));return i}_getColumnHeights(r){const n=r[0].length,s=[];for(let i=0;i<n;i++){let o=!1;for(let a=0;a<r.length;a++)if(r[a][i]!=null){s.push(r.length-a),o=!0;break}o||s.push(0)}return s}_getFlatness(r){const n=this._getColumnHeights(r),s=n.reduce((o,a)=>o+a,0)/n.length,i=n.reduce((o,a)=>o+(a-s)**2,0)/n.length;return Math.max(0,100-i)}_getWellDepths(r){const n=this._getColumnHeights(r);let s=0;for(let i=0;i<n.length;i++){const o=i>0?n[i-1]:20,a=i<n.length-1?n[i+1]:20,l=Math.min(o,a)-n[i];l>0&&(s+=l)}return s}_getRowTransitions(r){let n=0;const s=r[0].length;for(let i=0;i<r.length;i++){for(let o=0;o<s-1;o++){const a=r[i][o]!=null,l=r[i][o+1]!=null;a!==l&&n++}r[i][0]==null&&n++,r[i][s-1]==null&&n++}return n}_getColTransitions(r){let n=0;const s=r[0].length;for(let i=0;i<s;i++){for(let o=0;o<r.length-1;o++){const a=r[o][i]!=null,l=r[o+1][i]!=null;a!==l&&n++}r[r.length-1][i]==null&&n++}return n}_getCoveredHoles(r){let n=0;const s=r[0].length;for(let i=0;i<s;i++){let o=0;for(let a=0;a<r.length;a++)r[a][i]!=null?o++:o>0&&(n+=o)}return n}_countNearCompleteLines(r){let n=0;for(const s of r){const i=s.filter(o=>o!=null).length;i>=s.length-1&&i<s.length&&n++}return n}_countNearFullLinesExcluding(r,n){let s=0;for(const i of r){let o=0,a=-1;for(let l=0;l<i.length;l++)i[l]==null&&(o++,a=l);o===1&&a===n&&s++}return s}_buildActionSequence(r,n,s,i){var d;const o=[],a=n%4;for(let p=0;p<a;p++)o.push({action:"rotate"});const l=i?3:((d=r.position)==null?void 0:d.x)??3,c=s-l,u=c>0?"right":"left";for(let p=0;p<Math.abs(c);p++)o.push({action:u});return o.push({action:"drop"}),o}_rotateShape(r,n){let s=r;for(let i=0;i<n%4;i++)s=s[0].map((o,a)=>s.map(l=>l[a]).reverse());return s}_findLandingRow(r,n,s,i,o){for(let a=-r.length;a<i;a++)if(this._collides(r,n,s,a+1,i,o))return a;return i-r.length}_collides(r,n,s,i,o,a){for(let l=0;l<r.length;l++)for(let c=0;c<r[0].length;c++){if(!r[l][c])continue;const u=s+c,d=i+l;if(u<0||u>=a||d>=o||d>=0&&n[d][u]!=null)return!0}return!1}_placeOnBoard(r,n,s,i){const o=n.length,a=n[0].length,l=n.map(c=>[...c]);for(let c=0;c<r.length;c++)for(let u=0;u<r[0].length;u++){if(!r[c][u])continue;const d=s+u,p=i+c;if(d<0||d>=a||p<0||p>=o||l[p][d]!=null)return null;l[p][d]=1}return l}getDifficulties(){return[{id:"easy",name:"Fcil",emoji:"",description:"IA iniciante"},{id:"medium",name:"Mdio",emoji:"",description:"IA intermediria"},{id:"hard",name:"Difcil",emoji:"",description:"IA avanada"},{id:"expert",name:"Expert",emoji:"",description:"Mantm o board o mais baixo possvel"}]}}class sT{constructor(r){this.gameRepository=r,this.currentMode=null,this.players=[],this.matchState=null}startLocalMatch(r="Jogador 1",n="Jogador 2"){return this.currentMode="1v1-local",this.players=[{id:"p1",name:r,score:0,level:1,lines:0,gameState:null,alive:!0},{id:"p2",name:n,score:0,level:1,lines:0,gameState:null,alive:!0}],this.matchState={startTime:Date.now(),status:"playing",winner:null},{mode:this.currentMode,players:this.players,matchId:`local_${Date.now()}`}}startAIMatch(r="Jogador",n="medium"){return this.currentMode="vs-ai",this.players=[{id:"p1",name:r,score:0,level:1,lines:0,gameState:null,alive:!0,isHuman:!0},{id:"ai",name:this.getAIName(n),score:0,level:1,lines:0,gameState:null,alive:!0,isAI:!0,difficulty:n}],this.matchState={startTime:Date.now(),status:"playing",winner:null,aiDifficulty:n},{mode:"vsAI",aiDifficulty:n,players:this.players,matchId:`ai_${Date.now()}`}}updatePlayerState(r,n){var i,o;const s=this.players.find(a=>a.id===r);s&&(s.gameState=n,s.score=((i=n.score)==null?void 0:i.points)||0,s.level=((o=n.score)==null?void 0:o.level)||1,s.lines=n.linesCleared||0,s.alive=!n.gameOver,this.checkWinCondition())}checkWinCondition(){const r=this.players.filter(n=>n.alive);return r.length===1?(this.matchState.status="finished",this.matchState.winner=r[0],this.matchState.endTime=Date.now(),this.matchState.duration=this.matchState.endTime-this.matchState.startTime,this.saveMatchResult(),{hasWinner:!0,winner:this.matchState.winner}):{hasWinner:!1}}saveMatchResult(){const r=this.gameRepository.load("multiplayerStats")||{localMatches:0,aiMatches:0,wins:0,losses:0,draws:0,totalTime:0};this.currentMode==="1v1-local"?r.localMatches++:this.currentMode==="vs-ai"&&(r.aiMatches++,this.matchState.winner.isHuman?r.wins++:this.matchState.winner.isAI&&r.losses++),r.totalTime+=this.matchState.duration,this.gameRepository.save("multiplayerStats",r)}getStats(){const r=this.gameRepository.load("multiplayerStats")||{localMatches:0,aiMatches:0,wins:0,losses:0,draws:0,totalTime:0};return{...r,winRate:r.aiMatches>0?(r.wins/r.aiMatches*100).toFixed(1):0,avgMatchTime:r.localMatches+r.aiMatches>0?Math.floor(r.totalTime/(r.localMatches+r.aiMatches)/1e3):0}}getMatchState(){return{...this.matchState,players:this.players,mode:this.currentMode}}endMatch(){const r={mode:this.currentMode,players:this.players,winner:this.matchState.winner,duration:Date.now()-this.matchState.startTime};return this.currentMode=null,this.players=[],this.matchState=null,r}startAIvsAIMatch(r="expert",n="expert"){return this.currentMode="ai-vs-ai",this.players=[{id:"ai1",name:this.getAIName(r),score:0,level:1,lines:0,gameState:null,alive:!0,isAI:!0,difficulty:r},{id:"ai2",name:this.getAIName(n),score:0,level:1,lines:0,gameState:null,alive:!0,isAI:!0,difficulty:n}],this.matchState={startTime:Date.now(),status:"playing",winner:null,ai1Difficulty:r,ai2Difficulty:n},{mode:"aiVsAI",ai1Difficulty:r,ai2Difficulty:n,players:this.players,matchId:`aivai_${Date.now()}`}}getAIName(r){return{easy:" MeowBot Iniciante",medium:" CatAI Intermedirio",hard:" FelineBot Avanado",expert:" NyanMaster Survival"}[r]||"IA"}getAvailableModes(){return[{id:"vs-ai",name:"vs IA",emoji:"",description:"Enfrente o bot",players:1,type:"ai",difficulties:["easy","medium","hard","expert"]},{id:"ai-vs-ai",name:"IA vs IA",emoji:"",description:"Assista duas IAs se enfrentando (debug)",players:0,type:"debug"}]}}const Ct={FUNDAMENTALS:"fundamentals",INTERMEDIATE:"intermediate",ADVANCED:"advanced",PRO:"pro"};class iT{constructor(r){this.gameRepository=r,this.lessons=this._buildLessons(),this.progress=this._loadProgress()}_buildLessons(){return[{id:1,module:Ct.FUNDAMENTALS,title:"Movimentao",description:"Mover, rotacionar e dropar peas",difficulty:"beginner",estimatedTime:"2 min",intro:["   Setas movem a pea para os lados","  Seta para cima rotaciona a pea","  Seta para baixo = soft drop (desce rpido)","  Espao = hard drop (cai instantaneamente)","A sombra mostra onde a pea vai pousar"],practice:{objective:"Limpe 3 linhas usando os controles",validate:r=>{const n=r.linesCleared||0;return{complete:n>=3,progress:Math.min(1,n/3),feedback:n>=3?" timo! Voc dominou os controles!":`${n}/3 linhas`}}},rewards:{fishCoins:100,xp:50,badge:"first_move",unlocks:[2]}},{id:2,module:Ct.FUNDAMENTALS,title:"Hold Piece",description:"Segure uma pea para usar depois",difficulty:"beginner",estimatedTime:"2 min",intro:["Aperte C ou Shift para guardar a pea atual","A pea guardada aparece no canto esquerdo","Voc pode trocar 1 vez por turno","Dica: guarde peas valiosas como I e T","Isso ajuda quando a pea atual no encaixa bem"],practice:{objective:"Use o hold e limpe 3 linhas",validate:r=>{const n=r.hasUsedHold,s=r.linesCleared||0;return n?{complete:s>=3,progress:Math.min(1,s/3),feedback:s>=3?" Hold dominado!":` Hold usado! ${s}/3 linhas`}:{complete:!1,progress:0,feedback:"Aperte C para segurar a pea!"}}},rewards:{fishCoins:100,xp:50,badge:"hold_learner",unlocks:[3]}},{id:3,module:Ct.FUNDAMENTALS,title:"Planejamento",description:"Use o painel Next para planejar jogadas",difficulty:"beginner",estimatedTime:"3 min",intro:["O painel NEXT mostra as prximas peas","Olhe as prximas 2-3 peas antes de agir","Se vem uma pea I, deixe espao vertical","Pensar  frente = menos buracos = mais linhas","Tente limpar muitas linhas sem criar buracos!"],practice:{objective:"Limpe 8 linhas (planeje bem!)",validate:r=>{const n=r.linesCleared||0;return{complete:n>=8,progress:Math.min(1,n/8),feedback:n>=8?" Excelente planejamento!":`${n}/8 linhas`}}},rewards:{fishCoins:150,xp:75,badge:"planner",unlocks:[4]}},{id:4,module:Ct.INTERMEDIATE,title:"Combos",description:"Limpe linhas consecutivas para bnus",difficulty:"intermediate",estimatedTime:"4 min",intro:["Combo = limpar linhas em peas consecutivas","Cada combo seguido d +50 pontos de bnus","Combo 5x = +250 pontos extras!","Dica: empilhe baixo e limpe 1 linha por vez","Foque em manter o ritmo, sem pausas"],practice:{objective:"Consiga um combo de 3 ou mais",validate:r=>{const n=r.currentCombo||0,s=r.maxCombo||n,i=Math.max(n,s);return{complete:i>=3,progress:Math.min(1,i/3),feedback:i>=3?" Combo master!":`Melhor combo: ${i}x (precisa 3)`}}},rewards:{fishCoins:200,xp:100,badge:"combo_starter",unlocks:[5]}},{id:5,module:Ct.INTERMEDIATE,title:"Tetris (4 linhas)",description:"Limpe 4 linhas de uma vez para 800pts",difficulty:"intermediate",estimatedTime:"5 min",intro:["Tetris = limpar 4 linhas ao mesmo tempo","Vale 800 pontos  o clear mais valioso!","Deixe uma coluna vazia (geralmente a da direita)","Preencha as outras 9 colunas em 4 linhas","Use a pea I (barra) para completar o Tetris"],practice:{objective:"Alcance 2.000 pontos",validate:r=>{const n=r.score||0;return{complete:n>=2e3,progress:Math.min(1,n/2e3),feedback:n>=2e3?" Pontuao alta!":`${n.toLocaleString()}/2.000 pts`}}},rewards:{fishCoins:250,xp:125,badge:"tetris_scorer",unlocks:[6]}},{id:6,module:Ct.ADVANCED,title:"T-Spin",description:"Rotacione o T no ltimo momento para bnus",difficulty:"advanced",estimatedTime:"6 min",intro:["T-Spin = rotacionar a pea T em espao apertado","Vale pontos extras e ativa back-to-back!",'Crie um buraco em forma de "T" na pilha',"Deslize a pea T para dentro e rotacione"," difcil, mas d muitos pontos!"],practice:{objective:"Faa pelo menos 1 T-Spin e 4.000 pontos",validate:r=>{const n=r.tSpins||0,s=r.score||0;return n===0?{complete:!1,progress:Math.min(.5,s/8e3),feedback:"Tente rotacionar o T em espao apertado!"}:{complete:s>=4e3,progress:Math.min(1,s/4e3),feedback:s>=4e3?` T-Spin pro! (${n} T-Spins)`:` T-Spin! ${s.toLocaleString()}/4.000 pts`}}},rewards:{fishCoins:400,xp:250,badge:"tspin_learner",unlocks:[7]}},{id:7,module:Ct.ADVANCED,title:"Back-to-Back",description:"Tetris ou T-Spin seguidos do 50% bnus",difficulty:"advanced",estimatedTime:"6 min",intro:["Back-to-Back = dois clears difceis seguidos","Conta como: Tetris (4 linhas) ou T-Spin","Cada B2B seguido d +50% de pontos!","Limpar 1-3 linhas normais quebra a cadeia","Combine T-Spins e Tetris para pontuao mxima"],practice:{objective:"Alcance 6.000 pontos com back-to-back",validate:r=>{const n=r.score||0,s=r.backToBackActive;return{complete:n>=6e3,progress:Math.min(1,n/6e3),feedback:n>=6e3?" Back-to-back dominado!":s?` B2B ativo! ${n.toLocaleString()}/6.000 pts`:`${n.toLocaleString()}/6.000 pts`}}},rewards:{fishCoins:500,xp:300,badge:"b2b_learner",unlocks:[8]}},{id:8,module:Ct.PRO,title:"Desafio Final",description:"Prove que domina o Tetris!",difficulty:"pro",estimatedTime:"10 min",intro:["Use TUDO que aprendeu at aqui","Movimentao, hold, combos, T-Spins, B2B...","O objetivo  alcanar uma pontuao alta","No tenha pressa  planeje cada jogada","Boa sorte, mestre! "],practice:{objective:"Alcance 15.000 pontos",validate:r=>{const n=r.score||0;return{complete:n>=15e3,progress:Math.min(1,n/15e3),feedback:n>=15e3?" MESTRE DO TETRIS!":`${n.toLocaleString()}/15.000 pts`}}},rewards:{fishCoins:1e3,xp:500,badge:"tetris_master",unlocks:[]}}]}_loadProgress(){var n,s;return((s=(n=this.gameRepository)==null?void 0:n.load)==null?void 0:s.call(n,"tutorialProgress"))||{completedLessons:[],unlockedLessons:[1],badges:[],totalXP:0,currentModule:Ct.FUNDAMENTALS}}_saveProgress(){var r,n;(n=(r=this.gameRepository)==null?void 0:r.save)==null||n.call(r,"tutorialProgress",this.progress)}getProgress(){return this.progress}getLessonById(r){return this.lessons.find(n=>n.id===r)}getAvailableLessons(){return this.lessons.filter(r=>this.progress.unlockedLessons.includes(r.id))}completeLesson(r,n){var i;const s=this.getLessonById(r);return s?(this.progress.completedLessons.includes(r)||this.progress.completedLessons.push(r),(s.rewards.unlocks||[]).forEach(o=>{this.progress.unlockedLessons.includes(o)||this.progress.unlockedLessons.push(o)}),s.rewards.badge&&!this.progress.badges.includes(s.rewards.badge)&&this.progress.badges.push(s.rewards.badge),this.progress.totalXP+=s.rewards.xp||0,this._saveProgress(),{completed:!0,lessonId:r,lessonTitle:s.title,rewards:s.rewards,nextLesson:((i=s.rewards.unlocks)==null?void 0:i[0])||null,performance:n}):null}resetProgress(){this.progress={completedLessons:[],unlockedLessons:[1],badges:[],totalXP:0,currentModule:Ct.FUNDAMENTALS},this._saveProgress()}}function oT(e=new ES){return e.registerSingleton("gameRepository",()=>new jS),e.registerSingleton("settingsService",()=>new GS),e.registerSingleton("statisticsService",()=>new WS),e.registerSingleton("scoringService",()=>new rg),e.registerSingleton("pieceFactory",()=>new zS),e.registerSingleton("movementStrategyFactory",()=>new HS),e.registerSingleton("keyboardInputService",()=>new KS),e.registerSingleton("playerStatsService",r=>new XS(r),["gameRepository"]),e.registerSingleton("currencyService",r=>new JS(r),["gameRepository"]),e.registerSingleton("missionsService",(r,n)=>new QS(r,n),["gameRepository","currencyService"]),e.registerSingleton("achievementsService",(r,n,s)=>new YS(r,n,s),["gameRepository","currencyService","playerStatsService"]),e.registerSingleton("shopService",(r,n)=>new ng(r,n),["gameRepository","currencyService"]),e.registerSingleton("gameModesService",r=>new eT(r),["gameRepository"]),e.registerSingleton("leaderboardService",(r,n)=>new tT(r,n),["gameRepository","playerStatsService"]),e.registerSingleton("shareService",r=>new rT(r),["playerStatsService"]),e.registerSingleton("aiOpponentService",()=>new nT),e.registerSingleton("multiplayerService",r=>new sT(r),["gameRepository"]),e.registerSingleton("tutorialService",r=>new iT(r),["gameRepository"]),e.registerSingleton("gameService",(r,n,s,i)=>new DS(r,n,s,i),["pieceFactory","movementStrategyFactory","gameRepository","scoringService"]),e}const G=oT();function aT(){const[e,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{try{const l=G.resolve("currencyService");r(l.getCurrency()),s(!1);const c=()=>{r(l.getCurrency())};return window.addEventListener("currencyUpdated",c),()=>{window.removeEventListener("currencyUpdated",c)}}catch{s(!1)}},[]);const i=w.useCallback((l,c)=>{try{const u=G.resolve("currencyService"),d=u.addFish(l,c);return d&&(r(u.getCurrency()),window.dispatchEvent(new Event("currencyUpdated"))),d}catch{return!1}},[]),o=w.useCallback((l,c)=>{try{const u=G.resolve("currencyService"),d=u.spendFish(l,c);return d&&(r(u.getCurrency()),window.dispatchEvent(new Event("currencyUpdated"))),d}catch{return!1}},[]),a=w.useCallback(l=>{try{return G.resolve("currencyService").canAfford(l)}catch{return!1}},[]);return{currency:e,loading:n,addFish:i,spendFish:o,canAfford:a}}function lT({className:e=""}){const{currency:r,loading:n}=aT();return n||!r?h.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[h.jsx("div",{className:"text-2xl",children:""}),h.jsx("div",{className:"text-white/60",children:"..."})]}):h.jsxs(N.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`flex items-center gap-2 bg-black/30 px-4 py-2 rounded-lg backdrop-blur-sm ${e}`,children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx(N.span,{initial:{scale:1.2,color:"#fbbf24"},animate:{scale:1,color:"#ffffff"},transition:{duration:.3},className:"text-xl font-bold",children:r.fish.toLocaleString()},r.fish)]})}function cT({onStartGame:e,onNewGame:r,onShowSettings:n,onShowShop:s,onShowMissions:i,onShowAchievements:o,onShowMultiplayer:a,onShowTutorial:l,onShowTutorialHub:c,onShowAIShowcase:u,onShowCreatorMode:d,hasActiveGame:p,gameState:m,hasOverlayOpen:v}){var U,I,we;const[y,T]=w.useState(!0),[k,x]=w.useState(!1),f=PS(),{t:g,language:S,setLanguage:C}=$e(),b=w.useCallback(j=>{var q;y&&((q=f.playMenuSelect)==null||q.call(f)),j==null||j()},[y,f]),P=w.useMemo(()=>{const j=[];return p?(j.push({id:"continue",action:e}),j.push({id:"newGame",action:r})):j.push({id:"play",action:e}),j.push({id:"vsAI",action:a}),j.push({id:"tutorial",action:c}),j.push({id:"creator",action:d}),j.push({id:"aiExpert",action:u}),j.push({id:"shop",action:s}),j.push({id:"missions",action:i}),j.push({id:"achievements",action:o}),j.push({id:"settings",action:n}),j},[p,e,r,a,c,d,u,s,i,o,n]),E=w.useMemo(()=>p?{0:{up:7,down:2,left:1,right:1},1:{up:8,down:3,left:0,right:0},2:{up:0,down:4,left:3,right:3},3:{up:1,down:5,left:2,right:2},4:{up:2,down:7,left:5,right:5},5:{up:3,down:8,left:4,right:4},6:{up:4,down:0,left:9,right:7},7:{up:4,down:0,left:6,right:8},8:{up:5,down:1,left:7,right:9},9:{up:5,down:1,left:8,right:6}}:{0:{up:6,down:1,left:0,right:0},1:{up:0,down:3,left:2,right:2},2:{up:0,down:4,left:1,right:1},3:{up:1,down:6,left:4,right:4},4:{up:2,down:7,left:3,right:3},5:{up:3,down:0,left:8,right:6},6:{up:3,down:0,left:5,right:7},7:{up:4,down:0,left:6,right:8},8:{up:4,down:0,left:7,right:5}},[p]),M=w.useCallback(j=>{P[j]&&b(P[j].action)},[P,b]),{selectedIndex:_}=Vs({itemCount:P.length,onConfirm:M,active:!v&&!k,wrap:!0,navMap:E}),B=w.useCallback(j=>{var q;return((q=P[_])==null?void 0:q.id)===j},[P,_]);w.useEffect(()=>{const j=q=>{q.key==="Enter"&&(q.preventDefault(),b(e))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[b,e]);const L=(j=0)=>({initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35,delay:j,ease:"easeOut"}});return h.jsxs("div",{className:"h-screen bg-gradient-to-b from-slate-900 via-purple-950 to-slate-900 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-1/4 -left-32 w-64 h-64 bg-purple-600/10 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute bottom-1/4 -right-32 w-64 h-64 bg-blue-600/10 rounded-full blur-3xl"})]}),h.jsx("div",{className:"fixed top-3 right-3 z-50",children:h.jsx(lT,{})}),h.jsxs("div",{className:"w-full max-w-sm relative z-10 flex flex-col items-center",children:[h.jsxs(N.div,{...L(0),className:"text-center mb-4",children:[h.jsx("h1",{className:"text-4xl font-extrabold text-white tracking-tight drop-shadow-lg select-none",children:g("menu.title")}),h.jsx("p",{className:"text-white/50 text-xs mt-1",children:g("menu.subtitle")})]}),h.jsx(N.div,{...L(.1),className:"w-full space-y-2 mb-4",children:p?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>b(e),className:`w-full py-4 rounded-xl bg-emerald-500 hover:bg-emerald-400 active:scale-[0.98] text-white font-bold text-lg shadow-lg shadow-emerald-500/20 transition-all duration-150 ${B("continue")?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-slate-900 scale-[1.02]":""}`,children:[g("menu.continue"),h.jsx("span",{className:"block text-emerald-100/70 text-xs font-normal mt-0.5",children:g("menu.continueInfo",{level:((U=m==null?void 0:m.score)==null?void 0:U.level)||1,points:(((I=m==null?void 0:m.score)==null?void 0:I.points)||0).toLocaleString()})})]}),h.jsx("button",{onClick:()=>b(r),className:`w-full py-3 rounded-xl bg-white/10 hover:bg-white/15 active:scale-[0.98] text-white font-semibold text-base border border-white/10 transition-all duration-150 ${B("newGame")?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-slate-900 scale-[1.02]":""}`,children:g("menu.newGame")})]}):h.jsx("button",{onClick:()=>b(e),className:`w-full py-5 rounded-xl bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-400 hover:to-green-400 active:scale-[0.98] text-white font-bold text-xl shadow-lg shadow-emerald-500/25 transition-all duration-150 ${B("play")?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-slate-900 scale-[1.02]":""}`,children:g("menu.play")})}),h.jsxs(N.div,{...L(.18),className:"w-full grid grid-cols-2 gap-2 mb-4",children:[h.jsx(li,{icon:"",label:g("menu.vsAI"),sub:g("menu.vsAISub"),onClick:()=>b(a),selected:B("vsAI")}),h.jsx(li,{icon:"",label:g("menu.tutorial"),sub:g("menu.tutorialSub"),onClick:()=>b(c),selected:B("tutorial")}),h.jsx(li,{icon:"",label:g("menu.creator"),sub:g("menu.creatorSub"),onClick:()=>b(d),selected:B("creator")}),h.jsx(li,{icon:"",label:g("menu.aiExpert"),sub:g("menu.aiExpertSub"),onClick:()=>b(u),selected:B("aiExpert")})]}),h.jsxs(N.div,{...L(.25),className:"w-full grid grid-cols-4 gap-1 mb-4",children:[h.jsx(ci,{icon:"",label:g("menu.shop"),onClick:()=>b(s),selected:B("shop")}),h.jsx(ci,{icon:"",label:g("menu.missions"),onClick:()=>b(i),selected:B("missions")}),h.jsx(ci,{icon:"",label:g("menu.achievements"),onClick:()=>b(o),selected:B("achievements")}),h.jsx(ci,{icon:"",label:g("menu.settings"),onClick:()=>b(n),selected:B("settings")})]}),h.jsxs(N.div,{...L(.3),className:"flex items-center gap-3 text-xs text-white/25",children:[h.jsx("button",{onClick:()=>T(!y),className:"hover:text-white/50 transition-colors",children:y?"":""}),h.jsxs("button",{onClick:()=>x(j=>!j),className:"hover:text-white/50 transition-colors flex items-center gap-1",children:[((we=kl.find(j=>j.code===S))==null?void 0:we.flag)||""," ",S.toUpperCase()]}),h.jsx("span",{className:"select-none",children:"v1.0"})]}),k&&h.jsx(N.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"absolute bottom-16 bg-slate-800/95 backdrop-blur-sm rounded-xl border border-white/10 p-2 z-50 shadow-xl",children:kl.map(j=>h.jsx("button",{onClick:()=>{C(j.code),x(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${S===j.code?"bg-purple-600/40 text-white font-semibold":"text-white/70 hover:bg-white/10 hover:text-white"}`,children:j.label},j.code))})]})]})}function li({icon:e,label:r,sub:n,onClick:s,selected:i}){return h.jsxs("button",{onClick:s,className:`flex flex-col items-center text-center p-3 rounded-xl bg-white/[0.06] hover:bg-white/[0.1] border border-white/[0.06] hover:border-white/[0.12] active:scale-[0.97] transition-all duration-150 ${i?"ring-2 ring-yellow-400 bg-white/[0.12] border-yellow-400/30 scale-[1.03]":""}`,children:[h.jsx("span",{className:"text-2xl mb-1",children:e}),h.jsx("span",{className:"text-white font-semibold text-sm leading-tight",children:r}),h.jsx("span",{className:"text-white/40 text-[10px] mt-0.5 leading-tight",children:n})]})}function ci({icon:e,label:r,onClick:n,selected:s}){return h.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg hover:bg-white/[0.07] active:scale-95 transition-all duration-150 ${s?"ring-2 ring-yellow-400 bg-white/[0.1] scale-105":""}`,children:[h.jsx("span",{className:"text-lg",children:e}),h.jsx("span",{className:"text-white/40 text-[10px] leading-none",children:r})]})}function sg(){const[e,r]=w.useState([]),[n,s]=w.useState(!0);w.useEffect(()=>{try{const a=G.resolve("missionsService");r(a.getMissions()),s(!1);const l=()=>{r(a.getMissions())},c=({linesCleared:v})=>{a.incrementProgress(ae.CLEAR_LINES,v),v===4&&a.incrementProgress(ae.TETRIS_CLEAR,1),l()},u=()=>{a.incrementProgress(ae.T_SPINS,1),l()},d=()=>{a.incrementProgress(ae.PLACE_PIECES,1),l()},p=({score:v,level:y,combo:T})=>{v&&a.updateProgress(ae.SCORE_POINTS,v),y&&a.updateProgress(ae.REACH_LEVEL,y),T&&a.updateProgress(ae.COMBOS,T),l()},m=()=>{a.incrementProgress(ae.BACK_TO_BACK,1),l()};return R.on(F.LINE_CLEARED,c),R.on(F.T_SPIN,u),R.on(F.PIECE_PLACED,d),R.on(F.SCORE_UPDATED,p),R.on(F.BACK_TO_BACK,m),()=>{R.off(F.LINE_CLEARED,c),R.off(F.T_SPIN,u),R.off(F.PIECE_PLACED,d),R.off(F.SCORE_UPDATED,p),R.off(F.BACK_TO_BACK,m)}}catch{s(!1)}},[]),w.useEffect(()=>{if(n)return;const a=setInterval(()=>{try{const l=G.resolve("missionsService"),u=G.resolve("statisticsService").getStats();u.playTime>0&&(l.updateProgress(ae.SURVIVE_TIME,u.playTime),r(l.getMissions()))}catch{}},1e3);return()=>clearInterval(a)},[n]);const i=w.useCallback(a=>{try{const l=G.resolve("missionsService"),c=l.claimReward(a);return c.success&&(r(l.getMissions()),window.dispatchEvent(new Event("currencyUpdated"))),c}catch(l){return{success:!1,error:l.message}}},[]),o=w.useCallback(()=>{try{return G.resolve("missionsService").getStats()}catch{return null}},[]);return{missions:e,loading:n,claimReward:i,getMissionsStats:o}}function ig({trigger:e,duration:r=3e3,message:n}){const[s,i]=w.useState(!1),[o,a]=w.useState([]);return w.useEffect(()=>{if(e){i(!0);const l=[];for(let c=0;c<50;c++)l.push({id:c,x:Math.random()*100,y:-10,rotation:Math.random()*360,color:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*6)],size:Math.random()*10+5,delay:Math.random()*.5});a(l),setTimeout(()=>{i(!1),a([])},r)}},[e,r]),s?h.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[9999] overflow-hidden",children:[o.map(l=>h.jsx(N.div,{initial:{x:`${l.x}vw`,y:l.y,rotate:l.rotation,opacity:1},animate:{y:"110vh",rotate:l.rotation+720,opacity:0},transition:{duration:2+Math.random(),delay:l.delay,ease:"easeIn"},style:{position:"absolute",width:l.size,height:l.size,backgroundColor:l.color,borderRadius:Math.random()>.5?"50%":"0"}},l.id)),n&&h.jsx(N.div,{initial:{scale:0,y:"50vh"},animate:{scale:1,y:"40vh"},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:200,damping:20},className:"absolute inset-x-0 flex justify-center",children:h.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-bold text-4xl px-8 py-4 rounded-2xl shadow-2xl border-4 border-white",children:n})}),h.jsx(N.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1,repeat:3},className:"absolute inset-0 bg-gradient-to-b from-yellow-400/20 via-transparent to-transparent"})]}):null}function uT(){const[e,r]=w.useState([]);w.useEffect(()=>{const i=o=>{const{message:a,type:l="info",duration:c=3e3}=o.detail,u={id:`toast_${Date.now()}_${Math.random()}`,message:a,type:l,duration:c};r(d=>[...d,u]),setTimeout(()=>{r(d=>d.filter(p=>p.id!==u.id))},c)};return window.addEventListener("showToast",i),()=>window.removeEventListener("showToast",i)},[]);const n=i=>{switch(i){case"success":return"from-green-600 to-emerald-600 border-green-400";case"error":return"from-red-600 to-rose-600 border-red-400";case"warning":return"from-yellow-600 to-amber-600 border-yellow-400";case"info":default:return"from-blue-600 to-cyan-600 border-blue-400"}},s=i=>{switch(i){case"success":return"";case"error":return"";case"warning":return"";case"info":default:return""}};return h.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:h.jsx(ze,{children:e.map(i=>h.jsx(N.div,{initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.8},className:`bg-gradient-to-r ${n(i.type)} border-2 rounded-lg px-4 py-3 shadow-2xl min-w-[250px] max-w-[400px] pointer-events-auto`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-white text-xl font-bold",children:s(i.type)}),h.jsx("span",{className:"text-white font-medium flex-1",children:i.message})]})},i.id))})})}function yp(e,r="info",n=3e3){window.dispatchEvent(new CustomEvent("showToast",{detail:{message:e,type:r,duration:n}}))}function dT({onClose:e}){const{t:r}=$e(),{missions:n,loading:s,claimReward:i,getMissionsStats:o}=sg(),[a,l]=de.useState(!1),{selectedIndex:c}=Vs({itemCount:(n==null?void 0:n.length)||0,onConfirm:v=>{const y=n[v];y&&y.completed&&!y.claimed&&d(y.id)},onBack:e,active:!0,wrap:!0}),u=o(),d=v=>{const y=i(v);y.success?(yp(r("missions.claimSuccess",{reward:y.reward}),"success"),o().allClaimed&&(l(!0),setTimeout(()=>l(!1),3e3))):yp(` ${y.error}`,"error")},p=v=>{switch(v){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400";default:return"text-white"}},m=v=>{switch(v){case"easy":return r("missions.easy");case"medium":return r("missions.medium");case"hard":return r("missions.hard");default:return v}};return s?h.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"text-white text-xl",children:r("missions.loading")})}):h.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:[h.jsxs(N.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gradient-to-br from-purple-900/95 to-blue-900/95 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto border-2 border-white/20 shadow-2xl",onClick:v=>v.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold text-white flex items-center gap-2",children:r("missions.title")}),h.jsx("p",{className:"text-white/60 text-sm mt-1",children:r("missions.subtitle")})]}),h.jsx("button",{onClick:e,className:"text-white/60 hover:text-white text-2xl transition-colors",children:""})]}),u&&h.jsxs("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-white/80",children:r("missions.dailyProgress")}),h.jsx("span",{className:"text-white font-bold",children:r("missions.completedOf",{completed:u.completed,total:u.total})})]}),h.jsxs("div",{className:"flex justify-between items-center mt-2",children:[h.jsx("span",{className:"text-white/80",children:r("missions.rewardsAvailable")}),h.jsxs("span",{className:"text-yellow-400 font-bold flex items-center gap-1",children:[" ",u.claimedRewards,"/",u.totalRewards]})]})]}),h.jsx("div",{className:"space-y-4",children:n.map((v,y)=>{const T=Math.min(v.progress,v.target),k=T/v.target*100;return h.jsxs(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:`bg-black/40 rounded-lg p-4 border-2 ${v.completed?"border-green-500/50":"border-white/10"} ${y===c?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-purple-900":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h3",{className:"text-white font-bold text-lg",children:v.title}),v.completed&&!v.claimed&&h.jsx("span",{className:"text-green-400 text-xl animate-pulse",children:""}),v.claimed&&h.jsx("span",{className:"text-white/40 text-sm",children:r("missions.claimed")})]}),h.jsx("p",{className:"text-white/60 text-sm",children:v.description}),h.jsx("span",{className:`text-xs ${p(v.difficulty)}`,children:m(v.difficulty)})]}),h.jsx("div",{className:"text-right",children:h.jsxs("div",{className:"text-yellow-400 font-bold flex items-center gap-1",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("span",{children:v.reward})]})})]}),h.jsxs("div",{className:"mt-3",children:[h.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-1",children:[h.jsx("span",{children:r("missions.progress")}),h.jsxs("span",{children:[T,"/",v.target]})]}),h.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:h.jsx(N.div,{initial:{width:0},animate:{width:`${k}%`},transition:{duration:.5},className:`h-full ${v.completed?"bg-green-500":"bg-blue-500"}`})})]}),v.completed&&!v.claimed&&h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(v.id),className:"w-full mt-3 bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:r("missions.claimReward")})]},v.id)})}),h.jsx("div",{className:"mt-6 text-center text-white/40 text-sm",children:r("missions.resetNote")})]}),h.jsx(ig,{trigger:a,message:r("missions.allCompleted"),duration:3e3})]})}function og(){const[e,r]=w.useState([]),[n,s]=w.useState([]),[i,o]=w.useState(!0);w.useEffect(()=>{try{const d=G.resolve("achievementsService");r(d.getAchievements()),o(!1);const p=()=>{try{const T=G.resolve("playerStatsService").getStats(),k=d.checkAchievements(T);k.length>0&&(r(d.getAchievements()),s(k),window.dispatchEvent(new CustomEvent("achievementsUnlocked",{detail:k})),setTimeout(()=>{s([])},5e3))}catch{}},m=setInterval(p,2e3),v=()=>p();return window.addEventListener("playerStatsUpdated",v),()=>{clearInterval(m),window.removeEventListener("playerStatsUpdated",v)}}catch{o(!1)}},[]);const a=w.useCallback(d=>{try{return G.resolve("achievementsService").getByTier(d)}catch{return[]}},[]),l=w.useCallback(()=>{try{return G.resolve("achievementsService").getUnlocked()}catch{return[]}},[]),c=w.useCallback(()=>{try{return G.resolve("achievementsService").getLocked()}catch{return[]}},[]),u=w.useCallback(()=>{try{return G.resolve("achievementsService").getStats()}catch{return null}},[]);return{achievements:e,newUnlocks:n,loading:i,getAchievementsByTier:a,getUnlocked:l,getLocked:c,getStats:u}}function pT({onClose:e}){const{achievements:r,loading:n,getStats:s,getAchievementsByTier:i}=og(),{t:o}=$e(),[a,l]=w.useState("all"),c={bronze:"from-amber-700 to-amber-900",silver:"from-gray-400 to-gray-600",gold:"from-yellow-400 to-yellow-600",platinum:"from-cyan-400 to-blue-600"},u={bronze:"",silver:"",gold:"",platinum:""},d=["all",...Object.keys(u)],{selectedIndex:p}=Vs({itemCount:d.length,onConfirm:y=>l(d[y]),onBack:e,active:!n,wrap:!0}),m=s(),v=a==="all"?r:i(a);return n?h.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsx("div",{className:"text-white text-xl",children:o("achievements.loading")})}):h.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:h.jsxs(N.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gradient-to-br from-indigo-900/95 to-purple-900/95 rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2 border-white/20 shadow-2xl",onClick:y=>y.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold text-white flex items-center gap-2",children:o("achievements.title")}),h.jsx("p",{className:"text-white/60 text-sm mt-1",children:o("achievements.subtitle")})]}),h.jsx("button",{onClick:e,className:"text-white/60 hover:text-white text-2xl transition-colors",children:""})]}),m&&h.jsxs("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-white",children:[m.unlocked,"/",m.total]}),h.jsx("div",{className:"text-white/60 text-sm",children:o("achievements.unlocked")})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[m.percentage,"%"]}),h.jsx("div",{className:"text-white/60 text-sm",children:o("achievements.complete")})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-yellow-400 flex items-center justify-center gap-1",children:[" ",m.earnedRewards.toLocaleString()]}),h.jsx("div",{className:"text-white/60 text-sm",children:o("achievements.earned")})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-white/40 flex items-center justify-center gap-1",children:[" ",m.totalRewards.toLocaleString()]}),h.jsx("div",{className:"text-white/60 text-sm",children:o("achievements.total")})]})]}),h.jsxs("div",{className:"flex justify-around mt-4 pt-4 border-t border-white/10",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg",children:""}),h.jsx("div",{className:"text-white/80 text-sm",children:m.byTier.bronze})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg",children:""}),h.jsx("div",{className:"text-white/80 text-sm",children:m.byTier.silver})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg",children:""}),h.jsx("div",{className:"text-white/80 text-sm",children:m.byTier.gold})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg",children:""}),h.jsx("div",{className:"text-white/80 text-sm",children:m.byTier.platinum})]})]})]}),h.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto",children:[h.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg font-bold transition-colors whitespace-nowrap ${a==="all"?"bg-white text-black":"bg-white/20 text-white hover:bg-white/30"} ${p===0?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-indigo-900":""}`,children:o("achievements.filterAll")}),Object.keys(u).map(y=>h.jsxs("button",{onClick:()=>l(y),className:`px-4 py-2 rounded-lg font-bold transition-colors whitespace-nowrap ${a===y?`bg-gradient-to-r ${c[y]} text-white`:"bg-white/20 text-white hover:bg-white/30"} ${p===d.indexOf(y)?"ring-2 ring-yellow-400 ring-offset-2 ring-offset-indigo-900":""}`,children:[u[y]," ",y.charAt(0).toUpperCase()+y.slice(1)]},y))]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map((y,T)=>{const k=y.progress||0,x=y.requirement.value,f=Math.min(k/x*100,100);return h.jsxs(N.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:T*.05},className:`bg-black/40 rounded-lg p-4 border-2 relative overflow-hidden ${y.unlocked?`border-transparent bg-gradient-to-br ${c[y.tier]}`:"border-white/10"}`,children:[y.unlocked&&h.jsx("div",{className:"absolute top-2 right-2 text-3xl",children:""}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"text-4xl",children:u[y.tier]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:`font-bold text-lg mb-1 ${y.unlocked?"text-white":"text-white/60"}`,children:y.title}),h.jsx("p",{className:`text-sm mb-2 ${y.unlocked?"text-white/90":"text-white/40"}`,children:y.description}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-bold ${y.unlocked?"text-yellow-300":"text-white/40"}`,children:[" ",y.reward]}),!y.unlocked&&h.jsxs("div",{className:"mt-2",children:[h.jsxs("div",{className:"flex justify-between text-xs text-white/40 mb-1",children:[h.jsx("span",{children:o("achievements.progress")}),h.jsxs("span",{children:[k,"/",x]})]}),h.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]}),y.unlocked&&y.unlockedAt&&h.jsx("div",{className:"text-xs text-white/60 mt-2",children:o("achievements.unlockedAt",{date:new Date(y.unlockedAt).toLocaleDateString()})})]})]})]},y.id)})}),v.length===0&&h.jsx("div",{className:"text-center text-white/40 py-8",children:o("achievements.noneInCategory")})]})})}function hT(){const{t:e}=$e(),[r,n]=w.useState([]),[s,i]=w.useState(!1);w.useEffect(()=>{const l=c=>{const u=c.detail;u.some(p=>p.tier==="platinum")&&(i(!0),setTimeout(()=>i(!1),3e3)),u.forEach((p,m)=>{setTimeout(()=>{const v={id:`${p.id}_${Date.now()}`,achievement:p};n(y=>[...y,v]),setTimeout(()=>{n(y=>y.filter(T=>T.id!==v.id))},5e3)},m*500)})};return window.addEventListener("achievementsUnlocked",l),()=>{window.removeEventListener("achievementsUnlocked",l)}},[]);const o={bronze:"",silver:"",gold:"",platinum:""},a={bronze:"from-amber-700 to-amber-900",silver:"from-gray-400 to-gray-600",gold:"from-yellow-400 to-yellow-600",platinum:"from-cyan-400 to-blue-600"};return h.jsxs("div",{className:"fixed top-4 right-4 z-[9999] pointer-events-none",children:[h.jsx(ze,{children:r.map(l=>{const{achievement:c}=l;return h.jsx(N.div,{initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.8},transition:{type:"spring",stiffness:200,damping:20},className:`bg-gradient-to-r ${a[c.tier]} rounded-lg p-4 shadow-2xl mb-3 border-2 border-white/30 pointer-events-auto max-w-sm`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"text-5xl",children:o[c.tier]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-white/90 text-sm font-bold mb-1",children:e("achievements.unlockBanner")}),h.jsx("h3",{className:"text-white font-bold text-lg",children:c.title}),h.jsx("p",{className:"text-white/80 text-sm",children:c.description}),h.jsxs("div",{className:"flex items-center gap-1 mt-2 text-yellow-200 font-bold",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsxs("span",{children:["+",c.reward]})]})]})]})},l.id)})}),h.jsx(ig,{trigger:s,message:e("achievements.legendary"),duration:3e3})]})}function mT({reward:e,onClose:r}){var s,i,o;const{t:n}=$e();return de.useEffect(()=>{const a=setTimeout(()=>{r()},5e3);return()=>clearTimeout(a)},[r]),e?h.jsx(N.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"fixed top-24 right-6 z-[60] max-w-md",children:h.jsx("div",{className:"bg-gradient-to-br from-green-600 to-emerald-600 rounded-xl p-6 shadow-2xl border-2 border-white/20",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"text-4xl",children:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n("reward.lessonComplete")}),e.lessonTitle&&h.jsx("p",{className:"text-white/90 text-sm mb-3",children:e.lessonTitle}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[((s=e.rewards)==null?void 0:s.fishCoins)>0&&h.jsxs("div",{className:"bg-white/10 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"text-xl",children:""}),h.jsxs("div",{className:"text-lg font-bold text-white",children:["+",e.rewards.fishCoins]}),h.jsx("div",{className:"text-xs text-white/70",children:n("reward.fish")})]}),((i=e.rewards)==null?void 0:i.xp)>0&&h.jsxs("div",{className:"bg-white/10 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"text-xl",children:""}),h.jsxs("div",{className:"text-lg font-bold text-white",children:["+",e.rewards.xp]}),h.jsx("div",{className:"text-xs text-white/70",children:n("reward.xp")})]}),((o=e.rewards)==null?void 0:o.badge)&&h.jsxs("div",{className:"bg-white/10 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"text-xl",children:""}),h.jsx("div",{className:"text-xs font-bold text-white mt-1",children:n("reward.badge")}),h.jsx("div",{className:"text-xs text-white/70",children:e.rewards.badge.split("_")[0]})]})]})]}),h.jsx("button",{onClick:r,className:"text-white/60 hover:text-white transition-colors",children:""})]})})}):null}function fT({onComplete:e}){const[r,n]=w.useState(0),[s,i]=w.useState(!1),{t:o}=$e();w.useEffect(()=>{localStorage.getItem("catTetris_tutorialCompleted")||i(!0)},[]);const a=[{title:o("tutorial.step1Title"),description:o("tutorial.step1Desc"),tips:[o("tutorial.step1Tip1"),o("tutorial.step1Tip2"),o("tutorial.step1Tip3"),o("tutorial.step1Tip4")]},{title:o("tutorial.step2Title"),description:o("tutorial.step2Desc"),tips:[o("tutorial.step2Tip1"),o("tutorial.step2Tip2"),o("tutorial.step2Tip3"),o("tutorial.step2Tip4")]},{title:o("tutorial.step3Title"),description:o("tutorial.step3Desc"),tips:[o("tutorial.step3Tip1"),o("tutorial.step3Tip2"),o("tutorial.step3Tip3"),o("tutorial.step3Tip4")]},{title:o("tutorial.step4Title"),description:o("tutorial.step4Desc"),tips:[o("tutorial.step4Tip1"),o("tutorial.step4Tip2"),o("tutorial.step4Tip3"),o("tutorial.step4Tip4")]},{title:o("tutorial.step5Title"),description:o("tutorial.step5Desc"),tips:[o("tutorial.step5Tip1"),o("tutorial.step5Tip2"),o("tutorial.step5Tip3"),o("tutorial.step5Tip4")]},{title:o("tutorial.step6Title"),description:o("tutorial.step6Desc"),tips:[o("tutorial.step6Tip1"),o("tutorial.step6Tip2"),o("tutorial.step6Tip3"),o("tutorial.step6Tip4")]}],l=()=>{r<a.length-1?n(r+1):u()},c=()=>{u()},u=()=>{localStorage.setItem("catTetris_tutorialCompleted","true"),i(!1),e&&e()};if(!s)return null;const d=a[r],p=r===a.length-1,m=p?1:2,v=w.useCallback(T=>{p?l():T===0?c():l()},[p,r]),{selectedIndex:y}=Vs({itemCount:m,onConfirm:v,onBack:c,active:s});return h.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:h.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-purple-900/95 to-indigo-900/95 rounded-2xl p-8 max-w-lg w-full border-2 border-white/20 shadow-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx("div",{className:"flex gap-2 mb-6",children:a.map((T,k)=>h.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors ${k<=r?"bg-green-500":"bg-white/20"}`},k))}),h.jsx(N.h2,{initial:{y:-20},animate:{y:0},className:"text-3xl font-bold text-white mb-3",children:d.title}),h.jsx(N.p,{initial:{y:-10},animate:{y:0},className:"text-white/80 text-lg mb-6",children:d.description}),h.jsx(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-black/30 rounded-lg p-4 mb-6 space-y-2",children:d.tips.map((T,k)=>h.jsxs(N.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+k*.1},className:"text-white/90 flex items-start gap-2",children:[h.jsx("span",{className:"text-green-400 mt-0.5",children:""}),h.jsx("span",{children:T})]},k))}),h.jsxs("div",{className:"flex gap-3",children:[!p&&h.jsx("button",{onClick:c,className:`flex-1 bg-white/10 hover:bg-white/20 text-white font-bold py-3 px-6 rounded-lg transition-colors ${y===0?"ring-2 ring-yellow-400":""}`,children:o("tutorial.skip")}),h.jsx("button",{onClick:l,className:`flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 text-white font-bold py-3 px-6 rounded-lg transition-all shadow-lg ${(p?y===0:y===1)?"ring-2 ring-yellow-400":""}`,children:o(p?"tutorial.startPlaying":"tutorial.next")})]}),h.jsx("div",{className:"text-center mt-4 text-white/40 text-sm",children:o("tutorial.stepIndicator",{n:r+1,total:a.length})})]},r)})}function gT(){const[e,r]=w.useState(null),n=w.useRef(null),s=w.useRef(null),i=w.useRef(0),o=w.useRef(!1),a=w.useRef(!1);w.useEffect(()=>{if(!o.current){o.current=!0;try{const S=G.resolve("gameService");n.current=S,S.initializeGame(),r(S.getGameState());const C=()=>{a.current=!0};return Object.values(F).forEach(b=>{R.on(b,C)}),()=>{Object.values(F).forEach(b=>{R.off(b,C)}),s.current&&cancelAnimationFrame(s.current)}}catch(S){throw _t.logError("useGameService","init",S.message,{stack:S.stack}),S}}},[]),w.useEffect(()=>{if(!n.current)return;const S=C=>{i.current||(i.current=C);const b=C-i.current;i.current=C,n.current&&(n.current.isPlaying&&!n.current.isPaused&&!n.current.gameOver&&n.current.updateGame(b),a.current&&(a.current=!1,r(n.current.getGameState()))),s.current=requestAnimationFrame(S)};return s.current=requestAnimationFrame(S),()=>{s.current&&cancelAnimationFrame(s.current)}},[]);const l=w.useCallback(S=>(...C)=>{if(n.current&&typeof n.current[S]=="function")try{return n.current[S](...C)}catch(b){if(_t.logError("useGameService",S,b.message,{stack:b.stack,args:C.map(P=>String(P).slice(0,100))}),S==="getDropPreview")return null;throw b}},[]),c=w.useCallback(l("movePiece"),[l]),u=w.useCallback(l("rotatePiece"),[l]),d=w.useCallback(l("rotatePieceLeft"),[l]),p=w.useCallback(l("hardDrop"),[l]),m=w.useCallback(l("holdPiece"),[l]),v=w.useCallback(l("getDropPreview"),[l]),y=w.useCallback(l("pause"),[l]),T=w.useCallback(l("resume"),[l]),k=w.useCallback(l("restart"),[l]),x=w.useCallback(l("saveGame"),[l]),f=w.useCallback(l("loadGame"),[l]);return{gameState:e,actions:{movePiece:c,rotatePiece:u,rotatePieceLeft:d,hardDrop:p,holdPiece:m,getDropPreview:v,pause:y,resume:T,restart:k,saveGame:x,loadGame:f}}}function yT(){const[e,r]=w.useState({volume:80,gameSpeed:"normal",soundEnabled:!0,particlesEnabled:!0,das:167,arr:33}),[n,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{try{const d=G.resolve("settingsService").getSettings();r(d||{volume:80,gameSpeed:"normal",soundEnabled:!0,particlesEnabled:!0,das:167,arr:33}),s(!1)}catch(u){o(u.message),s(!1),r({volume:80,gameSpeed:"normal",soundEnabled:!0,particlesEnabled:!0,das:167,arr:33})}},[]);const a=w.useCallback(async u=>{try{o(null);const p=G.resolve("settingsService").saveSettings(u);return r(p),p}catch(d){throw o(d.message),d}},[]),l=w.useCallback(async(u,d)=>{try{o(null);const m=G.resolve("settingsService").updateSetting(u,d);return r(m),m}catch(p){throw o(p.message),p}},[]),c=w.useCallback(async()=>{try{o(null);const d=G.resolve("settingsService").resetSettings();return r(d),d}catch(u){throw o(u.message),u}},[]);return{settings:e,loading:n,error:i,updateSettings:a,updateSetting:l,resetSettings:c}}function vT(e,r,n=!0){const s=w.useRef(r);s.current=r;const i=w.useRef(e);i.current=e,w.useEffect(()=>{if(!(!e||!n))try{const p=G.resolve("keyboardInputService"),m=()=>{var C;return!((C=s.current)!=null&&C.gameOver)},v=()=>{m()&&i.current.movePiece("left")},y=()=>{m()&&i.current.movePiece("right")},T=()=>{m()&&i.current.movePiece("down")},k=()=>{m()&&i.current.rotatePiece()},x=()=>{var C,b;m()&&((b=(C=i.current).rotatePieceLeft)==null||b.call(C))},f=()=>{m()&&i.current.hardDrop()},g=()=>{m()&&i.current.holdPiece()},S=()=>{var C,b;(C=s.current)!=null&&C.gameOver||((b=s.current)!=null&&b.isPaused?i.current.resume():i.current.pause())};return p.registerHandler("moveLeft",v),p.registerHandler("moveRight",y),p.registerHandler("moveDown",T),p.registerHandler("rotate",k),p.registerHandler("rotateLeft",x),p.registerHandler("hardDrop",f),p.registerHandler("hold",g),p.registerHandler("pause",S),p.startListening(),()=>{p.unregisterHandler("moveLeft",v),p.unregisterHandler("moveRight",y),p.unregisterHandler("moveDown",T),p.unregisterHandler("rotate",k),p.unregisterHandler("rotateLeft",x),p.unregisterHandler("hardDrop",f),p.unregisterHandler("hold",g),p.unregisterHandler("pause",S),p.stopListening()}}catch{return()=>{}}},[n]);const o=w.useCallback((p,m)=>{try{G.resolve("keyboardInputService").setKeyMapping(p,m)}catch{}},[]),a=w.useCallback(()=>{try{return G.resolve("keyboardInputService").getKeyMappings()}catch{return{}}},[]),l=w.useCallback(p=>{try{G.resolve("keyboardInputService").setDAS(p)}catch{}},[]),c=w.useCallback(p=>{try{G.resolve("keyboardInputService").setARR(p)}catch{}},[]),u=w.useCallback(()=>{try{return G.resolve("keyboardInputService").getDAS()}catch{return 133}},[]),d=w.useCallback(()=>{try{return G.resolve("keyboardInputService").getARR()}catch{return 10}},[]);return{customizeKeyMapping:o,getKeyMappings:a,setDAS:l,setARR:c,getDAS:u,getARR:d}}function xT(){const e=w.useCallback((k,x,f="sine",g=.1)=>{const S=An();if(S)try{const C=S.createOscillator(),b=S.createGain();C.connect(b),b.connect(S.destination),C.frequency.setValueAtTime(k,S.currentTime),C.type=f,b.gain.setValueAtTime(g,S.currentTime),b.gain.exponentialRampToValueAtTime(.001,S.currentTime+x),C.start(S.currentTime),C.stop(S.currentTime+x)}catch{}},[]),r=w.useCallback((k,x=.05)=>{const f=An();if(f)try{const g=f.sampleRate*k,S=f.createBuffer(1,g,f.sampleRate),C=S.getChannelData(0);for(let P=0;P<g;P++)C[P]=(Math.random()*2-1)*x;const b=f.createBufferSource();b.buffer=S,b.connect(f.destination),b.start()}catch{}},[]),n=w.useCallback(k=>{switch(k){case"I":[800,700,600,500].forEach((x,f)=>{setTimeout(()=>e(x,.1,"square",.08),f*50)});break;case"O":e(600,.1,"sine",.1),setTimeout(()=>e(600,.1,"sine",.1),80);break;case"T":e(523,.08,"triangle",.08),setTimeout(()=>e(659,.08,"triangle",.08),40),setTimeout(()=>e(523,.08,"triangle",.08),80);break;case"S":[440,494,523,587].forEach((x,f)=>{setTimeout(()=>e(x,.06,"sawtooth",.06),f*30)});break;case"Z":[587,523,494,440].forEach((x,f)=>{setTimeout(()=>e(x,.06,"sawtooth",.06),f*30)});break;case"J":[330,415,523].forEach((x,f)=>{setTimeout(()=>e(x,.15,"triangle",.07),f*20)});break;case"L":[392,494,659].forEach((x,f)=>{setTimeout(()=>e(x,.15,"sine",.08),f*30)});break;default:e(440,.1,"sine",.05)}},[e]),s=w.useCallback(k=>{switch(k){case 1:[440,494,523].forEach((x,f)=>{setTimeout(()=>e(x,.1,"triangle",.1),f*80)});break;case 2:[440,523,659,784].forEach((x,f)=>{setTimeout(()=>e(x,.12,"triangle",.1),f*60)});break;case 3:[523,659,784,1047,1319].forEach((x,f)=>{setTimeout(()=>e(x,.15,"triangle",.12),f*50)});break;case 4:r(.02),setTimeout(()=>{[262,330,392,523,659,784,1047].forEach((x,f)=>{setTimeout(()=>e(x,.2,"sawtooth",.15),f*40)})},50),setTimeout(()=>{[1047,1319,1568,2093].forEach((x,f)=>{setTimeout(()=>e(x,.3,"triangle",.2),f*30)})},350);break}},[e,r]),i=w.useCallback(()=>{[{freq:523,delay:0},{freq:659,delay:100},{freq:784,delay:200},{freq:1047,delay:300},{freq:784,delay:400},{freq:1047,delay:500},{freq:1319,delay:600},{freq:1568,delay:700}].forEach(x=>{setTimeout(()=>e(x.freq,.15,"triangle",.12),x.delay)}),setTimeout(()=>{[1047,1319,1568,2093].forEach((x,f)=>{setTimeout(()=>e(x,.4,"triangle",.15),f*50)})},800)},[e]),o=w.useCallback(()=>{e(200,.05,"square",.03),e(120,.06,"sine",.04)},[e]),a=w.useCallback(()=>{r(.04,.08),e(80,.08,"square",.12),e(60,.1,"sine",.1)},[e,r]),l=w.useCallback(()=>{r(.03,.04),[349,440,523,659,784].forEach((k,x)=>{setTimeout(()=>e(k,.2,"sawtooth",.1),x*40)}),setTimeout(()=>{e(1047,.4,"triangle",.15)},250)},[e,r]),c=w.useCallback(()=>{[660,880,1100,1320,1760].forEach((k,x)=>{setTimeout(()=>e(k,.12,"triangle",.08),x*50)})},[e]),u=w.useCallback(k=>{const x=400+k*80;e(x,.1,"triangle",.08),setTimeout(()=>e(x*1.25,.08,"triangle",.06),50)},[e]),d=w.useCallback(()=>{[523,494,440,392,349,330,294,262].forEach((x,f)=>{setTimeout(()=>e(x,.3,"sine",.1),f*150)})},[e]),p=w.useCallback(()=>{e(440,.2,"triangle",.08)},[e]),m=w.useCallback(()=>{e(523,.15,"triangle",.08),setTimeout(()=>e(659,.1,"triangle",.06),100)},[e]),v=w.useCallback(()=>{e(880,.1,"sine",.06),setTimeout(()=>e(1100,.08,"sine",.05),60)},[e]),y=w.useCallback(()=>{e(1200,.05,"square",.04)},[e]),T=w.useCallback(()=>{e(800,.03,"square",.02)},[e]);return{playPieceSound:n,playLineClear:s,playLevelUp:i,playPieceLand:o,playHardDrop:a,playTSpin:l,playBackToBack:c,playCombo:u,playGameOver:d,playPause:p,playResume:m,playHold:v,playRotate:y,playMove:T}}function wT(){const e=xT(),r=w.useRef(e);r.current=e,w.useEffect(()=>{const n=()=>r.current,s=y=>{var T;n().playPieceLand(),(T=y==null?void 0:y.piece)!=null&&T.type&&n().playPieceSound(y.piece.type)},i=y=>{(y==null?void 0:y.linesCleared)>0&&n().playLineClear(y.linesCleared)},o=()=>n().playHardDrop(),a=()=>n().playTSpin(),l=()=>n().playBackToBack(),c=y=>{(y==null?void 0:y.combo)>=2&&n().playCombo(y.combo)},u=()=>n().playHold(),d=()=>n().playRotate(),p=()=>n().playMove(),m=()=>n().playGameOver(),v=()=>n().playLevelUp();return R.on(F.PIECE_PLACED,s),R.on(F.LINE_CLEARED,i),R.on(F.HARD_DROP,o),R.on(F.T_SPIN,a),R.on(F.BACK_TO_BACK,l),R.on(F.SCORE_UPDATED,c),R.on(F.PIECE_HELD,u),R.on(F.PIECE_ROTATED,d),R.on(F.PIECE_MOVED,p),R.on(F.GAME_OVER,m),R.on(F.LEVEL_UP,v),()=>{R.off(F.PIECE_PLACED,s),R.off(F.LINE_CLEARED,i),R.off(F.HARD_DROP,o),R.off(F.T_SPIN,a),R.off(F.BACK_TO_BACK,l),R.off(F.SCORE_UPDATED,c),R.off(F.PIECE_HELD,u),R.off(F.PIECE_ROTATED,d),R.off(F.PIECE_MOVED,p),R.off(F.GAME_OVER,m),R.off(F.LEVEL_UP,v)}},[])}function ST(){const[e,r]=w.useState(!1),[n,s]=w.useState(null),i=w.useRef(null),o=w.useRef([]),a=w.useRef(null),l=w.useCallback(()=>{i.current&&(i.current.pause(),i.current.currentTime=0),o.current.forEach(m=>{try{m.stop()}catch{}}),o.current=[],a.current&&(clearTimeout(a.current),a.current=null),r(!1),s(null)},[]),c=w.useCallback(async()=>{try{l(),d()}catch{}},[l]),u=w.useCallback(async()=>{try{l(),p()}catch{}},[l]),d=w.useCallback(()=>{l();try{const m=An();if(!m)return;const v=[{freq:523.25,duration:.4},{freq:587.33,duration:.4},{freq:659.25,duration:.4},{freq:698.46,duration:.4},{freq:783.99,duration:.6},{freq:659.25,duration:.4},{freq:523.25,duration:.8},{freq:587.33,duration:.4},{freq:659.25,duration:.4},{freq:698.46,duration:.4},{freq:783.99,duration:.6},{freq:880,duration:.4},{freq:783.99,duration:.8},{freq:659.25,duration:.4},{freq:698.46,duration:.4},{freq:783.99,duration:.4},{freq:880,duration:.6},{freq:987.77,duration:.4},{freq:1046.5,duration:.8}];let y=m.currentTime;v.forEach((T,k)=>{const x=m.createOscillator(),f=m.createGain();if(x.connect(f),f.connect(m.destination),x.frequency.setValueAtTime(T.freq,y),x.type="sine",f.gain.setValueAtTime(0,y),f.gain.linearRampToValueAtTime(.1,y+.05),f.gain.exponentialRampToValueAtTime(.01,y+T.duration),x.start(y),x.stop(y+T.duration),o.current.push(x),k<v.length-1){const g=m.createOscillator(),S=m.createGain();g.connect(S),S.connect(m.destination),g.frequency.setValueAtTime(T.freq*1.25,y),g.type="triangle",S.gain.setValueAtTime(0,y),S.gain.linearRampToValueAtTime(.05,y+.05),S.gain.exponentialRampToValueAtTime(.01,y+T.duration),g.start(y),g.stop(y+T.duration),o.current.push(g)}y+=T.duration}),a.current=setTimeout(()=>{i.current||d()},y*1e3+1e3),r(!0),s("cheerful-fallback")}catch{}},[l]),p=w.useCallback(()=>{l();try{const m=An();if(!m)return;const v=[{freq:261.63,duration:.2},{freq:329.63,duration:.2},{freq:392,duration:.2},{freq:523.25,duration:.3},{freq:392,duration:.1},{freq:523.25,duration:.3},{freq:293.66,duration:.2},{freq:369.99,duration:.2},{freq:440,duration:.2},{freq:587.33,duration:.3},{freq:440,duration:.1},{freq:587.33,duration:.3},{freq:329.63,duration:.2},{freq:415.3,duration:.2},{freq:493.88,duration:.2},{freq:659.25,duration:.4},{freq:493.88,duration:.2},{freq:659.25,duration:.4}];let y=m.currentTime;v.forEach((T,k)=>{const x=m.createOscillator(),f=m.createGain();if(x.connect(f),f.connect(m.destination),x.frequency.setValueAtTime(T.freq,y),x.type="square",f.gain.setValueAtTime(0,y),f.gain.linearRampToValueAtTime(.15,y+.02),f.gain.exponentialRampToValueAtTime(.01,y+T.duration),x.start(y),x.stop(y+T.duration),o.current.push(x),k%2===0){const g=m.createOscillator(),S=m.createGain();g.connect(S),S.connect(m.destination),g.frequency.setValueAtTime(T.freq*.5,y),g.type="sawtooth",S.gain.setValueAtTime(0,y),S.gain.linearRampToValueAtTime(.08,y+.02),S.gain.exponentialRampToValueAtTime(.01,y+T.duration),g.start(y),g.stop(y+T.duration),o.current.push(g)}y+=T.duration}),a.current=setTimeout(()=>{i.current||p()},y*1e3+500),r(!0),s("energetic-fallback")}catch{}},[l]);return{isPlaying:e,currentTrack:n,startBackgroundMusic:c,startGameMusic:u,stopMusic:l,playCheerfulMelody:d,playEnergeticMelody:p}}const Gn={DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,FACE_BUTTON_BOTTOM:0,FACE_BUTTON_RIGHT:1,FACE_BUTTON_LEFT:2,FACE_BUTTON_TOP:3,BUMPER_LEFT:4,BUMPER_RIGHT:5,TRIGGER_LEFT:6,TRIGGER_RIGHT:7,BUTTON_BACK:8,BUTTON_START:9,STICK_LEFT:10,STICK_RIGHT:11},TT=(e=null)=>{const[r,n]=w.useState([]),[s,i]=w.useState(!1),o=w.useRef({}),a=w.useRef(33),l=w.useRef({}),c=w.useRef({}),u=w.useRef(167),d=.5,p=.5;w.useEffect(()=>{const k=g=>{n(S=>S.some(C=>C.index===g.gamepad.index)?S:[...S,g.gamepad]),i(!0);try{g.gamepad.vibrationActuator&&g.gamepad.vibrationActuator.playEffect("dual-rumble",{duration:200,strongMagnitude:.5,weakMagnitude:.5})}catch{}},x=g=>{n(C=>C.filter(b=>b.index!==g.gamepad.index));const S=navigator.getGamepads().filter(C=>C&&C.connected);i(S.length>0)};return window.addEventListener("gamepadconnected",k),window.addEventListener("gamepaddisconnected",x),(()=>{const g=navigator.getGamepads(),S=Array.from(g).filter(C=>C&&C.connected);S.length>0&&(n(S),i(!0))})(),()=>{window.removeEventListener("gamepadconnected",k),window.removeEventListener("gamepaddisconnected",x)}},[]);const m=w.useCallback((k,x,f)=>{const g=f??p;return Math.abs(k)<g&&Math.abs(x)<g?null:Math.abs(k)>Math.abs(x)?k>0?"right":"left":x>0?"down":"up"},[]),v=w.useCallback(()=>{var j,q,D,H;if(!s||!e)return;const k=navigator.getGamepads(),x=Array.from(k).find(O=>O&&O.connected);if(!x)return;const f=Date.now(),{movePiece:g,rotatePiece:S,rotatePieceLeft:C,hardDrop:b,holdPiece:P,pause:E,resume:M,togglePause:_}=e,B=El();if([{button:B.pause,action:()=>{_?_():E&&E()}},{button:B.backToMenu,action:()=>{e.backToMenu&&e.backToMenu()}}].forEach(({button:O,action:z})=>{var ee;const W=(ee=x.buttons[O])==null?void 0:ee.pressed,be=l.current[O];l.current[O]=W,W&&!be&&(z(),y(x,O))}),!g)return;const U=((j=e.isGameOver)==null?void 0:j.call(e))??!1,I=(O,z)=>{const W=`movement_${O}`,be=o.current[W]||0,ee=c.current[W]||!1;if(z&&!ee){c.current[W]=!0,c.current[W+"_start"]=f,o.current[W]=f,we(O);return}if(z&&ee){const Q=f-(c.current[W+"_start"]||be)<u.current?u.current:a.current;f-be>=Q&&(o.current[W]=f,we(O));return}!z&&ee&&(c.current[W]=!1,c.current[W+"_start"]=0)},we=O=>{e.movePiece&&e.movePiece(O)};if(!U){const O=m(x.axes[0],x.axes[1]),z=((q=x.buttons[Gn.DPAD_LEFT])==null?void 0:q.pressed)||O==="left",W=((D=x.buttons[Gn.DPAD_RIGHT])==null?void 0:D.pressed)||O==="right",be=((H=x.buttons[Gn.DPAD_DOWN])==null?void 0:H.pressed)||O==="down";I("left",z),I("right",W),I("down",be);const ee={},oe=new Map,Q=(ce,Ve,Se=!1)=>{ce!=null&&!oe.has(ce)&&oe.set(ce,{action:Ve,isTrigger:Se||ce===6||ce===7})};Q(B.rotateCW,()=>S==null?void 0:S()),Q(B.rotateCCW,()=>C==null?void 0:C()),Q(B.hardDrop,()=>b==null?void 0:b()),Q(B.hold,()=>P==null?void 0:P()),oe.has(2)||Q(2,()=>S==null?void 0:S()),oe.has(3)||Q(3,()=>S==null?void 0:S()),oe.has(4)||Q(4,()=>P==null?void 0:P()),oe.has(5)||Q(5,()=>P==null?void 0:P()),oe.has(6)||Q(6,()=>C==null?void 0:C(),!0),oe.has(7)||Q(7,()=>S==null?void 0:S(),!0),Array.from(oe.entries()).map(([ce,{action:Ve,isTrigger:Se}])=>({button:ce,action:Ve,isTrigger:Se})).forEach(({button:ce,action:Ve,isTrigger:Se})=>{var Y,J;const Kt=Se?(((Y=x.buttons[ce])==null?void 0:Y.value)??0)>d:(J=x.buttons[ce])==null?void 0:J.pressed,qr=l.current[ce];ee[ce]=Kt,Kt&&!qr&&(Ve(),y(x,ce))});const Dt="stick_up_hardDrop";O==="up"&&!l.current[Dt]&&(b==null||b(),y(x,Gn.DPAD_UP)),ee[Dt]=O==="up",l.current={...l.current,...ee}}},[s,m,e]),y=w.useCallback((k,x)=>{try{if(k.vibrationActuator){const f=x===Gn.DPAD_UP;k.vibrationActuator.playEffect("dual-rumble",{duration:f?80:50,strongMagnitude:f?.3:.1,weakMagnitude:f?.15:.05})}}catch{}},[]),T=w.useCallback(()=>{const k=navigator.getGamepads(),x=Array.from(k).filter(f=>f&&f.connected);return x.length===0?[]:x.map(f=>({id:f.id,index:f.index,connected:f.connected,buttons:f.buttons.length,axes:f.axes.length,vibration:!!f.vibrationActuator}))},[]);return{isGamepadActive:s,connectedGamepads:r,processGamepadInput:v,getGamepadInfo:T,controllerCount:r.length}};function CT(){const[e,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{try{const a=G.resolve("playerStatsService");r(a.getStats()),s(!1);const l=()=>{try{const c=G.resolve("statisticsService"),u=G.resolve("gameService");if(!u.gameOver)return;const d=u.getGameState(),p=c.getStats();if(p.piecesPlaced===0&&p.linesCleared===0)return;const m={score:d.score.points,level:d.score.level,linesCleared:p.linesCleared,piecesPlaced:p.piecesPlaced,tSpins:p.tSpins,backToBack:p.backToBack,maxCombo:p.maxCombo,playTime:p.playTime};a.updateAfterGame(m),r(a.getStats()),c.reset(),window.dispatchEvent(new Event("playerStatsUpdated"))}catch{}};return R.on(F.GAME_OVER,l),()=>{R.off(F.GAME_OVER,l)}}catch{s(!1)}},[]);const i=w.useCallback((a,l)=>{try{const c=G.resolve("playerStatsService"),u=c.updateRecord(a,l);return u&&(r(c.getStats()),window.dispatchEvent(new Event("playerStatsUpdated"))),u}catch{return!1}},[]),o=w.useCallback((a,l=1)=>{try{const c=G.resolve("playerStatsService");c.incrementStat(a,l),r(c.getStats()),window.dispatchEvent(new Event("playerStatsUpdated"))}catch{}},[]);return{playerStats:e,loading:n,updateRecord:i,incrementStat:o}}function bT(){const[e,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{try{const o=G.resolve("statisticsService");r(o.getStats()),s(!1);const a=()=>{r(o.getStats())},l=()=>{o.incrementPiecesPlaced(),a()},c=({linesCleared:m})=>{o.addLinesCleared(m),a()},u=()=>{o.incrementTSpins(),a()},d=({combo:m})=>{o.updateMaxCombo(m),a()},p=()=>{o.incrementBackToBack(),a()};return R.on(F.PIECE_PLACED,l),R.on(F.LINE_CLEARED,c),R.on(F.T_SPIN,u),R.on(F.SCORE_UPDATED,d),R.on(F.BACK_TO_BACK,p),()=>{R.off(F.PIECE_PLACED,l),R.off(F.LINE_CLEARED,c),R.off(F.T_SPIN,u),R.off(F.SCORE_UPDATED,d),R.off(F.BACK_TO_BACK,p)}}catch{s(!1)}},[]),w.useEffect(()=>{if(n)return;const o=setInterval(()=>{try{const a=G.resolve("statisticsService"),l=G.resolve("gameService");l.isPlaying&&!l.isPaused&&!l.gameOver&&a.incrementPlayTime(),r(a.getStats())}catch{}},1e3);return()=>clearInterval(o)},[n]);const i=w.useCallback(()=>{try{const o=G.resolve("statisticsService");o.reset(),r(o.getStats())}catch{}},[]);return{statistics:e,loading:n,resetStatistics:i}}function kT(){const[e,r]=w.useState([]),[n,s]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{try{const u=G.resolve("shopService");r(u.getAllThemes()),s(u.getEquippedTheme()),o(!1);const d=m=>{s(m.detail.theme),r(u.getAllThemes())},p=()=>{r(u.getAllThemes())};return window.addEventListener("themeEquipped",d),window.addEventListener("currencyUpdated",p),()=>{window.removeEventListener("themeEquipped",d),window.removeEventListener("currencyUpdated",p)}}catch{o(!1)}},[]);const a=w.useCallback(u=>{try{const d=G.resolve("shopService"),p=d.purchaseTheme(u);return p.success&&(r(d.getAllThemes()),window.dispatchEvent(new Event("currencyUpdated"))),p}catch(d){return{success:!1,error:d.message}}},[]),l=w.useCallback(u=>{try{const d=G.resolve("shopService"),p=d.equipTheme(u);return p.success&&(s(p.theme),r(d.getAllThemes())),p}catch(d){return{success:!1,error:d.message}}},[]),c=w.useCallback(()=>{try{return G.resolve("shopService").getStats()}catch{return null}},[]);return{themes:e,equippedTheme:n,loading:i,purchaseTheme:a,equipTheme:l,getStats:c}}function PT(){const[e,r]=w.useState([]),[n,s]=w.useState(null),[i,o]=w.useState(null),[a,l]=w.useState(!0);w.useEffect(()=>{try{const p=G.resolve("gameModesService");r(p.getAllModes()),s(p.getCurrentMode()),o(p.getAllStats()),l(!1)}catch{l(!1)}},[]);const c=w.useCallback(p=>{try{const m=G.resolve("gameModesService"),v=m.setMode(p);return v&&(s(m.getCurrentMode()),window.dispatchEvent(new CustomEvent("gameModeChanged",{detail:{mode:m.getCurrentMode()}}))),v}catch{return!1}},[]),u=w.useCallback(p=>{try{return G.resolve("gameModesService").getModeStats(p)}catch{return null}},[]),d=w.useCallback((p,m)=>{try{const v=G.resolve("gameModesService");v.updateStats(p,m),o(v.getAllStats())}catch{}},[]);return{modes:e,currentMode:n,modeStats:i,loading:a,selectMode:c,getModeStats:u,updateStats:d}}const ET=({isConnected:e,controllerCount:r,gamepadInfo:n,className:s=""})=>{const{t:i}=$e(),[o,a]=w.useState(!1);return e?h.jsx("div",{className:`fixed top-4 right-4 z-50 ${s}`,children:h.jsxs(N.div,{initial:{opacity:0,scale:.8,x:20},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:20},transition:{duration:.3},className:"bg-gray-900/90 backdrop-blur-sm text-white p-3 rounded-lg border border-green-500/30 shadow-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(N.div,{animate:{rotate:[0,-10,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:""}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:"text-green-400 font-semibold",children:r===1?i("gamepad.connected",{n:r}):i("gamepad.connectedPlural",{n:r})}),h.jsx("div",{className:"text-gray-300 text-xs",children:i("gamepad.ready")})]}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(!o),className:"ml-2 text-gray-400 hover:text-white transition-colors",title:i("gamepad.showControls"),children:h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})})]}),h.jsx(ze,{children:o&&h.jsx(N.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3 pt-3 border-t border-gray-700",children:h.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[h.jsx("div",{className:"font-semibold text-white mb-2",children:i("gamepad.controlsTitle")}),h.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-yellow-400",children:"D-Pad  "}),h.jsx("div",{className:"text-gray-400",children:i("gamepad.move")})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-yellow-400",children:"D-Pad "}),h.jsx("div",{className:"text-gray-400",children:i("gamepad.accelerate")})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-yellow-400",children:"D-Pad "}),h.jsx("div",{className:"text-gray-400",children:i("gamepad.hardDrop")})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-yellow-400",children:"A/X/Y"}),h.jsx("div",{className:"text-gray-400",children:i("gamepad.rotateRight")})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-yellow-400",children:"B"}),h.jsx("div",{className:"text-gray-400",children:i("gamepad.rotateLeft")})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-yellow-400",children:"L/R"}),h.jsx("div",{className:"text-gray-400",children:i("gamepad.hold")})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-yellow-400",children:"Start"}),h.jsx("div",{className:"text-gray-400",children:i("gamepad.pause")})]})]}),h.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-700",children:[h.jsx("div",{className:"text-green-400 text-xs",children:i("gamepad.analogNote")}),h.jsx("div",{className:"text-blue-400 text-xs",children:i("gamepad.triggerNote")}),h.jsx("div",{className:"text-purple-400 text-xs",children:i("gamepad.backNote")})]}),n&&(Array.isArray(n)?n:[n]).length>0&&h.jsx("div",{className:"mt-2 pt-2 border-t border-gray-700",children:h.jsx("div",{className:"text-xs text-gray-400",children:(Array.isArray(n)?n:[n]).map((l,c)=>h.jsxs("div",{className:"mb-1",children:[h.jsx("div",{className:"font-semibold text-white",children:i("gamepad.controllerLabel",{n:l.index+1})}),h.jsx("div",{className:"text-gray-300 truncate",children:l.id.length>30?l.id.substring(0,30)+"...":l.id}),h.jsxs("div",{className:"flex gap-2 text-xs",children:[h.jsx("span",{className:"text-blue-400",children:i("gamepad.buttons",{n:l.buttons})}),h.jsx("span",{className:"text-green-400",children:i("gamepad.axes",{n:l.axes})}),l.vibration&&h.jsx("span",{className:"text-purple-400",children:i("gamepad.vibration")})]})]},c))})})]})})})]})}):null},AT=w.lazy(()=>Mt(()=>import("./SettingsMenu-3fa85e38.js"),[])),MT=w.lazy(()=>Mt(()=>import("./MultiplayerGame-2af73c78.js"),[])),DT=w.lazy(()=>Mt(()=>import("./AIShowcase-536f64db.js"),[])),LT=w.lazy(()=>Mt(()=>import("./CreatorMode-34cee418.js"),[])),jT=w.lazy(()=>Mt(()=>import("./ShopPanel-109e23c3.js"),[])),RT=w.lazy(()=>Mt(()=>import("./GameModesPanel-952f7ff2.js"),[])),_T=w.lazy(()=>Mt(()=>import("./MultiplayerPanel-57147d89.js"),[])),NT=w.lazy(()=>Mt(()=>import("./TutorialHub-5420107a.js"),[]));function Qt(){return h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx(N.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl",children:""})})}function IT({gameState:e,actions:r,onBackToMenu:n,onRestart:s,isGamepadActive:i,controllerCount:o,getGamepadInfo:a}){var T,k,x,f,g,S;const{t:l}=$e(),c=de.useMemo(()=>{if(!(e!=null&&e.currentPiece)||e!=null&&e.gameOver||e!=null&&e.isPaused)return null;try{return r.getDropPreview()}catch{return null}},[(k=(T=e==null?void 0:e.currentPiece)==null?void 0:T.position)==null?void 0:k.x,(f=(x=e==null?void 0:e.currentPiece)==null?void 0:x.position)==null?void 0:f.y,(g=e==null?void 0:e.currentPiece)==null?void 0:g.type,(S=e==null?void 0:e.currentPiece)==null?void 0:S.shape,e==null?void 0:e.gameOver,e==null?void 0:e.isPaused]),[u,d]=de.useState({hardDrop:!1,hold:!1,pause:!1}),p=de.useRef({});de.useEffect(()=>()=>{Object.values(p.current).forEach(clearTimeout)},[]);const m=de.useCallback(()=>{u.hardDrop||e!=null&&e.gameOver||(r.hardDrop(),d(C=>({...C,hardDrop:!0})),clearTimeout(p.current.hardDrop),p.current.hardDrop=setTimeout(()=>{d(C=>({...C,hardDrop:!1}))},300))},[r,u.hardDrop,e==null?void 0:e.gameOver]),v=de.useCallback(()=>{u.hold||e!=null&&e.gameOver||!(e!=null&&e.canHold)||(r.holdPiece(),d(C=>({...C,hold:!0})),clearTimeout(p.current.hold),p.current.hold=setTimeout(()=>{d(C=>({...C,hold:!1}))},500))},[r,u.hold,e==null?void 0:e.gameOver,e==null?void 0:e.canHold]),y=de.useCallback(()=>{u.pause||e!=null&&e.gameOver||(e!=null&&e.isPaused?r.resume():r.pause(),d(C=>({...C,pause:!0})),clearTimeout(p.current.pause),p.current.pause=setTimeout(()=>{d(C=>({...C,pause:!1}))},300))},[r,u.pause,e==null?void 0:e.gameOver,e==null?void 0:e.isPaused]);return h.jsxs("div",{className:"h-screen cat-bg flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-black/30 backdrop-blur-sm border-b border-white/10 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(N.button,{onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white/15 hover:bg-white/25 text-white p-1.5 rounded-lg transition-colors",title:l("game.backToMenu"),children:h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})})}),h.jsx("span",{className:"text-white font-bold text-sm",children:" Cat Tetris"})]}),h.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",children:[h.jsxs("span",{className:"text-yellow-400 font-bold",children:[e.score.points.toLocaleString()," pts"]}),h.jsx("span",{children:l("game.level",{level:e.score.level})}),h.jsxs("span",{children:[e.score.lines," ",l("common.lines")]})]}),h.jsx("div",{className:"flex items-center gap-1.5",children:h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e.isPaused?r.resume:r.pause,disabled:e.gameOver,className:"bg-white/10 hover:bg-white/20 text-white px-2.5 py-1 rounded-lg text-xs transition-colors disabled:opacity-50",children:e.isPaused?"":""})})]}),h.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden p-2",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row gap-2 items-center justify-center",children:[h.jsxs("div",{className:"hidden lg:flex flex-col lg:flex-row gap-2 items-center justify-center",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(wS,{heldPiece:e.heldPiece,canHold:e.canHold}),h.jsx(hS,{score:e.score.points,level:e.score.level,lines:e.score.lines,combo:e.score.combo})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(cp,{board:e.board,currentPiece:e.currentPiece,dropPreview:c,gameOver:e.gameOver}),h.jsx(mS,{onMove:r.movePiece,onRotate:r.rotatePiece,onHardDrop:r.hardDrop,onPause:e.isPaused?r.resume:r.pause,onHold:r.holdPiece,isPaused:e.isPaused,gameOver:e.gameOver,canHold:e.canHold})]}),h.jsx("div",{className:"flex flex-col gap-2",children:h.jsx(vS,{pieces:e.nextPieces})})]}),h.jsxs("div",{className:"flex lg:hidden flex-col w-full h-full","data-testid":"mobile-layout",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2 px-2 bg-black/30 rounded-lg mx-2 py-1",children:[h.jsxs("div",{className:"text-white text-sm",children:[h.jsx("span",{className:"text-yellow-400 font-bold",children:e.score.points.toLocaleString()}),h.jsx("span",{className:"text-white/60 ml-2",children:l("game.level",{level:e.score.level})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[e.heldPiece&&h.jsx("div",{className:"text-xs text-white/60",children:""}),h.jsx("div",{className:"text-xs text-white/60",children:l("game.nextLabel")}),h.jsx("div",{className:"bg-gray-800/50 p-1 rounded",children:e.nextPieces[0]?h.jsx("div",{className:"grid gap-0.5",style:{gridTemplateColumns:`repeat(${Math.max(...e.nextPieces[0].shape.map(C=>C.length))}, 8px)`,gridTemplateRows:`repeat(${e.nextPieces[0].shape.length}, 8px)`},children:e.nextPieces[0].shape.map((C,b)=>C.map((P,E)=>h.jsx("div",{className:"w-2 h-2 rounded-sm",style:{backgroundColor:P?vn(e.nextPieces[0].color):"transparent",border:P?"1px solid rgba(255,255,255,0.3)":"none"},children:P&&e.nextPieces[0].emoji?h.jsx("span",{className:"text-[6px] leading-none block text-center",children:e.nextPieces[0].emoji}):null},`next-${E}-${b}`)))}):h.jsx("div",{className:"w-8 h-6 flex items-center justify-center",children:h.jsx("span",{className:"text-xs text-white/40",children:"?"})})})]})]}),h.jsxs("div",{className:"flex items-center justify-center flex-1 relative px-1",children:[h.jsxs("div",{className:"flex flex-col gap-1 mr-2",children:[h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onTouchStart:C=>{C.preventDefault(),r.rotatePiece()},onClick:()=>r.rotatePiece(),disabled:e.gameOver,className:"bg-blue-500 text-white p-4 rounded-full shadow-lg hover:bg-blue-600 disabled:opacity-50 touch-manipulation text-lg",children:""}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onTouchStart:C=>{C.preventDefault(),r.movePiece("left")},onClick:()=>r.movePiece("left"),disabled:e.gameOver,className:"bg-gray-600 text-white p-4 rounded-lg shadow-lg hover:bg-gray-700 disabled:opacity-50 touch-manipulation text-lg",children:""})]}),h.jsx("div",{className:"flex-shrink-0 mx-1",children:h.jsx(cp,{board:e.board,currentPiece:e.currentPiece,dropPreview:c,gameOver:e.gameOver})}),h.jsxs("div",{className:"flex flex-col gap-1 ml-2",children:[h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onTouchStart:C=>{C.preventDefault(),m()},onClick:m,disabled:e.gameOver||u.hardDrop,className:`text-white p-4 rounded-full shadow-lg disabled:opacity-50 touch-manipulation text-lg ${u.hardDrop?"bg-red-400":"bg-red-500 hover:bg-red-600"}`,children:""}),h.jsx(N.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onTouchStart:C=>{C.preventDefault(),r.movePiece("right")},onClick:()=>r.movePiece("right"),disabled:e.gameOver,className:"bg-gray-600 text-white p-4 rounded-lg shadow-lg hover:bg-gray-700 disabled:opacity-50 touch-manipulation text-lg",children:""})]})]}),h.jsxs("div",{className:"flex justify-center gap-2 py-2 px-2",children:[h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onTouchStart:C=>{C.preventDefault(),r.movePiece("down")},onClick:()=>r.movePiece("down"),disabled:e.gameOver,className:"bg-gray-700 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-gray-600 disabled:opacity-50 touch-manipulation",children:l("game.accelerate")}),e.canHold&&h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onTouchStart:C=>{C.preventDefault(),v()},onClick:v,disabled:e.gameOver||!e.canHold||u.hold,className:`text-white px-4 py-2 rounded-lg shadow-lg disabled:opacity-50 touch-manipulation ${u.hold?"bg-green-400":e.canHold?"bg-green-600 hover:bg-green-500":"bg-gray-500"}`,children:l("game.hold")}),h.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onTouchStart:C=>{C.preventDefault(),y()},onClick:y,disabled:e.gameOver||u.pause,className:`text-white px-4 py-2 rounded-lg shadow-lg disabled:opacity-50 touch-manipulation ${u.pause?"bg-yellow-400":"bg-yellow-500 hover:bg-yellow-600"}`,children:e.isPaused?"":""})]})]})]}),h.jsx(ze,{children:e.gameOver&&h.jsx(gS,{score:e.score,onRestart:s,onBackToMenu:n})}),h.jsx(ET,{isConnected:i,controllerCount:o,gamepadInfo:a()})]})]})}function OT(){const[e,r]=w.useState("menu"),[n,s]=w.useState(!1),[i,o]=w.useState(!1),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[d,p]=w.useState(!1),[m,v]=w.useState(!1),[y,T]=w.useState(!1),[k,x]=w.useState(!0),[f,g]=w.useState(!1),[S,C]=w.useState(null),[b,P]=w.useState(null),[E,M]=w.useState(!1),[_,B]=w.useState(!1),{gameState:L,actions:U}=gT();de.useEffect(()=>{_t.setGameStateProvider(()=>{try{return G.resolve("gameService").getGameState()}catch{return null}})},[]);const{settings:I,updateSettings:we}=yT(),{startBackgroundMusic:j,startGameMusic:q,stopMusic:D}=ST(),H=de.useMemo(()=>U?{...U,togglePause:()=>{var Y,J;L!=null&&L.isPaused?(Y=U.resume)==null||Y.call(U):(J=U.pause)==null||J.call(U)},isGameOver:()=>(L==null?void 0:L.gameOver)??!1,backToMenu:()=>{B(!1),P(null),M(!1),r("menu"),I!=null&&I.soundEnabled&&(j==null||j()),L&&!L.gameOver&&U.pause()}}:null,[U,L==null?void 0:L.isPaused,L==null?void 0:L.gameOver,I==null?void 0:I.soundEnabled,j]),{isGamepadActive:O,controllerCount:z,processGamepadInput:W,getGamepadInfo:be}=TT(H);sg(),bT(),og(),CT(),kT(),PT(),wT();const ee=e==="game",{setDAS:oe,setARR:Q}=vT(U,L,ee);de.useEffect(()=>{(I==null?void 0:I.das)!=null&&oe(I.das),(I==null?void 0:I.arr)!=null&&Q(I.arr)},[I==null?void 0:I.das,I==null?void 0:I.arr,oe,Q]),de.useEffect(()=>{const Y=J=>{try{G.resolve("gameService").setGameMode(J.detail.mode)}catch{}};return window.addEventListener("gameModeChanged",Y),()=>window.removeEventListener("gameModeChanged",Y)},[]),de.useEffect(()=>{L&&!L.gameOver&&L.score.points>0&&L.isPlaying?o(!0):o(!1)},[L]),de.useEffect(()=>(j&&D&&(I!=null&&I.soundEnabled)?e==="menu"?j():e==="game"&&q():D(),()=>{D()}),[e,I==null?void 0:I.soundEnabled,j,q,D]);const Oe=n||d||a||c||m||y||f;de.useEffect(()=>{if(O&&e==="game"&&!Oe&&!(L!=null&&L.gameOver)){const Y=setInterval(()=>{W()},16);return()=>clearInterval(Y)}},[O,e,W,Oe,L==null?void 0:L.gameOver]);const Dt=Y=>{we(Y),Y.das!=null&&oe(Y.das),Y.arr!=null&&Q(Y.arr),Y.soundEnabled?e==="menu"?j==null||j():e==="game"&&(q==null||q()):D==null||D()},ce=()=>{r("game"),I!=null&&I.soundEnabled&&(q==null||q()),L!=null&&L.gameOver?U.restart():L!=null&&L.isPaused?U.resume():L!=null&&L.isPlaying||U.restart()},Ve=()=>{r("game"),I!=null&&I.soundEnabled&&(q==null||q()),L!=null&&L.isPaused&&U.resume()},Se=()=>{r("game"),I!=null&&I.soundEnabled&&(q==null||q()),U.restart()},Kt=()=>{U.restart(),r("game")},qr=()=>{r("menu"),I!=null&&I.soundEnabled&&(j==null||j()),L&&!L.gameOver&&U.pause()};return _?h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(LT,{onExit:()=>B(!1)})}):E?h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(DT,{onClose:()=>M(!1)})}):b?h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(MT,{mode:b.mode,aiDifficulty:b.aiDifficulty,ai1Difficulty:b.ai1Difficulty,ai2Difficulty:b.ai2Difficulty,onExit:()=>{P(null),r("menu")}})}):e==="menu"?h.jsxs(h.Fragment,{children:[h.jsx(cT,{onStartGame:i?Ve:ce,onNewGame:Se,onShowSettings:()=>s(!0),onShowGameModes:()=>v(!0),onShowShop:()=>p(!0),onShowMissions:()=>l(!0),onShowAchievements:()=>u(!0),onShowMultiplayer:()=>T(!0),onShowTutorial:()=>x(!0),onShowTutorialHub:()=>g(!0),onShowAIShowcase:()=>M(!0),onShowCreatorMode:()=>B(!0),hasActiveGame:i,gameState:L,hasOverlayOpen:Oe}),h.jsx(ze,{children:y&&h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(_T,{onClose:()=>T(!1),onStartMatch:Y=>{T(!1),P(Y)}})})}),h.jsx(ze,{children:m&&h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(RT,{onClose:()=>v(!1),onStartGame:Se})})}),h.jsx(ze,{children:d&&h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(jT,{onClose:()=>p(!1)})})}),h.jsx(ze,{children:a&&h.jsx(dT,{onClose:()=>l(!1)})}),h.jsx(ze,{children:c&&h.jsx(pT,{onClose:()=>u(!1)})}),h.jsx(ze,{children:f&&h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(NT,{tutorialService:G.resolve("tutorialService"),onClose:()=>g(!1),onLessonComplete:Y=>{if(!(!Y||!Y.rewards)){try{const J=G.resolve("currencyService");Y.rewards.fishCoins&&J.addFish(Y.rewards.fishCoins,`Tutorial: ${Y.lessonTitle||"Lesson"}`)}catch{}try{Y.rewards.xp&&G.resolve("playerStatsService").incrementStat("totalPlayTime",Y.rewards.xp)}catch{}try{if(Y.rewards.achievement){const J=G.resolve("achievementsService"),ke=G.resolve("playerStatsService");J.checkAchievements(ke.getStats())}}catch{}C(Y)}}})})}),h.jsx(ze,{children:h.jsx(w.Suspense,{fallback:h.jsx(Qt,{}),children:h.jsx(AT,{isOpen:n,settings:I||{},onSettingsChange:Dt,onClose:()=>s(!1)})})}),h.jsx(hT,{}),h.jsx(ze,{children:S&&h.jsx(mT,{reward:S,onClose:()=>C(null)})})]}):L?h.jsxs(h.Fragment,{children:[h.jsx(IT,{gameState:L,actions:U,onBackToMenu:qr,onRestart:Kt,isGamepadActive:O,controllerCount:z,getGamepadInfo:be}),h.jsx(ze,{children:k&&h.jsx(fT,{onComplete:()=>x(!1)})})]}):h.jsx("div",{className:"h-screen cat-bg flex items-center justify-center overflow-hidden",children:h.jsx("div",{className:"text-white text-xl",children:t("common.loading")})})}function VT(){return h.jsxs(CS,{children:[h.jsx(OT,{}),h.jsx(uT,{})]})}function FT(e={}){const{immediate:r=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e;let l,c;const u=async(p=!0)=>{await c};async function d(){if("serviceWorker"in navigator){if(l=await Mt(()=>import("./workbox-window.prod.es5-5ffdab76.js"),[]).then(({Workbox:p})=>new p("/cat-tetris/sw.js",{scope:"/cat-tetris/",type:"classic"})).catch(p=>{a==null||a(p)}),!l)return;l.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),l.addEventListener("installed",p=>{p.isUpdate||s==null||s()}),l.register({immediate:r}).then(p=>{o?o("/cat-tetris/sw.js",p):i==null||i(p)}).catch(p=>{a==null||a(p)})}}return c=d(),u}FT({onRegisteredSW(e,r){r&&(setInterval(()=>{r.update()},60*60*1e3),"periodicSync"in r&&r.periodicSync.register("content-sync",{minInterval:24*60*60*1e3}).catch(()=>{}))},onOfflineReady(){console.log("Cat Tetris pronto para uso offline!")}});xa.createRoot(document.getElementById("root")).render(h.jsx(dS,{children:h.jsx(VT,{})}));export{ze as A,HT as B,aT as C,yp as D,PT as E,vT as F,$T as G,wS as H,JT as K,GT as M,vS as N,zS as P,de as R,rg as S,cp as T,mp as a,qT as b,YT as c,Vs as d,UT as e,QT as f,G as g,DS as h,HS as i,h as j,KT as k,El as l,N as m,nT as n,fp as o,TT as p,ET as q,w as r,WT as s,hS as t,$e as u,R as v,F as w,Nr as x,Vt as y,kT as z};
